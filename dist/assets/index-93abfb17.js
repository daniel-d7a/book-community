function qN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LS={exports:{}},Ih={},MS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),HN=Symbol.for("react.portal"),WN=Symbol.for("react.fragment"),KN=Symbol.for("react.strict_mode"),GN=Symbol.for("react.profiler"),QN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),YN=Symbol.for("react.forward_ref"),XN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),eA=Symbol.for("react.lazy"),X0=Symbol.iterator;function tA(t){return t===null||typeof t!="object"?null:(t=X0&&t[X0]||t["@@iterator"],typeof t=="function"?t:null)}var $S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},US=Object.assign,VS={};function sa(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||$S}sa.prototype.isReactComponent={};sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FS(){}FS.prototype=sa.prototype;function ay(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||$S}var ly=ay.prototype=new FS;ly.constructor=ay;US(ly,sa.prototype);ly.isPureReactComponent=!0;var J0=Array.isArray,BS=Object.prototype.hasOwnProperty,uy={current:null},zS={key:!0,ref:!0,__self:!0,__source:!0};function jS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)BS.call(e,r)&&!zS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Su,type:t,key:i,ref:o,props:s,_owner:uy.current}}function nA(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function rA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var e1=/\/+/g;function tp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rA(""+t.key):e.toString(36)}function qc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case HN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+tp(o,0):r,J0(s)?(n="",t!=null&&(n=t.replace(e1,"$&/")+"/"),qc(s,e,n,"",function(u){return u})):s!=null&&(cy(s)&&(s=nA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(e1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",J0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+tp(i,a);o+=qc(i,e,n,l,s)}else if(l=tA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+tp(i,a++),o+=qc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(t,e,n){if(t==null)return t;var r=[],s=0;return qc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function sA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Hc={transition:null},iA={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:uy};Pe.Children={map:cc,forEach:function(t,e,n){cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cc(t,function(){e++}),e},toArray:function(t){return cc(t,function(e){return e})||[]},only:function(t){if(!cy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=sa;Pe.Fragment=WN;Pe.Profiler=GN;Pe.PureComponent=ay;Pe.StrictMode=KN;Pe.Suspense=XN;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=US({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=uy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BS.call(e,l)&&!zS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Su,type:t.type,key:s,ref:i,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:ZN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QN,_context:t},t.Consumer=t};Pe.createElement=jS;Pe.createFactory=function(t){var e=jS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:YN,render:t}};Pe.isValidElement=cy;Pe.lazy=function(t){return{$$typeof:eA,_payload:{_status:-1,_result:t},_init:sA}};Pe.memo=function(t,e){return{$$typeof:JN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Hc.transition;Hc.transition={};try{t()}finally{Hc.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return mn.current.useCallback(t,e)};Pe.useContext=function(t){return mn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return mn.current.useEffect(t,e)};Pe.useId=function(){return mn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return mn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Pe.useRef=function(t){return mn.current.useRef(t)};Pe.useState=function(t){return mn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return mn.current.useTransition()};Pe.version="18.2.0";MS.exports=Pe;var $=MS.exports;const Ie=PS($),oA=qN({__proto__:null,default:Ie},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=$,lA=Symbol.for("react.element"),uA=Symbol.for("react.fragment"),cA=Object.prototype.hasOwnProperty,dA=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hA={key:!0,ref:!0,__self:!0,__source:!0};function qS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cA.call(e,r)&&!hA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lA,type:t,key:i,ref:o,props:s,_owner:dA.current}}Ih.Fragment=uA;Ih.jsx=qS;Ih.jsxs=qS;LS.exports=Ih;var dy=LS.exports;const Rl=dy.Fragment,T=dy.jsx,ie=dy.jsxs;var hm={},HS={exports:{}},Pn={},WS={exports:{}},KS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,oe){var ce=B.length;B.push(oe);e:for(;0<ce;){var Fe=ce-1>>>1,R=B[Fe];if(0<s(R,oe))B[Fe]=oe,B[ce]=R,ce=Fe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var oe=B[0],ce=B.pop();if(ce!==oe){B[0]=ce;e:for(var Fe=0,R=B.length,O=R>>>1;Fe<O;){var P=2*(Fe+1)-1,ne=B[P],j=P+1,ge=B[j];if(0>s(ne,ce))j<R&&0>s(ge,ne)?(B[Fe]=ge,B[j]=ce,Fe=j):(B[Fe]=ne,B[P]=ce,Fe=P);else if(j<R&&0>s(ge,ce))B[Fe]=ge,B[j]=ce,Fe=j;else break e}}return oe}function s(B,oe){var ce=B.sortIndex-oe.sortIndex;return ce!==0?ce:B.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=B)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function S(B){if(v=!1,g(B),!m)if(n(l)!==null)m=!0,je(I);else{var oe=n(u);oe!==null&&We(S,oe.startTime-B)}}function I(B,oe){m=!1,v&&(v=!1,y(b),b=-1),p=!0;var ce=h;try{for(g(oe),d=n(l);d!==null&&(!(d.expirationTime>oe)||B&&!Ve());){var Fe=d.callback;if(typeof Fe=="function"){d.callback=null,h=d.priorityLevel;var R=Fe(d.expirationTime<=oe);oe=t.unstable_now(),typeof R=="function"?d.callback=R:d===n(l)&&r(l),g(oe)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var P=n(u);P!==null&&We(S,P.startTime-oe),O=!1}return O}finally{d=null,h=ce,p=!1}}var N=!1,A=null,b=-1,X=5,ee=-1;function Ve(){return!(t.unstable_now()-ee<X)}function Te(){if(A!==null){var B=t.unstable_now();ee=B;var oe=!0;try{oe=A(!0,B)}finally{oe?K():(N=!1,A=null)}}else N=!1}var K;if(typeof f=="function")K=function(){f(Te)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ye=we.port2;we.port1.onmessage=Te,K=function(){Ye.postMessage(null)}}else K=function(){w(Te,0)};function je(B){A=B,N||(N=!0,K())}function We(B,oe){b=w(function(){B(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,je(I))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var ce=h;h=oe;try{return B()}finally{h=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,oe){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=h;h=B;try{return oe()}finally{h=ce}},t.unstable_scheduleCallback=function(B,oe,ce){var Fe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Fe+ce:Fe):ce=Fe,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ce+R,B={id:c++,callback:oe,priorityLevel:B,startTime:ce,expirationTime:R,sortIndex:-1},ce>Fe?(B.sortIndex=ce,e(u,B),n(l)===null&&B===n(u)&&(v?(y(b),b=-1):v=!0,We(S,ce-Fe))):(B.sortIndex=R,e(l,B),m||p||(m=!0,je(I))),B},t.unstable_shouldYield=Ve,t.unstable_wrapCallback=function(B){var oe=h;return function(){var ce=h;h=oe;try{return B.apply(this,arguments)}finally{h=ce}}}})(KS);WS.exports=KS;var fA=WS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS=$,Dn=fA;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QS=new Set,kl={};function Mi(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(kl[t]=e,t=0;t<e.length;t++)QS.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=Object.prototype.hasOwnProperty,pA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t1={},n1={};function mA(t){return fm.call(n1,t)?!0:fm.call(t1,t)?!1:pA.test(t)?n1[t]=!0:(t1[t]=!0,!1)}function gA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yA(t,e,n,r){if(e===null||typeof e>"u"||gA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hy,fy);Wt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hy,fy);Wt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hy,fy);Wt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yA(e,n,s,r)&&(n=null),r||s===null?mA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=GS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),YS=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),gm=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),XS=Symbol.for("react.offscreen"),r1=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,np;function Wa(t){if(np===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);np=e&&e[1]||""}return`
`+np+t}var rp=!1;function sp(t,e){if(!t||rp)return"";rp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wa(t):""}function vA(t){switch(t.tag){case 5:return Wa(t.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 2:case 15:return t=sp(t.type,!1),t;case 11:return t=sp(t.type.render,!1),t;case 1:return t=sp(t.type,!0),t;default:return""}}function ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case pm:return"Profiler";case my:return"StrictMode";case mm:return"Suspense";case gm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YS:return(t.displayName||"Context")+".Consumer";case ZS:return(t._context.displayName||"Context")+".Provider";case gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yy:return e=t.displayName||null,e!==null?e:ym(t.type)||"Memo";case as:e=t._payload,t=t._init;try{return ym(t(e))}catch{}}return null}function _A(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ym(e);case 8:return e===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wA(t){var e=JS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=wA(t))}function eE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vm(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function s1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tE(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function _m(t,e){tE(t,e);var n=Ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&wm(t,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wm(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ka=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(Ka(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ms(n)}}function nE(t,e){var n=Ms(e.value),r=Ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function a1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,sE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SA=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){SA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function iE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function oE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=iE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EA=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tm(t,e){if(e){if(EA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var km=null,yo=null,vo=null;function l1(t){if(t=Cu(t)){if(typeof km!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Dh(e),km(t.stateNode,t.type,e))}}function aE(t){yo?vo?vo.push(t):vo=[t]:yo=t}function lE(){if(yo){var t=yo,e=vo;if(vo=yo=null,l1(t),e)for(t=0;t<e.length;t++)l1(e[t])}}function uE(t,e){return t(e)}function cE(){}var ip=!1;function dE(t,e,n){if(ip)return t(e,n);ip=!0;try{return uE(t,e,n)}finally{ip=!1,(yo!==null||vo!==null)&&(cE(),lE())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=Dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Im=!1;if(Wr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Im=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Im=!1}function TA(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var al=!1,md=null,gd=!1,Nm=null,CA={onError:function(t){al=!0,md=t}};function RA(t,e,n,r,s,i,o,a,l){al=!1,md=null,TA.apply(CA,arguments)}function kA(t,e,n,r,s,i,o,a,l){if(RA.apply(this,arguments),al){if(al){var u=md;al=!1,md=null}else throw Error(M(198));gd||(gd=!0,Nm=u)}}function $i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u1(t){if($i(t)!==t)throw Error(M(188))}function IA(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return u1(s),t;if(i===r)return u1(s),e;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function fE(t){return t=IA(t),t!==null?pE(t):null}function pE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pE(t);if(e!==null)return e;t=t.sibling}return null}var mE=Dn.unstable_scheduleCallback,c1=Dn.unstable_cancelCallback,NA=Dn.unstable_shouldYield,AA=Dn.unstable_requestPaint,Tt=Dn.unstable_now,bA=Dn.unstable_getCurrentPriorityLevel,_y=Dn.unstable_ImmediatePriority,gE=Dn.unstable_UserBlockingPriority,yd=Dn.unstable_NormalPriority,xA=Dn.unstable_LowPriority,yE=Dn.unstable_IdlePriority,Nh=null,Sr=null;function DA(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:LA,OA=Math.log,PA=Math.LN2;function LA(t){return t>>>=0,t===0?32:31-(OA(t)/PA|0)|0}var pc=64,mc=4194304;function Ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ga(a):(i&=o,i!==0&&(r=Ga(i)))}else o=n&~s,o!==0?r=Ga(o):i!==0&&(r=Ga(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function MA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $A(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=MA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vE(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function op(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function UA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var qe=0;function _E(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wE,Sy,SE,EE,TE,bm=!1,gc=[],Cs=null,Rs=null,ks=null,Al=new Map,bl=new Map,ds=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d1(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(e.pointerId)}}function xa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Cu(e),e!==null&&Sy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FA(t,e,n,r,s){switch(e){case"focusin":return Cs=xa(Cs,t,e,n,r,s),!0;case"dragenter":return Rs=xa(Rs,t,e,n,r,s),!0;case"mouseover":return ks=xa(ks,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Al.set(i,xa(Al.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,bl.set(i,xa(bl.get(i)||null,t,e,n,r,s)),!0}return!1}function CE(t){var e=ri(t.target);if(e!==null){var n=$i(e);if(n!==null){if(e=n.tag,e===13){if(e=hE(n),e!==null){t.blockedOn=e,TE(t.priority,function(){SE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rm=r,n.target.dispatchEvent(r),Rm=null}else return e=Cu(n),e!==null&&Sy(e),t.blockedOn=n,!1;e.shift()}return!0}function h1(t,e,n){Wc(t)&&n.delete(e)}function BA(){bm=!1,Cs!==null&&Wc(Cs)&&(Cs=null),Rs!==null&&Wc(Rs)&&(Rs=null),ks!==null&&Wc(ks)&&(ks=null),Al.forEach(h1),bl.forEach(h1)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,bm||(bm=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,BA)))}function xl(t){function e(s){return Da(s,t)}if(0<gc.length){Da(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cs!==null&&Da(Cs,t),Rs!==null&&Da(Rs,t),ks!==null&&Da(ks,t),Al.forEach(e),bl.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&ds.shift()}var _o=ns.ReactCurrentBatchConfig,_d=!0;function zA(t,e,n,r){var s=qe,i=_o.transition;_o.transition=null;try{qe=1,Ey(t,e,n,r)}finally{qe=s,_o.transition=i}}function jA(t,e,n,r){var s=qe,i=_o.transition;_o.transition=null;try{qe=4,Ey(t,e,n,r)}finally{qe=s,_o.transition=i}}function Ey(t,e,n,r){if(_d){var s=xm(t,e,n,r);if(s===null)gp(t,e,r,wd,n),d1(t,r);else if(FA(s,t,e,n,r))r.stopPropagation();else if(d1(t,r),e&4&&-1<VA.indexOf(t)){for(;s!==null;){var i=Cu(s);if(i!==null&&wE(i),i=xm(t,e,n,r),i===null&&gp(t,e,r,wd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gp(t,e,r,null,n)}}var wd=null;function xm(t,e,n,r){if(wd=null,t=vy(r),t=ri(t),t!==null)if(e=$i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wd=t,null}function RE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bA()){case _y:return 1;case gE:return 4;case yd:case xA:return 16;case yE:return 536870912;default:return 16}default:return 16}}var _s=null,Ty=null,Kc=null;function kE(){if(Kc)return Kc;var t,e=Ty,n=e.length,r,s="value"in _s?_s.value:_s.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Kc=s.slice(t,1<r?1-r:void 0)}function Gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function f1(){return!1}function Ln(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yc:f1,this.isPropagationStopped=f1,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=Ln(ia),Tu=ft({},ia,{view:0,detail:0}),qA=Ln(Tu),ap,lp,Oa,Ah=ft({},Tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ry,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(ap=t.screenX-Oa.screenX,lp=t.screenY-Oa.screenY):lp=ap=0,Oa=t),ap)},movementY:function(t){return"movementY"in t?t.movementY:lp}}),p1=Ln(Ah),HA=ft({},Ah,{dataTransfer:0}),WA=Ln(HA),KA=ft({},Tu,{relatedTarget:0}),up=Ln(KA),GA=ft({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),QA=Ln(GA),ZA=ft({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YA=Ln(ZA),XA=ft({},ia,{data:0}),m1=Ln(XA),JA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tb[t])?!!e[t]:!1}function Ry(){return nb}var rb=ft({},Tu,{key:function(t){if(t.key){var e=JA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ry,charCode:function(t){return t.type==="keypress"?Gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sb=Ln(rb),ib=ft({},Ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g1=Ln(ib),ob=ft({},Tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ry}),ab=Ln(ob),lb=ft({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),ub=Ln(lb),cb=ft({},Ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),db=Ln(cb),hb=[9,13,27,32],ky=Wr&&"CompositionEvent"in window,ll=null;Wr&&"documentMode"in document&&(ll=document.documentMode);var fb=Wr&&"TextEvent"in window&&!ll,IE=Wr&&(!ky||ll&&8<ll&&11>=ll),y1=String.fromCharCode(32),v1=!1;function NE(t,e){switch(t){case"keyup":return hb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function pb(t,e){switch(t){case"compositionend":return AE(e);case"keypress":return e.which!==32?null:(v1=!0,y1);case"textInput":return t=e.data,t===y1&&v1?null:t;default:return null}}function mb(t,e){if(no)return t==="compositionend"||!ky&&NE(t,e)?(t=kE(),Kc=Ty=_s=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IE&&e.locale!=="ko"?null:e.data;default:return null}}var gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gb[t.type]:e==="textarea"}function bE(t,e,n,r){aE(r),e=Sd(e,"onChange"),0<e.length&&(n=new Cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ul=null,Dl=null;function yb(t){BE(t,0)}function bh(t){var e=io(t);if(eE(e))return t}function vb(t,e){if(t==="change")return e}var xE=!1;if(Wr){var cp;if(Wr){var dp="oninput"in document;if(!dp){var w1=document.createElement("div");w1.setAttribute("oninput","return;"),dp=typeof w1.oninput=="function"}cp=dp}else cp=!1;xE=cp&&(!document.documentMode||9<document.documentMode)}function S1(){ul&&(ul.detachEvent("onpropertychange",DE),Dl=ul=null)}function DE(t){if(t.propertyName==="value"&&bh(Dl)){var e=[];bE(e,Dl,t,vy(t)),dE(yb,e)}}function _b(t,e,n){t==="focusin"?(S1(),ul=e,Dl=n,ul.attachEvent("onpropertychange",DE)):t==="focusout"&&S1()}function wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh(Dl)}function Sb(t,e){if(t==="click")return bh(e)}function Eb(t,e){if(t==="input"||t==="change")return bh(e)}function Tb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:Tb;function Ol(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fm.call(e,s)||!or(t[s],e[s]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T1(t,e){var n=E1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function OE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PE(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function Iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cb(t){var e=PE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OE(n.ownerDocument.documentElement,n)){if(r!==null&&Iy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=T1(n,i);var o=T1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rb=Wr&&"documentMode"in document&&11>=document.documentMode,ro=null,Dm=null,cl=null,Om=!1;function C1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||ro==null||ro!==pd(r)||(r=ro,"selectionStart"in r&&Iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cl&&Ol(cl,r)||(cl=r,r=Sd(Dm,"onSelect"),0<r.length&&(e=new Cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},hp={},LE={};Wr&&(LE=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function xh(t){if(hp[t])return hp[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LE)return hp[t]=e[n];return t}var ME=xh("animationend"),$E=xh("animationiteration"),UE=xh("animationstart"),VE=xh("transitionend"),FE=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(t,e){FE.set(t,e),Mi(e,[t])}for(var fp=0;fp<R1.length;fp++){var pp=R1[fp],kb=pp.toLowerCase(),Ib=pp[0].toUpperCase()+pp.slice(1);Hs(kb,"on"+Ib)}Hs(ME,"onAnimationEnd");Hs($E,"onAnimationIteration");Hs(UE,"onAnimationStart");Hs("dblclick","onDoubleClick");Hs("focusin","onFocus");Hs("focusout","onBlur");Hs(VE,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function k1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kA(r,e,void 0,t),t.currentTarget=null}function BE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;k1(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;k1(s,a,u),i=l}}}if(gd)throw t=Nm,gd=!1,Nm=null,t}function et(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(zE(e,t,2,!1),n.add(r))}function mp(t,e,n){var r=0;e&&(r|=4),zE(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Pl(t){if(!t[_c]){t[_c]=!0,QS.forEach(function(n){n!=="selectionchange"&&(Nb.has(n)||mp(n,!1,t),mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,mp("selectionchange",!1,e))}}function zE(t,e,n,r){switch(RE(e)){case 1:var s=zA;break;case 4:s=jA;break;default:s=Ey}n=s.bind(null,e,n,t),s=void 0,!Im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ri(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}dE(function(){var u=i,c=vy(n),d=[];e:{var h=FE.get(t);if(h!==void 0){var p=Cy,m=t;switch(t){case"keypress":if(Gc(n)===0)break e;case"keydown":case"keyup":p=sb;break;case"focusin":m="focus",p=up;break;case"focusout":m="blur",p=up;break;case"beforeblur":case"afterblur":p=up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=p1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ab;break;case ME:case $E:case UE:p=QA;break;case VE:p=ub;break;case"scroll":p=qA;break;case"wheel":p=db;break;case"copy":case"cut":case"paste":p=YA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=g1}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var f=u,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,y!==null&&(S=Nl(f,y),S!=null&&v.push(Ll(f,S,g)))),w)break;f=f.return}0<v.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Rm&&(m=n.relatedTarget||n.fromElement)&&(ri(m)||m[Kr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ri(m):null,m!==null&&(w=$i(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=p1,S="onMouseLeave",y="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=g1,S="onPointerLeave",y="onPointerEnter",f="pointer"),w=p==null?h:io(p),g=m==null?h:io(m),h=new v(S,f+"leave",p,n,c),h.target=w,h.relatedTarget=g,S=null,ri(c)===u&&(v=new v(y,f+"enter",m,n,c),v.target=g,v.relatedTarget=w,S=v),w=S,p&&m)t:{for(v=p,y=m,f=0,g=v;g;g=Ki(g))f++;for(g=0,S=y;S;S=Ki(S))g++;for(;0<f-g;)v=Ki(v),f--;for(;0<g-f;)y=Ki(y),g--;for(;f--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ki(v),y=Ki(y)}v=null}else v=null;p!==null&&I1(d,h,p,v,!1),m!==null&&w!==null&&I1(d,w,m,v,!0)}}e:{if(h=u?io(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=vb;else if(_1(h))if(xE)I=Eb;else{I=wb;var N=_b}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=Sb);if(I&&(I=I(t,u))){bE(d,I,n,c);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&wm(h,"number",h.value)}switch(N=u?io(u):window,t){case"focusin":(_1(N)||N.contentEditable==="true")&&(ro=N,Dm=u,cl=null);break;case"focusout":cl=Dm=ro=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,C1(d,n,c);break;case"selectionchange":if(Rb)break;case"keydown":case"keyup":C1(d,n,c)}var A;if(ky)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else no?NE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(IE&&n.locale!=="ko"&&(no||b!=="onCompositionStart"?b==="onCompositionEnd"&&no&&(A=kE()):(_s=c,Ty="value"in _s?_s.value:_s.textContent,no=!0)),N=Sd(u,b),0<N.length&&(b=new m1(b,t,null,n,c),d.push({event:b,listeners:N}),A?b.data=A:(A=AE(n),A!==null&&(b.data=A)))),(A=fb?pb(t,n):mb(t,n))&&(u=Sd(u,"onBeforeInput"),0<u.length&&(c=new m1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}BE(d,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nl(t,n),i!=null&&r.unshift(Ll(t,i,s)),i=Nl(t,e),i!=null&&r.push(Ll(t,i,s))),t=t.return}return r}function Ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Nl(n,i),l!=null&&o.unshift(Ll(n,l,a))):s||(l=Nl(n,i),l!=null&&o.push(Ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ab=/\r\n?/g,bb=/\u0000|\uFFFD/g;function N1(t){return(typeof t=="string"?t:""+t).replace(Ab,`
`).replace(bb,"")}function wc(t,e,n){if(e=N1(e),N1(t)!==e&&n)throw Error(M(425))}function Ed(){}var Pm=null,Lm=null;function Mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(t){return A1.resolve(null).then(t).catch(Ob)}:$m;function Ob(t){setTimeout(function(){throw t})}function yp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xl(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oa=Math.random().toString(36).slice(2),mr="__reactFiber$"+oa,Ml="__reactProps$"+oa,Kr="__reactContainer$"+oa,Um="__reactEvents$"+oa,Pb="__reactListeners$"+oa,Lb="__reactHandles$"+oa;function ri(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b1(t);t!==null;){if(n=t[mr])return n;t=b1(t)}return e}t=n,n=t.parentNode}return null}function Cu(t){return t=t[mr]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Dh(t){return t[Ml]||null}var Vm=[],oo=-1;function Ws(t){return{current:t}}function st(t){0>oo||(t.current=Vm[oo],Vm[oo]=null,oo--)}function Ze(t,e){oo++,Vm[oo]=t.current,t.current=e}var $s={},rn=Ws($s),Sn=Ws(!1),vi=$s;function Po(t,e){var n=t.type.contextTypes;if(!n)return $s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function Td(){st(Sn),st(rn)}function x1(t,e,n){if(rn.current!==$s)throw Error(M(168));Ze(rn,e),Ze(Sn,n)}function jE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(M(108,_A(t)||"Unknown",s));return ft({},n,r)}function Cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,vi=rn.current,Ze(rn,t),Ze(Sn,Sn.current),!0}function D1(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=jE(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,st(Sn),st(rn),Ze(rn,t)):st(Sn),Ze(Sn,n)}var $r=null,Oh=!1,vp=!1;function qE(t){$r===null?$r=[t]:$r.push(t)}function Mb(t){Oh=!0,qE(t)}function Ks(){if(!vp&&$r!==null){vp=!0;var t=0,e=qe;try{var n=$r;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$r=null,Oh=!1}catch(s){throw $r!==null&&($r=$r.slice(t+1)),mE(_y,Ks),s}finally{qe=e,vp=!1}}return null}var ao=[],lo=0,Rd=null,kd=0,Vn=[],Fn=0,_i=null,Ur=1,Vr="";function Js(t,e){ao[lo++]=kd,ao[lo++]=Rd,Rd=t,kd=e}function HE(t,e,n){Vn[Fn++]=Ur,Vn[Fn++]=Vr,Vn[Fn++]=_i,_i=t;var r=Ur;t=Vr;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-tr(e)+s|n<<s|r,Vr=i+t}else Ur=1<<i|n<<s|r,Vr=t}function Ny(t){t.return!==null&&(Js(t,1),HE(t,1,0))}function Ay(t){for(;t===Rd;)Rd=ao[--lo],ao[lo]=null,kd=ao[--lo],ao[lo]=null;for(;t===_i;)_i=Vn[--Fn],Vn[Fn]=null,Vr=Vn[--Fn],Vn[Fn]=null,Ur=Vn[--Fn],Vn[Fn]=null}var xn=null,Nn=null,lt=!1,Xn=null;function WE(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,Nn=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_i!==null?{id:Ur,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,Nn=null,!0):!1;default:return!1}}function Fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bm(t){if(lt){var e=Nn;if(e){var n=e;if(!O1(t,e)){if(Fm(t))throw Error(M(418));e=Is(n.nextSibling);var r=xn;e&&O1(t,e)?WE(r,n):(t.flags=t.flags&-4097|2,lt=!1,xn=t)}}else{if(Fm(t))throw Error(M(418));t.flags=t.flags&-4097|2,lt=!1,xn=t}}}function P1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function Sc(t){if(t!==xn)return!1;if(!lt)return P1(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mm(t.type,t.memoizedProps)),e&&(e=Nn)){if(Fm(t))throw KE(),Error(M(418));for(;e;)WE(t,e),e=Is(e.nextSibling)}if(P1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=xn?Is(t.stateNode.nextSibling):null;return!0}function KE(){for(var t=Nn;t;)t=Is(t.nextSibling)}function Lo(){Nn=xn=null,lt=!1}function by(t){Xn===null?Xn=[t]:Xn.push(t)}var $b=ns.ReactCurrentBatchConfig;function Zn(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Id=Ws(null),Nd=null,uo=null,xy=null;function Dy(){xy=uo=Nd=null}function Oy(t){var e=Id.current;st(Id),t._currentValue=e}function zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Nd=t,xy=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(xy!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(Nd===null)throw Error(M(308));uo=t,Nd.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var si=null;function Py(t){si===null?si=[t]:si.push(t)}function GE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Py(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ls=!1;function Ly(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gr(t,n)}return s=r.interleaved,s===null?(e.next=e,Py(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}function L1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ad(t,e,n,r){var s=t.updateQueue;ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=ft({},d,h);break e;case 2:ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Si|=o,t.lanes=o,t.memoizedState=d}}function M1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var ZE=new GS.Component().refs;function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=bs(t),i=jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(nr(e,t,s,r),Qc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=bs(t),i=jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(nr(e,t,s,r),Qc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=bs(t),s=jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(nr(e,t,r,n),Qc(e,t,r))}};function $1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ol(n,r)||!Ol(s,i):!0}function YE(t,e,n){var r=!1,s=$s,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=En(e)?vi:rn.current,r=e.contextTypes,i=(r=r!=null)?Po(t,s):$s),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function U1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=ZE,Ly(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=En(e)?vi:rn.current,s.context=Po(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ph.enqueueReplaceState(s,s.state,null),Ad(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===ZE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Ec(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V1(t){var e=t._init;return e(t._payload)}function XE(t){function e(y,f){if(t){var g=y.deletions;g===null?(y.deletions=[f],y.flags|=16):g.push(f)}}function n(y,f){if(!t)return null;for(;f!==null;)e(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function s(y,f){return y=xs(y,f),y.index=0,y.sibling=null,y}function i(y,f,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<f?(y.flags|=2,f):g):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,f,g,S){return f===null||f.tag!==6?(f=Rp(g,y.mode,S),f.return=y,f):(f=s(f,g),f.return=y,f)}function l(y,f,g,S){var I=g.type;return I===to?c(y,f,g.props.children,S,g.key):f!==null&&(f.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===as&&V1(I)===f.type)?(S=s(f,g.props),S.ref=Pa(y,f,g),S.return=y,S):(S=td(g.type,g.key,g.props,null,y.mode,S),S.ref=Pa(y,f,g),S.return=y,S)}function u(y,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=kp(g,y.mode,S),f.return=y,f):(f=s(f,g.children||[]),f.return=y,f)}function c(y,f,g,S,I){return f===null||f.tag!==7?(f=hi(g,y.mode,S,I),f.return=y,f):(f=s(f,g),f.return=y,f)}function d(y,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Rp(""+f,y.mode,g),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case dc:return g=td(f.type,f.key,f.props,null,y.mode,g),g.ref=Pa(y,null,f),g.return=y,g;case eo:return f=kp(f,y.mode,g),f.return=y,f;case as:var S=f._init;return d(y,S(f._payload),g)}if(Ka(f)||Aa(f))return f=hi(f,y.mode,g,null),f.return=y,f;Ec(y,f)}return null}function h(y,f,g,S){var I=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return I!==null?null:a(y,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dc:return g.key===I?l(y,f,g,S):null;case eo:return g.key===I?u(y,f,g,S):null;case as:return I=g._init,h(y,f,I(g._payload),S)}if(Ka(g)||Aa(g))return I!==null?null:c(y,f,g,S,null);Ec(y,g)}return null}function p(y,f,g,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(g)||null,a(f,y,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dc:return y=y.get(S.key===null?g:S.key)||null,l(f,y,S,I);case eo:return y=y.get(S.key===null?g:S.key)||null,u(f,y,S,I);case as:var N=S._init;return p(y,f,g,N(S._payload),I)}if(Ka(S)||Aa(S))return y=y.get(g)||null,c(f,y,S,I,null);Ec(f,S)}return null}function m(y,f,g,S){for(var I=null,N=null,A=f,b=f=0,X=null;A!==null&&b<g.length;b++){A.index>b?(X=A,A=null):X=A.sibling;var ee=h(y,A,g[b],S);if(ee===null){A===null&&(A=X);break}t&&A&&ee.alternate===null&&e(y,A),f=i(ee,f,b),N===null?I=ee:N.sibling=ee,N=ee,A=X}if(b===g.length)return n(y,A),lt&&Js(y,b),I;if(A===null){for(;b<g.length;b++)A=d(y,g[b],S),A!==null&&(f=i(A,f,b),N===null?I=A:N.sibling=A,N=A);return lt&&Js(y,b),I}for(A=r(y,A);b<g.length;b++)X=p(A,y,b,g[b],S),X!==null&&(t&&X.alternate!==null&&A.delete(X.key===null?b:X.key),f=i(X,f,b),N===null?I=X:N.sibling=X,N=X);return t&&A.forEach(function(Ve){return e(y,Ve)}),lt&&Js(y,b),I}function v(y,f,g,S){var I=Aa(g);if(typeof I!="function")throw Error(M(150));if(g=I.call(g),g==null)throw Error(M(151));for(var N=I=null,A=f,b=f=0,X=null,ee=g.next();A!==null&&!ee.done;b++,ee=g.next()){A.index>b?(X=A,A=null):X=A.sibling;var Ve=h(y,A,ee.value,S);if(Ve===null){A===null&&(A=X);break}t&&A&&Ve.alternate===null&&e(y,A),f=i(Ve,f,b),N===null?I=Ve:N.sibling=Ve,N=Ve,A=X}if(ee.done)return n(y,A),lt&&Js(y,b),I;if(A===null){for(;!ee.done;b++,ee=g.next())ee=d(y,ee.value,S),ee!==null&&(f=i(ee,f,b),N===null?I=ee:N.sibling=ee,N=ee);return lt&&Js(y,b),I}for(A=r(y,A);!ee.done;b++,ee=g.next())ee=p(A,y,b,ee.value,S),ee!==null&&(t&&ee.alternate!==null&&A.delete(ee.key===null?b:ee.key),f=i(ee,f,b),N===null?I=ee:N.sibling=ee,N=ee);return t&&A.forEach(function(Te){return e(y,Te)}),lt&&Js(y,b),I}function w(y,f,g,S){if(typeof g=="object"&&g!==null&&g.type===to&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case dc:e:{for(var I=g.key,N=f;N!==null;){if(N.key===I){if(I=g.type,I===to){if(N.tag===7){n(y,N.sibling),f=s(N,g.props.children),f.return=y,y=f;break e}}else if(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===as&&V1(I)===N.type){n(y,N.sibling),f=s(N,g.props),f.ref=Pa(y,N,g),f.return=y,y=f;break e}n(y,N);break}else e(y,N);N=N.sibling}g.type===to?(f=hi(g.props.children,y.mode,S,g.key),f.return=y,y=f):(S=td(g.type,g.key,g.props,null,y.mode,S),S.ref=Pa(y,f,g),S.return=y,y=S)}return o(y);case eo:e:{for(N=g.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(y,f.sibling),f=s(f,g.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else e(y,f);f=f.sibling}f=kp(g,y.mode,S),f.return=y,y=f}return o(y);case as:return N=g._init,w(y,f,N(g._payload),S)}if(Ka(g))return m(y,f,g,S);if(Aa(g))return v(y,f,g,S);Ec(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(y,f.sibling),f=s(f,g),f.return=y,y=f):(n(y,f),f=Rp(g,y.mode,S),f.return=y,y=f),o(y)):n(y,f)}return w}var Mo=XE(!0),JE=XE(!1),Ru={},Er=Ws(Ru),$l=Ws(Ru),Ul=Ws(Ru);function ii(t){if(t===Ru)throw Error(M(174));return t}function My(t,e){switch(Ze(Ul,e),Ze($l,t),Ze(Er,Ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Em(e,t)}st(Er),Ze(Er,e)}function $o(){st(Er),st($l),st(Ul)}function e2(t){ii(Ul.current);var e=ii(Er.current),n=Em(e,t.type);e!==n&&(Ze($l,t),Ze(Er,n))}function $y(t){$l.current===t&&(st(Er),st($l))}var dt=Ws(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _p=[];function Uy(){for(var t=0;t<_p.length;t++)_p[t]._workInProgressVersionPrimary=null;_p.length=0}var Zc=ns.ReactCurrentDispatcher,wp=ns.ReactCurrentBatchConfig,wi=0,ht=null,xt=null,Mt=null,xd=!1,dl=!1,Vl=0,Ub=0;function Kt(){throw Error(M(321))}function Vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function Fy(t,e,n,r,s,i){if(wi=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zc.current=t===null||t.memoizedState===null?zb:jb,t=n(r,s),dl){i=0;do{if(dl=!1,Vl=0,25<=i)throw Error(M(301));i+=1,Mt=xt=null,e.updateQueue=null,Zc.current=qb,t=n(r,s)}while(dl)}if(Zc.current=Dd,e=xt!==null&&xt.next!==null,wi=0,Mt=xt=ht=null,xd=!1,e)throw Error(M(300));return t}function By(){var t=Vl!==0;return Vl=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Wn(){if(xt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Mt===null?ht.memoizedState:Mt.next;if(e!==null)Mt=e,xt=t;else{if(t===null)throw Error(M(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Mt===null?ht.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Fl(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ht.lanes|=c,Si|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,or(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ht.lanes|=i,Si|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ep(t){var e=Wn(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);or(i,e.memoizedState)||(wn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function t2(){}function n2(t,e){var n=ht,r=Wn(),s=e(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,wn=!0),r=r.queue,zy(i2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Bl(9,s2.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(M(349));wi&30||r2(n,e,s)}return s}function r2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s2(t,e,n,r){e.value=n,e.getSnapshot=r,o2(e)&&a2(t)}function i2(t,e,n){return n(function(){o2(e)&&a2(t)})}function o2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function a2(t){var e=Gr(t,1);e!==null&&nr(e,t,1,-1)}function F1(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=Bb.bind(null,ht,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l2(){return Wn().memoizedState}function Yc(t,e,n,r){var s=pr();ht.flags|=t,s.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function Lh(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&Vy(r,o.deps)){s.memoizedState=Bl(e,n,i,r);return}}ht.flags|=t,s.memoizedState=Bl(1|e,n,i,r)}function B1(t,e){return Yc(8390656,8,t,e)}function zy(t,e){return Lh(2048,8,t,e)}function u2(t,e){return Lh(4,2,t,e)}function c2(t,e){return Lh(4,4,t,e)}function d2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h2(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4,4,d2.bind(null,e,t),n)}function jy(){}function f2(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p2(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m2(t,e,n){return wi&21?(or(n,e)||(n=vE(),ht.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function Vb(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=wp.transition;wp.transition={};try{t(!1),e()}finally{qe=n,wp.transition=r}}function g2(){return Wn().memoizedState}function Fb(t,e,n){var r=bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y2(t))v2(e,n);else if(n=GE(t,e,n,r),n!==null){var s=hn();nr(n,t,r,s),_2(n,e,r)}}function Bb(t,e,n){var r=bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y2(t))v2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,or(a,o)){var l=e.interleaved;l===null?(s.next=s,Py(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=GE(t,e,s,r),n!==null&&(s=hn(),nr(n,t,r,s),_2(n,e,r))}}function y2(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function v2(t,e){dl=xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}var Dd={readContext:Hn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},zb={readContext:Hn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:B1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4194308,4,d2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yc(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fb.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:F1,useDebugValue:jy,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=F1(!1),e=t[0];return t=Vb.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,s=pr();if(lt){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),$t===null)throw Error(M(349));wi&30||r2(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,B1(i2.bind(null,r,i,t),[t]),r.flags|=2048,Bl(9,s2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pr(),e=$t.identifierPrefix;if(lt){var n=Vr,r=Ur;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ub++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jb={readContext:Hn,useCallback:f2,useContext:Hn,useEffect:zy,useImperativeHandle:h2,useInsertionEffect:u2,useLayoutEffect:c2,useMemo:p2,useReducer:Sp,useRef:l2,useState:function(){return Sp(Fl)},useDebugValue:jy,useDeferredValue:function(t){var e=Wn();return m2(e,xt.memoizedState,t)},useTransition:function(){var t=Sp(Fl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:t2,useSyncExternalStore:n2,useId:g2,unstable_isNewReconciler:!1},qb={readContext:Hn,useCallback:f2,useContext:Hn,useEffect:zy,useImperativeHandle:h2,useInsertionEffect:u2,useLayoutEffect:c2,useMemo:p2,useReducer:Ep,useRef:l2,useState:function(){return Ep(Fl)},useDebugValue:jy,useDeferredValue:function(t){var e=Wn();return xt===null?e.memoizedState=t:m2(e,xt.memoizedState,t)},useTransition:function(){var t=Ep(Fl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:t2,useSyncExternalStore:n2,useId:g2,unstable_isNewReconciler:!1};function Uo(t,e){try{var n="",r=e;do n+=vA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Tp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hb=typeof WeakMap=="function"?WeakMap:Map;function w2(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pd||(Pd=!0,tg=r),Hm(t,e)},n}function S2(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hm(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function z1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ix.bind(null,t,e,n),e.then(t,t))}function j1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var Wb=ns.ReactCurrentOwner,wn=!1;function un(t,e,n,r){e.child=t===null?JE(e,null,n,r):Mo(e,t.child,n,r)}function H1(t,e,n,r,s){n=n.render;var i=e.ref;return wo(e,s),r=Fy(t,e,n,r,i,s),n=By(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qr(t,e,s)):(lt&&n&&Ny(e),e.flags|=1,un(t,e,r,s),e.child)}function W1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Yy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,E2(t,e,i,r,s)):(t=td(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(o,r)&&t.ref===e.ref)return Qr(t,e,s)}return e.flags|=1,t=xs(i,r),t.ref=e.ref,t.return=e,e.child=t}function E2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ol(i,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Qr(t,e,s)}return Wm(t,e,n,r,s)}function T2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ho,In),In|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ho,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(ho,In),In|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(ho,In),In|=r;return un(t,e,s,n),e.child}function C2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wm(t,e,n,r,s){var i=En(n)?vi:rn.current;return i=Po(e,i),wo(e,s),n=Fy(t,e,n,r,i,s),r=By(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qr(t,e,s)):(lt&&r&&Ny(e),e.flags|=1,un(t,e,n,s),e.child)}function K1(t,e,n,r,s){if(En(n)){var i=!0;Cd(e)}else i=!1;if(wo(e,s),e.stateNode===null)Xc(t,e),YE(e,n,r),qm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=En(n)?vi:rn.current,u=Po(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&U1(e,o,r,u),ls=!1;var h=e.memoizedState;o.state=h,Ad(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Sn.current||ls?(typeof c=="function"&&(jm(e,n,c,r),l=e.memoizedState),(a=ls||$1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=En(n)?vi:rn.current,l=Po(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&U1(e,o,r,l),ls=!1,h=e.memoizedState,o.state=h,Ad(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||Sn.current||ls?(typeof p=="function"&&(jm(e,n,p,r),m=e.memoizedState),(u=ls||$1(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Km(t,e,n,r,i,s)}function Km(t,e,n,r,s,i){C2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&D1(e,n,!1),Qr(t,e,i);r=e.stateNode,Wb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mo(e,t.child,null,i),e.child=Mo(e,null,a,i)):un(t,e,a,i),e.memoizedState=r.state,s&&D1(e,n,!0),e.child}function R2(t){var e=t.stateNode;e.pendingContext?x1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&x1(t,e.context,!1),My(t,e.containerInfo)}function G1(t,e,n,r,s){return Lo(),by(s),e.flags|=256,un(t,e,n,r),e.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Qm(t){return{baseLanes:t,cachePool:null,transitions:null}}function k2(t,e,n){var r=e.pendingProps,s=dt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(dt,s&1),t===null)return Bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Uh(o,r,0,null),t=hi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qm(n),e.memoizedState=Gm,t):qy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Kb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xs(a,i):(i=hi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Qm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Gm,r}return i=t.child,t=i.sibling,r=xs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qy(t,e){return e=Uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tc(t,e,n,r){return r!==null&&by(r),Mo(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Tp(Error(M(422))),Tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Uh({mode:"visible",children:r.children},s,0,null),i=hi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mo(e,t.child,null,o),e.child.memoizedState=Qm(o),e.memoizedState=Gm,i);if(!(e.mode&1))return Tc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(M(419)),r=Tp(i,r,void 0),Tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=$t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gr(t,s),nr(r,t,s,-1))}return Zy(),r=Tp(Error(M(421))),Tc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ox.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nn=Is(s.nextSibling),xn=e,lt=!0,Xn=null,t!==null&&(Vn[Fn++]=Ur,Vn[Fn++]=Vr,Vn[Fn++]=_i,Ur=t.id,Vr=t.overflow,_i=e),e=qy(e,r.children),e.flags|=4096,e)}function Q1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zm(t.return,e,n)}function Cp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function I2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(un(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q1(t,n,e);else if(t.tag===19)Q1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(dt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Cp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Cp(e,!0,n,null,i);break;case"together":Cp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gb(t,e,n){switch(e.tag){case 3:R2(e),Lo();break;case 5:e2(e);break;case 1:En(e.type)&&Cd(e);break;case 4:My(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(Id,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?k2(t,e,n):(Ze(dt,dt.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Ze(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,T2(t,e,n)}return Qr(t,e,n)}var N2,Zm,A2,b2;N2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zm=function(){};A2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ii(Er.current);var i=null;switch(n){case"input":s=vm(t,s),r=vm(t,r),i=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":s=Sm(t,s),r=Sm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ed)}Tm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};b2=function(t,e,n,r){n!==r&&(e.flags|=4)};function La(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qb(t,e,n){var r=e.pendingProps;switch(Ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return En(e.type)&&Td(),Gt(e),null;case 3:return r=e.stateNode,$o(),st(Sn),st(rn),Uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(sg(Xn),Xn=null))),Zm(t,e),Gt(e),null;case 5:$y(e);var s=ii(Ul.current);if(n=e.type,t!==null&&e.stateNode!=null)A2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return Gt(e),null}if(t=ii(Er.current),Sc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[mr]=e,r[Ml]=i,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(s=0;s<Qa.length;s++)et(Qa[s],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":s1(r,i),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},et("invalid",r);break;case"textarea":o1(r,i),et("invalid",r)}Tm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),s=["children",""+a]):kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":hc(r),i1(r,i,!0);break;case"textarea":hc(r),a1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ed)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mr]=e,t[Ml]=r,N2(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cm(n,r),n){case"dialog":et("cancel",t),et("close",t),s=r;break;case"iframe":case"object":case"embed":et("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qa.length;s++)et(Qa[s],t);s=r;break;case"source":et("error",t),s=r;break;case"img":case"image":case"link":et("error",t),et("load",t),s=r;break;case"details":et("toggle",t),s=r;break;case"input":s1(t,r),s=vm(t,r),et("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),et("invalid",t);break;case"textarea":o1(t,r),s=Sm(t,r),et("invalid",t);break;default:s=r}Tm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?oE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&et("scroll",t):l!=null&&py(t,i,l,o))}switch(n){case"input":hc(t),i1(t,r,!1);break;case"textarea":hc(t),a1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?go(t,!!r.multiple,i,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)b2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=ii(Ul.current),ii(Er.current),Sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(i=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return Gt(e),null;case 13:if(st(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Nn!==null&&e.mode&1&&!(e.flags&128))KE(),Lo(),e.flags|=98560,i=!1;else if(i=Sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[mr]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else Xn!==null&&(sg(Xn),Xn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Dt===0&&(Dt=3):Zy())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return $o(),Zm(t,e),t===null&&Pl(e.stateNode.containerInfo),Gt(e),null;case 10:return Oy(e.type._context),Gt(e),null;case 17:return En(e.type)&&Td(),Gt(e),null;case 19:if(st(dt),i=e.memoizedState,i===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)La(i,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bd(t),o!==null){for(e.flags|=128,La(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(dt,dt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Tt()>Vo&&(e.flags|=128,r=!0,La(i,!1),e.lanes=4194304)}else{if(!r)if(t=bd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),La(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Gt(e),null}else 2*Tt()-i.renderingStartTime>Vo&&n!==1073741824&&(e.flags|=128,r=!0,La(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tt(),e.sibling=null,n=dt.current,Ze(dt,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return Qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function Zb(t,e){switch(Ay(e),e.tag){case 1:return En(e.type)&&Td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $o(),st(Sn),st(rn),Uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $y(e),null;case 13:if(st(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(dt),null;case 4:return $o(),null;case 10:return Oy(e.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var Cc=!1,Yt=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,Y=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Ym(t,e,n){try{n()}catch(r){gt(t,e,r)}}var Z1=!1;function Xb(t,e){if(Pm=_d,t=PE(),Iy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lm={focusedElem:t,selectionRange:n},_d=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,y=e.stateNode,f=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zn(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(S){gt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return m=Z1,Z1=!1,m}function hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ym(e,n,i)}s=s.next}while(s!==r)}}function Mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x2(t){var e=t.alternate;e!==null&&(t.alternate=null,x2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[Ml],delete e[Um],delete e[Pb],delete e[Lb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D2(t){return t.tag===5||t.tag===3||t.tag===4}function Y1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}var Bt=null,Yn=!1;function ss(t,e,n){for(n=n.child;n!==null;)O2(t,e,n),n=n.sibling}function O2(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:Yt||co(n,e);case 6:var r=Bt,s=Yn;Bt=null,ss(t,e,n),Bt=r,Yn=s,Bt!==null&&(Yn?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(Yn?(t=Bt,n=n.stateNode,t.nodeType===8?yp(t.parentNode,n):t.nodeType===1&&yp(t,n),xl(t)):yp(Bt,n.stateNode));break;case 4:r=Bt,s=Yn,Bt=n.stateNode.containerInfo,Yn=!0,ss(t,e,n),Bt=r,Yn=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ym(n,e,o),s=s.next}while(s!==r)}ss(t,e,n);break;case 1:if(!Yt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}ss(t,e,n);break;case 21:ss(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,ss(t,e,n),Yt=r):ss(t,e,n);break;default:ss(t,e,n)}}function X1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yb),e.forEach(function(r){var s=ax.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,Yn=!1;break e;case 3:Bt=a.stateNode.containerInfo,Yn=!0;break e;case 4:Bt=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(Bt===null)throw Error(M(160));O2(i,o,s),Bt=null,Yn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){gt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P2(e,t),e=e.sibling}function P2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),fr(t),r&4){try{hl(3,t,t.return),Mh(3,t)}catch(v){gt(t,t.return,v)}try{hl(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:Gn(e,t),fr(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(Gn(e,t),fr(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var s=t.stateNode;try{Il(s,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tE(s,i),Cm(a,o);var u=Cm(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?oE(s,d):c==="dangerouslySetInnerHTML"?sE(s,d):c==="children"?Il(s,d):py(s,c,d,u)}switch(a){case"input":_m(s,i);break;case"textarea":nE(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?go(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?go(s,!!i.multiple,i.defaultValue,!0):go(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ml]=i}catch(v){gt(t,t.return,v)}}break;case 6:if(Gn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(M(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){gt(t,t.return,v)}}break;case 3:if(Gn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xl(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:Gn(e,t),fr(t);break;case 13:Gn(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ky=Tt())),r&4&&X1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||c,Gn(e,t),Yt=u):Gn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:hl(4,h,h.return);break;case 1:co(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){e_(d);continue}}p!==null?(p.return=h,Y=p):e_(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iE("display",o))}catch(v){gt(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){gt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gn(e,t),fr(t),r&4&&X1(t);break;case 21:break;default:Gn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D2(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var i=Y1(t);eg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Y1(t);Jm(t,a,o);break;default:throw Error(M(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jb(t,e,n){Y=t,L2(t)}function L2(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Cc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=Cc;var u=Yt;if(Cc=o,(Yt=l)&&!u)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?t_(s):l!==null?(l.return=o,Y=l):t_(s);for(;i!==null;)Y=i,L2(i),i=i.sibling;Y=s,Cc=a,Yt=u}J1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):J1(t)}}function J1(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&M1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}M1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Yt||e.flags&512&&Xm(e)}catch(h){gt(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function e_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function t_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mh(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){gt(e,s,l)}}var i=e.return;try{Xm(e)}catch(l){gt(e,i,l)}break;case 5:var o=e.return;try{Xm(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var ex=Math.ceil,Od=ns.ReactCurrentDispatcher,Hy=ns.ReactCurrentOwner,jn=ns.ReactCurrentBatchConfig,Me=0,$t=null,Nt=null,qt=0,In=0,ho=Ws(0),Dt=0,zl=null,Si=0,$h=0,Wy=0,fl=null,vn=null,Ky=0,Vo=1/0,Mr=null,Pd=!1,tg=null,As=null,Rc=!1,ws=null,Ld=0,pl=0,ng=null,Jc=-1,ed=0;function hn(){return Me&6?Tt():Jc!==-1?Jc:Jc=Tt()}function bs(t){return t.mode&1?Me&2&&qt!==0?qt&-qt:$b.transition!==null?(ed===0&&(ed=vE()),ed):(t=qe,t!==0||(t=window.event,t=t===void 0?16:RE(t.type)),t):1}function nr(t,e,n,r){if(50<pl)throw pl=0,ng=null,Error(M(185));Eu(t,n,r),(!(Me&2)||t!==$t)&&(t===$t&&(!(Me&2)&&($h|=n),Dt===4&&hs(t,qt)),Tn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Vo=Tt()+500,Oh&&Ks()))}function Tn(t,e){var n=t.callbackNode;$A(t,e);var r=vd(t,t===$t?qt:0);if(r===0)n!==null&&c1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&c1(n),e===1)t.tag===0?Mb(n_.bind(null,t)):qE(n_.bind(null,t)),Db(function(){!(Me&6)&&Ks()}),n=null;else{switch(_E(r)){case 1:n=_y;break;case 4:n=gE;break;case 16:n=yd;break;case 536870912:n=yE;break;default:n=yd}n=j2(n,M2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M2(t,e){if(Jc=-1,ed=0,Me&6)throw Error(M(327));var n=t.callbackNode;if(So()&&t.callbackNode!==n)return null;var r=vd(t,t===$t?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Md(t,r);else{e=r;var s=Me;Me|=2;var i=U2();($t!==t||qt!==e)&&(Mr=null,Vo=Tt()+500,di(t,e));do try{rx();break}catch(a){$2(t,a)}while(1);Dy(),Od.current=i,Me=s,Nt!==null?e=0:($t=null,qt=0,e=Dt)}if(e!==0){if(e===2&&(s=Am(t),s!==0&&(r=s,e=rg(t,s))),e===1)throw n=zl,di(t,0),hs(t,r),Tn(t,Tt()),n;if(e===6)hs(t,r);else{if(s=t.current.alternate,!(r&30)&&!tx(s)&&(e=Md(t,r),e===2&&(i=Am(t),i!==0&&(r=i,e=rg(t,i))),e===1))throw n=zl,di(t,0),hs(t,r),Tn(t,Tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:ei(t,vn,Mr);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=Ky+500-Tt(),10<e)){if(vd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$m(ei.bind(null,t,vn,Mr),e);break}ei(t,vn,Mr);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ex(r/1960))-r,10<r){t.timeoutHandle=$m(ei.bind(null,t,vn,Mr),r);break}ei(t,vn,Mr);break;case 5:ei(t,vn,Mr);break;default:throw Error(M(329))}}}return Tn(t,Tt()),t.callbackNode===n?M2.bind(null,t):null}function rg(t,e){var n=fl;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=Md(t,e),t!==2&&(e=vn,vn=n,e!==null&&sg(e)),t}function sg(t){vn===null?vn=t:vn.push.apply(vn,t)}function tx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~Wy,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function n_(t){if(Me&6)throw Error(M(327));So();var e=vd(t,0);if(!(e&1))return Tn(t,Tt()),null;var n=Md(t,e);if(t.tag!==0&&n===2){var r=Am(t);r!==0&&(e=r,n=rg(t,r))}if(n===1)throw n=zl,di(t,0),hs(t,e),Tn(t,Tt()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ei(t,vn,Mr),Tn(t,Tt()),null}function Gy(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Vo=Tt()+500,Oh&&Ks())}}function Ei(t){ws!==null&&ws.tag===0&&!(Me&6)&&So();var e=Me;Me|=1;var n=jn.transition,r=qe;try{if(jn.transition=null,qe=1,t)return t()}finally{qe=r,jn.transition=n,Me=e,!(Me&6)&&Ks()}}function Qy(){In=ho.current,st(ho)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xb(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(Ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:$o(),st(Sn),st(rn),Uy();break;case 5:$y(r);break;case 4:$o();break;case 13:st(dt);break;case 19:st(dt);break;case 10:Oy(r.type._context);break;case 22:case 23:Qy()}n=n.return}if($t=t,Nt=t=xs(t.current,null),qt=In=e,Dt=0,zl=null,Wy=$h=Si=0,vn=fl=null,si!==null){for(e=0;e<si.length;e++)if(n=si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}si=null}return t}function $2(t,e){do{var n=Nt;try{if(Dy(),Zc.current=Dd,xd){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xd=!1}if(wi=0,Mt=xt=ht=null,dl=!1,Vl=0,Hy.current=null,n===null||n.return===null){Dt=1,zl=e,Nt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=j1(o);if(p!==null){p.flags&=-257,q1(p,o,a,i,e),p.mode&1&&z1(i,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){z1(i,u,e),Zy();break e}l=Error(M(426))}}else if(lt&&a.mode&1){var w=j1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),q1(w,o,a,i,e),by(Uo(l,a));break e}}i=l=Uo(l,a),Dt!==4&&(Dt=2),fl===null?fl=[i]:fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=w2(i,l,e);L1(i,y);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(As===null||!As.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=S2(i,a,e);L1(i,S);break e}}i=i.return}while(i!==null)}F2(n)}catch(I){e=I,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(1)}function U2(){var t=Od.current;return Od.current=Dd,t===null?Dd:t}function Zy(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),$t===null||!(Si&268435455)&&!($h&268435455)||hs($t,qt)}function Md(t,e){var n=Me;Me|=2;var r=U2();($t!==t||qt!==e)&&(Mr=null,di(t,e));do try{nx();break}catch(s){$2(t,s)}while(1);if(Dy(),Me=n,Od.current=r,Nt!==null)throw Error(M(261));return $t=null,qt=0,Dt}function nx(){for(;Nt!==null;)V2(Nt)}function rx(){for(;Nt!==null&&!NA();)V2(Nt)}function V2(t){var e=z2(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?F2(t):Nt=e,Hy.current=null}function F2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zb(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Nt=null;return}}else if(n=Qb(n,e,In),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Dt===0&&(Dt=5)}function ei(t,e,n){var r=qe,s=jn.transition;try{jn.transition=null,qe=1,sx(t,e,n,r)}finally{jn.transition=s,qe=r}return null}function sx(t,e,n,r){do So();while(ws!==null);if(Me&6)throw Error(M(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(UA(t,i),t===$t&&(Nt=$t=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,j2(yd,function(){return So(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var o=qe;qe=1;var a=Me;Me|=4,Hy.current=null,Xb(t,n),P2(n,t),Cb(Lm),_d=!!Pm,Lm=Pm=null,t.current=n,Jb(n),AA(),Me=a,qe=o,jn.transition=i}else t.current=n;if(Rc&&(Rc=!1,ws=t,Ld=s),i=t.pendingLanes,i===0&&(As=null),DA(n.stateNode),Tn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pd)throw Pd=!1,t=tg,tg=null,t;return Ld&1&&t.tag!==0&&So(),i=t.pendingLanes,i&1?t===ng?pl++:(pl=0,ng=t):pl=0,Ks(),null}function So(){if(ws!==null){var t=_E(Ld),e=jn.transition,n=qe;try{if(jn.transition=null,qe=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,Ld=0,Me&6)throw Error(M(331));var s=Me;for(Me|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:hl(8,c,i)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(x2(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Y=y;break e}Y=i.return}}var f=t.current;for(Y=f;Y!==null;){o=Y;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Y=g;else e:for(o=f;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mh(9,a)}}catch(I){gt(a,a.return,I)}if(a===o){Y=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Y=S;break e}Y=a.return}}if(Me=s,Ks(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{qe=n,jn.transition=e}}return!1}function r_(t,e,n){e=Uo(n,e),e=w2(t,e,1),t=Ns(t,e,1),e=hn(),t!==null&&(Eu(t,1,e),Tn(t,e))}function gt(t,e,n){if(t.tag===3)r_(t,t,n);else for(;e!==null;){if(e.tag===3){r_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=Uo(n,t),t=S2(e,t,1),e=Ns(e,t,1),t=hn(),e!==null&&(Eu(e,1,t),Tn(e,t));break}}e=e.return}}function ix(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(qt&n)===n&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>Tt()-Ky?di(t,0):Wy|=n),Tn(t,e)}function B2(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=hn();t=Gr(t,e),t!==null&&(Eu(t,e,n),Tn(t,n))}function ox(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),B2(t,n)}function ax(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),B2(t,n)}var z2;z2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,Gb(t,e,n);wn=!!(t.flags&131072)}else wn=!1,lt&&e.flags&1048576&&HE(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xc(t,e),t=e.pendingProps;var s=Po(e,rn.current);wo(e,n),s=Fy(null,e,r,t,s,n);var i=By();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,Cd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ly(e),s.updater=Ph,e.stateNode=s,s._reactInternals=e,qm(e,r,t,n),e=Km(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&Ny(e),un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ux(r),t=Zn(r,t),s){case 0:e=Wm(null,e,r,t,n);break e;case 1:e=K1(null,e,r,t,n);break e;case 11:e=H1(null,e,r,t,n);break e;case 14:e=W1(null,e,r,Zn(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),Wm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),K1(t,e,r,s,n);case 3:e:{if(R2(e),t===null)throw Error(M(387));r=e.pendingProps,i=e.memoizedState,s=i.element,QE(t,e),Ad(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Uo(Error(M(423)),e),e=G1(t,e,r,n,s);break e}else if(r!==s){s=Uo(Error(M(424)),e),e=G1(t,e,r,n,s);break e}else for(Nn=Is(e.stateNode.containerInfo.firstChild),xn=e,lt=!0,Xn=null,n=JE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===s){e=Qr(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return e2(e),t===null&&Bm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Mm(r,s)?o=null:i!==null&&Mm(r,i)&&(e.flags|=32),C2(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Bm(e),null;case 13:return k2(t,e,n);case 4:return My(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mo(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),H1(t,e,r,s,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(Id,r._currentValue),r._currentValue=o,i!==null)if(or(i.value,o)){if(i.children===s.children&&!Sn.current){e=Qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wo(e,n),s=Hn(s),r=r(s),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,s=Zn(r,e.pendingProps),s=Zn(r.type,s),W1(t,e,r,s,n);case 15:return E2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),Xc(t,e),e.tag=1,En(r)?(t=!0,Cd(e)):t=!1,wo(e,n),YE(e,r,s),qm(e,r,s,n),Km(null,e,r,!0,t,n);case 19:return I2(t,e,n);case 22:return T2(t,e,n)}throw Error(M(156,e.tag))};function j2(t,e){return mE(t,e)}function lx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new lx(t,e,n,r)}function Yy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ux(t){if(typeof t=="function")return Yy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gy)return 11;if(t===yy)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Yy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case to:return hi(n.children,s,i,e);case my:o=8,s|=8;break;case pm:return t=zn(12,n,e,s|2),t.elementType=pm,t.lanes=i,t;case mm:return t=zn(13,n,e,s),t.elementType=mm,t.lanes=i,t;case gm:return t=zn(19,n,e,s),t.elementType=gm,t.lanes=i,t;case XS:return Uh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZS:o=10;break e;case YS:o=9;break e;case gy:o=11;break e;case yy:o=14;break e;case as:o=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hi(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function Uh(t,e,n,r){return t=zn(22,t,r,e),t.elementType=XS,t.lanes=n,t.stateNode={isHidden:!1},t}function Rp(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function kp(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cx(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xy(t,e,n,r,s,i,o,a,l){return t=new cx(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(i),t}function dx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function q2(t){if(!t)return $s;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(En(n))return jE(t,n,e)}return e}function H2(t,e,n,r,s,i,o,a,l){return t=Xy(n,r,!0,t,s,i,o,a,l),t.context=q2(null),n=t.current,r=hn(),s=bs(n),i=jr(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,Eu(t,s,r),Tn(t,r),t}function Vh(t,e,n,r){var s=e.current,i=hn(),o=bs(s);return n=q2(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(nr(t,s,o,i),Qc(t,s,o)),o}function $d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jy(t,e){s_(t,e),(t=t.alternate)&&s_(t,e)}function hx(){return null}var W2=typeof reportError=="function"?reportError:function(t){console.error(t)};function ev(t){this._internalRoot=t}Fh.prototype.render=ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Vh(t,e,null,null)};Fh.prototype.unmount=ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){Vh(null,t,null,null)}),e[Kr]=null}};function Fh(t){this._internalRoot=t}Fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=EE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&CE(t)}};function tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i_(){}function fx(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=$d(o);i.call(u)}}var o=H2(e,r,t,0,null,!1,!1,"",i_);return t._reactRootContainer=o,t[Kr]=o.current,Pl(t.nodeType===8?t.parentNode:t),Ei(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=$d(l);a.call(u)}}var l=Xy(t,0,!1,null,null,!1,!1,"",i_);return t._reactRootContainer=l,t[Kr]=l.current,Pl(t.nodeType===8?t.parentNode:t),Ei(function(){Vh(e,l,n,r)}),l}function zh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$d(o);a.call(l)}}Vh(e,o,t,s)}else o=fx(n,e,t,s,r);return $d(o)}wE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ga(e.pendingLanes);n!==0&&(wy(e,n|1),Tn(e,Tt()),!(Me&6)&&(Vo=Tt()+500,Ks()))}break;case 13:Ei(function(){var r=Gr(t,1);if(r!==null){var s=hn();nr(r,t,1,s)}}),Jy(t,1)}};Sy=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=hn();nr(e,t,134217728,n)}Jy(t,134217728)}};SE=function(t){if(t.tag===13){var e=bs(t),n=Gr(t,e);if(n!==null){var r=hn();nr(n,t,e,r)}Jy(t,e)}};EE=function(){return qe};TE=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};km=function(t,e,n){switch(e){case"input":if(_m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dh(r);if(!s)throw Error(M(90));eE(r),_m(r,s)}}}break;case"textarea":nE(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};uE=Gy;cE=Ei;var px={usingClientEntryPoint:!1,Events:[Cu,io,Dh,aE,lE,Gy]},Ma={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mx={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||hx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Nh=kc.inject(mx),Sr=kc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=px;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(e))throw Error(M(200));return dx(t,e,null,n)};Pn.createRoot=function(t,e){if(!tv(t))throw Error(M(299));var n=!1,r="",s=W2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xy(t,1,!1,null,null,n,!1,r,s),t[Kr]=e.current,Pl(t.nodeType===8?t.parentNode:t),new ev(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=fE(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Ei(t)};Pn.hydrate=function(t,e,n){if(!Bh(e))throw Error(M(200));return zh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!tv(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=W2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=H2(e,null,t,1,n??null,s,!1,i,o),t[Kr]=e.current,Pl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fh(e)};Pn.render=function(t,e,n){if(!Bh(e))throw Error(M(200));return zh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Bh(t))throw Error(M(40));return t._reactRootContainer?(Ei(function(){zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};Pn.unstable_batchedUpdates=Gy;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bh(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return zh(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),HS.exports=Pn;var G2=HS.exports;const gx=PS(G2);var o_=G2;hm.createRoot=o_.createRoot,hm.hydrateRoot=o_.hydrateRoot;var Q2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a_=Ie.createContext&&Ie.createContext(Q2),Ds=globalThis&&globalThis.__assign||function(){return Ds=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ds.apply(this,arguments)},yx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Z2(t){return t&&t.map(function(e,n){return Ie.createElement(e.tag,Ds({key:n},e.attr),Z2(e.child))})}function mt(t){return function(e){return Ie.createElement(vx,Ds({attr:Ds({},t.attr)},e),Z2(t.child))}}function vx(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=yx(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ie.createElement("svg",Ds({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ds(Ds({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ie.createElement("title",null,i),t.children)};return a_!==void 0?Ie.createElement(a_.Consumer,null,function(n){return e(n)}):e(Q2)}function _x(t){return mt({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"}}]})(t)}class aa{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const jl=typeof window>"u"||"Deno"in window;function $n(){}function wx(t,e){return typeof t=="function"?t(e):t}function ig(t){return typeof t=="number"&&t>=0&&t!==1/0}function Y2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Za(t,e,n){return ku(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Sx(t,e,n){return ku(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function us(t,e,n){return ku(t)?[{...e,queryKey:t},n]:[t||{},e]}function l_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(ku(o)){if(r){if(e.queryHash!==nv(o,e.options))return!1}else if(!Ud(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function u_(t,e){const{exact:n,fetching:r,predicate:s,mutationKey:i}=t;if(ku(i)){if(!e.options.mutationKey)return!1;if(n){if(oi(e.options.mutationKey)!==oi(i))return!1}else if(!Ud(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function nv(t,e){return((e==null?void 0:e.queryKeyHashFn)||oi)(t)}function oi(t){return JSON.stringify(t,(e,n)=>ag(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ud(t,e){return X2(t,e)}function X2(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!X2(t[n],e[n])):!1}function J2(t,e){if(t===e)return t;const n=c_(t)&&c_(e);if(n||ag(t)&&ag(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{};let a=0;for(let l=0;l<i;l++){const u=n?l:s[l];o[u]=J2(t[u],e[u]),o[u]===t[u]&&a++}return r===i&&a===r?t:o}return e}function og(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function c_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ag(t){if(!d_(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!d_(n)||!n.hasOwnProperty("isPrototypeOf"))}function d_(t){return Object.prototype.toString.call(t)==="[object Object]"}function ku(t){return Array.isArray(t)}function eT(t){return new Promise(e=>{setTimeout(e,t)})}function h_(t){eT(0).then(t)}function Ex(){if(typeof AbortController=="function")return new AbortController}function lg(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?J2(t,e):e}class Tx extends aa{constructor(){super(),this.setup=e=>{if(!jl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Vd=new Tx,f_=["online","offline"];class Cx extends aa{constructor(){super(),this.setup=e=>{if(!jl&&window.addEventListener){const n=()=>e();return f_.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{f_.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Fd=new Cx;function Rx(t){return Math.min(1e3*2**t,3e4)}function jh(t){return(t??"online")==="online"?Fd.isOnline():!0}class tT{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function nd(t){return t instanceof tT}function nT(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((w,y)=>{i=w,o=y}),l=w=>{r||(p(new tT(w)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},d=()=>!Vd.isFocused()||t.networkMode!=="always"&&!Fd.isOnline(),h=w=>{r||(r=!0,t.onSuccess==null||t.onSuccess(w),s==null||s(),i(w))},p=w=>{r||(r=!0,t.onError==null||t.onError(w),s==null||s(),o(w))},m=()=>new Promise(w=>{s=y=>{const f=r||!d();return f&&w(y),f},t.onPause==null||t.onPause()}).then(()=>{s=void 0,r||t.onContinue==null||t.onContinue()}),v=()=>{if(r)return;let w;try{w=t.fn()}catch(y){w=Promise.reject(y)}Promise.resolve(w).then(h).catch(y=>{var f,g;if(r)return;const S=(f=t.retry)!=null?f:3,I=(g=t.retryDelay)!=null?g:Rx,N=typeof I=="function"?I(n,y):I,A=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,y);if(e||!A){p(y);return}n++,t.onFail==null||t.onFail(n,y),eT(N).then(()=>{if(d())return m()}).then(()=>{e?p(y):v()})})};return jh(t.networkMode)?v():m().then(v),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}const rv=console;function kx(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const s=c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},i=c=>{e?t.push(c):h_(()=>{n(c)})},o=c=>(...d)=>{i(()=>{c(...d)})},a=()=>{const c=t;t=[],c.length&&h_(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:s,batchCalls:o,schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const yt=kx();class rT{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ig(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(jl?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Ix extends rT{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||rv,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Nx(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=lg(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Y2(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}Array.isArray(this.options.queryKey);const o=Ex(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=c.fetchOptions)==null?void 0:s.meta)){var d;this.dispatch({type:"fetch",meta:(d=c.fetchOptions)==null?void 0:d.meta})}const h=p=>{if(nd(p)&&p.silent||this.dispatch({type:"error",error:p}),!nd(p)){var m,v,w,y;(m=(v=this.cache.config).onError)==null||m.call(v,p,this),(w=(y=this.cache.config).onSettled)==null||w.call(y,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=nT({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var m,v,w,y;if(typeof p>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(m=(v=this.cache.config).onSuccess)==null||m.call(v,p,this),(w=(y=this.cache.config).onSettled)==null||w.call(y,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(p,m)=>{this.dispatch({type:"failed",failureCount:p,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var s,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:jh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return nd(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Nx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Ax extends aa{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var s;const i=n.queryKey,o=(s=n.queryHash)!=null?s:nv(i,n);let a=this.get(o);return a||(a=new Ix({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){yt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=us(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>l_(r,s))}findAll(e,n){const[r]=us(e,n);return Object.keys(r).length>0?this.queries.filter(s=>l_(r,s)):this.queries}notify(e){yt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){yt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){yt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class bx extends rT{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||rv,this.observers=[],this.state=e.state||sT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var A;return this.retryer=nT({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(b,X)=>{this.dispatch({type:"failed",failureCount:b,error:X})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(A=this.options.retry)!=null?A:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,s,i,o,a,l,u,c;if(!n){var d,h,p,m;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(h=this.mutationCache.config).onMutate)==null?void 0:d.call(h,this.state.variables,this));const b=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,this.state.variables));b!==this.state.context&&this.dispatch({type:"loading",context:b,variables:this.state.variables})}const A=await e();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,A,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,A,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,A,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,A,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:A}),A}catch(A){try{var v,w,y,f,g,S,I,N;throw await((v=(w=this.mutationCache.config).onError)==null?void 0:v.call(w,A,this.state.variables,this.state.context,this)),await((y=(f=this.options).onError)==null?void 0:y.call(f,A,this.state.variables,this.state.context)),await((g=(S=this.mutationCache.config).onSettled)==null?void 0:g.call(S,void 0,A,this.state.variables,this.state.context,this)),await((I=(N=this.options).onSettled)==null?void 0:I.call(N,void 0,A,this.state.variables,this.state.context)),A}finally{this.dispatch({type:"error",error:A})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!jh(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),yt.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function sT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class xx extends aa{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const s=new bx({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){yt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>u_(e,n))}findAll(e){return this.mutations.filter(n=>u_(e,n))}notify(e){yt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return yt.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch($n)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Dx(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,s,i,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",h=((i=t.state.data)==null?void 0:i.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[];let m=p,v=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>{var A;if((A=t.signal)!=null&&A.aborted)v=!0;else{var b;(b=t.signal)==null||b.addEventListener("abort",()=>{v=!0})}return t.signal}})},y=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),f=(N,A,b,X)=>(m=X?[A,...m]:[...m,A],X?[b,...N]:[...N,b]),g=(N,A,b,X)=>{if(v)return Promise.reject("Cancelled");if(typeof b>"u"&&!A&&N.length)return Promise.resolve(N);const ee={queryKey:t.queryKey,pageParam:b,meta:t.options.meta};w(ee);const Ve=y(ee);return Promise.resolve(Ve).then(K=>f(N,b,K,X))};let S;if(!h.length)S=g([]);else if(c){const N=typeof u<"u",A=N?u:p_(t.options,h);S=g(h,N,A)}else if(d){const N=typeof u<"u",A=N?u:Ox(t.options,h);S=g(h,N,A,!0)}else{m=[];const N=typeof t.options.getNextPageParam>"u";S=(a&&h[0]?a(h[0],0,h):!0)?g([],N,p[0]):Promise.resolve(f([],p[0],h[0]));for(let b=1;b<h.length;b++)S=S.then(X=>{if(a&&h[b]?a(h[b],b,h):!0){const Ve=N?p[b]:p_(t.options,X);return g(X,N,Ve)}return Promise.resolve(f(X,p[b],h[b]))})}return S.then(N=>({pages:N,pageParams:m}))}}}}function p_(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Ox(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Px{constructor(e={}){this.queryCache=e.queryCache||new Ax,this.mutationCache=e.mutationCache||new xx,this.logger=e.logger||rv,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Vd.subscribe(()=>{Vd.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Fd.subscribe(()=>{Fd.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=us(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const s=Za(e,n,r),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.queryCache.find(e),i=s==null?void 0:s.state.data,o=wx(n,i);if(typeof o>"u")return;const a=Za(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return yt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=us(e,n),s=this.queryCache;yt.batch(()=>{s.findAll(r).forEach(i=>{s.remove(i)})})}resetQueries(e,n,r){const[s,i]=us(e,n,r),o=this.queryCache,a={type:"active",...s};return yt.batch(()=>(o.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(a,i)))}cancelQueries(e,n,r){const[s,i={}]=us(e,n,r);typeof i.revert>"u"&&(i.revert=!0);const o=yt.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(i)));return Promise.all(o).then($n).catch($n)}invalidateQueries(e,n,r){const[s,i]=us(e,n,r);return yt.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(u=>{u.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,n,r){const[s,i]=us(e,n,r),o=yt.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then($n);return i!=null&&i.throwOnError||(a=a.catch($n)),a}fetchQuery(e,n,r){const s=Za(e,n,r),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then($n).catch($n)}fetchInfiniteQuery(e,n,r){const s=Za(e,n,r);return s.behavior=Dx(),this.fetchQuery(s)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then($n).catch($n)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(s=>oi(e)===oi(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>Ud(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(s=>oi(e)===oi(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>Ud(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=nv(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Lx extends aa{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),m_(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ug(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ug(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),og(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const i=this.hasListeners();i&&g_(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(n),i&&(this.currentQuery!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();i&&(this.currentQuery!==s||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return $x(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch($n)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),jl||this.currentResult.isStale||!ig(this.options.staleTime))return;const n=Y2(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(jl||this.options.enabled===!1||!ig(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Vd.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,s=this.options,i=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:h,error:p,errorUpdatedAt:m,fetchStatus:v,status:w}=d,y=!1,f=!1,g;if(n._optimisticResults){const b=this.hasListeners(),X=!b&&m_(e,n),ee=b&&g_(e,r,n,s);(X||ee)&&(v=jh(e.options.networkMode)?"fetching":"paused",h||(w="loading")),n._optimisticResults==="isRestoring"&&(v="idle")}if(n.keepPreviousData&&!d.dataUpdatedAt&&c!=null&&c.isSuccess&&w!=="error")g=c.data,h=c.dataUpdatedAt,w=c.status,y=!0;else if(n.select&&typeof d.data<"u")if(i&&d.data===(o==null?void 0:o.data)&&n.select===this.selectFn)g=this.selectResult;else try{this.selectFn=n.select,g=n.select(d.data),g=lg(i==null?void 0:i.data,g,n),this.selectResult=g,this.selectError=null}catch(b){this.selectError=b}else g=d.data;if(typeof n.placeholderData<"u"&&typeof g>"u"&&w==="loading"){let b;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))b=i.data;else if(b=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof b<"u")try{b=n.select(b),this.selectError=null}catch(X){this.selectError=X}typeof b<"u"&&(w="success",g=lg(i==null?void 0:i.data,b,n),f=!0)}this.selectError&&(p=this.selectError,g=this.selectResult,m=Date.now(),w="error");const S=v==="fetching",I=w==="loading",N=w==="error";return{status:w,fetchStatus:v,isLoading:I,isSuccess:w==="success",isError:N,isInitialLoading:I&&S,data:g,dataUpdatedAt:h,error:p,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!I,isLoadingError:N&&d.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:f,isPreviousData:y,isRefetchError:N&&d.dataUpdatedAt!==0,isStale:sv(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,og(r,n))return;this.currentResult=r;const s={cache:!0},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==n[u]&&a.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),this.notify({...s,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!nd(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){yt.batch(()=>{if(e.onSuccess){var n,r,s,i;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(s=(i=this.options).onSettled)==null||s.call(i,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Mx(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function m_(t,e){return Mx(t,e)||t.state.dataUpdatedAt>0&&ug(t,e,e.refetchOnMount)}function ug(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&sv(t,e)}return!1}function g_(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&sv(t,n)}function sv(t,e){return t.isStaleByTime(e.staleTime)}function $x(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:t.getCurrentResult()!==e}let Ux=class extends aa{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),og(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:sT(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){yt.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,s,i;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(s=(i=this.mutateOptions).onSettled)==null||s.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,u;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};var iT={exports:{}},oT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=$;function Vx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fx=typeof Object.is=="function"?Object.is:Vx,Bx=Fo.useState,zx=Fo.useEffect,jx=Fo.useLayoutEffect,qx=Fo.useDebugValue;function Hx(t,e){var n=e(),r=Bx({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return jx(function(){s.value=n,s.getSnapshot=e,Ip(s)&&i({inst:s})},[t,n,e]),zx(function(){return Ip(s)&&i({inst:s}),t(function(){Ip(s)&&i({inst:s})})},[t]),qx(n),n}function Ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fx(t,n)}catch{return!0}}function Wx(t,e){return e()}var Kx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wx:Hx;oT.useSyncExternalStore=Fo.useSyncExternalStore!==void 0?Fo.useSyncExternalStore:Kx;iT.exports=oT;var Gx=iT.exports;const aT=Gx.useSyncExternalStore,y_=$.createContext(void 0),lT=$.createContext(!1);function uT(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=y_),window.ReactQueryClientContext):y_)}const qh=({context:t}={})=>{const e=$.useContext(uT(t,$.useContext(lT)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Qx=({client:t,children:e,context:n,contextSharing:r=!1})=>{$.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const s=uT(n,r);return $.createElement(lT.Provider,{value:!n&&r},$.createElement(s.Provider,{value:t},e))},cT=$.createContext(!1),Zx=()=>$.useContext(cT);cT.Provider;function Yx(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Xx=$.createContext(Yx()),Jx=()=>$.useContext(Xx);function dT(t,e){return typeof t=="function"?t(...e):!!t}const e4=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},t4=t=>{$.useEffect(()=>{t.clearReset()},[t])},n4=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&dT(n,[t.error,r]),r4=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},s4=(t,e)=>t.isLoading&&t.isFetching&&!e,i4=(t,e,n)=>(t==null?void 0:t.suspense)&&s4(e,n),o4=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function a4(t,e){const n=qh({context:t.context}),r=Zx(),s=Jx(),i=n.defaultQueryOptions(t);i._optimisticResults=r?"isRestoring":"optimistic",i.onError&&(i.onError=yt.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=yt.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=yt.batchCalls(i.onSettled)),r4(i),e4(i,s),t4(s);const[o]=$.useState(()=>new e(n,i)),a=o.getOptimisticResult(i);if(aT($.useCallback(l=>{const u=r?()=>{}:o.subscribe(yt.batchCalls(l));return o.updateResult(),u},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setOptions(i,{listeners:!1})},[i,o]),i4(i,a,r))throw o4(i,o,s);if(n4({result:a,errorResetBoundary:s,useErrorBoundary:i.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return i.notifyOnChangeProps?a:o.trackResult(a)}function Iu(t,e,n){const r=Za(t,e,n);return a4(r,Lx)}function la(t,e,n){const r=Sx(t,e,n),s=qh({context:r.context}),[i]=$.useState(()=>new Ux(s,r));$.useEffect(()=>{i.setOptions(r)},[i,r]);const o=aT($.useCallback(l=>i.subscribe(yt.batchCalls(l)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=$.useCallback((l,u)=>{i.mutate(l,u).catch(l4)},[i]);if(o.error&&dT(i.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function l4(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},u4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new c4;const h=i<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d4=function(t){const e=hT(t);return fT.encodeByteArray(e,!0)},Bd=function(t){return d4(t).replace(/\./g,"")},pT=function(t){try{return fT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=()=>h4().__FIREBASE_DEFAULTS__,p4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pT(t[1]);return e&&JSON.parse(e)},Hh=()=>{try{return f4()||p4()||m4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mT=t=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gT=t=>{const e=mT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yT=()=>{var t;return(t=Hh())===null||t===void 0?void 0:t.config},vT=t=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Bd(JSON.stringify(n)),Bd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function v4(){var t;const e=(t=Hh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S4(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C4,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?R4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Dr(s,a,r)}}function R4(t,e){return t.replace(k4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const k4=/\{\$([^}]+)}/g;function I4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(v_(i)&&v_(o)){if(!zd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N4(t,e){const n=new A4(t,e);return n.subscribe.bind(n)}class A4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Np),s.error===void 0&&(s.error=Np),s.complete===void 0&&(s.complete=Np);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O4(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D4(t){return t===ti?void 0:t}function O4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const L4={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},M4=$e.INFO,$4={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},U4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=M4,this._logHandler=U4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const V4=(t,e)=>e.some(n=>t instanceof n);let __,w_;function F4(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B4(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,cg=new WeakMap,ST=new WeakMap,Ap=new WeakMap,ov=new WeakMap;function z4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Os(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),ov.set(e,t),e}function j4(t){if(cg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});cg.set(t,e)}let dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ST.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q4(t){dg=t(dg)}function H4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bp(this),e,...n);return ST.set(r,e.sort?e.sort():[e]),Os(r)}:B4().includes(t)?function(...e){return t.apply(bp(this),e),Os(wT.get(this))}:function(...e){return Os(t.apply(bp(this),e))}}function W4(t){return typeof t=="function"?H4(t):(t instanceof IDBTransaction&&j4(t),V4(t,F4())?new Proxy(t,dg):t)}function Os(t){if(t instanceof IDBRequest)return z4(t);if(Ap.has(t))return Ap.get(t);const e=W4(t);return e!==t&&(Ap.set(t,e),ov.set(e,t)),e}const bp=t=>ov.get(t);function K4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Os(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Os(o.result),l.oldVersion,l.newVersion,Os(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const G4=["get","getKey","getAll","getAllKeys","count"],Q4=["put","add","delete","clear"],xp=new Map;function S_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Q4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||G4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return xp.set(e,i),i}q4(t=>({...t,get:(e,n,r)=>S_(e,n)||t.get(e,n,r),has:(e,n)=>!!S_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",E_="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new iv("@firebase/app"),X4="@firebase/app-compat",J4="@firebase/analytics-compat",eD="@firebase/analytics",tD="@firebase/app-check-compat",nD="@firebase/app-check",rD="@firebase/auth",sD="@firebase/auth-compat",iD="@firebase/database",oD="@firebase/database-compat",aD="@firebase/functions",lD="@firebase/functions-compat",uD="@firebase/installations",cD="@firebase/installations-compat",dD="@firebase/messaging",hD="@firebase/messaging-compat",fD="@firebase/performance",pD="@firebase/performance-compat",mD="@firebase/remote-config",gD="@firebase/remote-config-compat",yD="@firebase/storage",vD="@firebase/storage-compat",_D="@firebase/firestore",wD="@firebase/firestore-compat",SD="firebase",ED="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",TD={[hg]:"fire-core",[X4]:"fire-core-compat",[eD]:"fire-analytics",[J4]:"fire-analytics-compat",[nD]:"fire-app-check",[tD]:"fire-app-check-compat",[rD]:"fire-auth",[sD]:"fire-auth-compat",[iD]:"fire-rtdb",[oD]:"fire-rtdb-compat",[aD]:"fire-fn",[lD]:"fire-fn-compat",[uD]:"fire-iid",[cD]:"fire-iid-compat",[dD]:"fire-fcm",[hD]:"fire-fcm-compat",[fD]:"fire-perf",[pD]:"fire-perf-compat",[mD]:"fire-rc",[gD]:"fire-rc-compat",[yD]:"fire-gcs",[vD]:"fire-gcs-compat",[_D]:"fire-fst",[wD]:"fire-fst-compat","fire-js":"fire-js",[SD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,pg=new Map;function CD(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ci(t){const e=t.name;if(pg.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,t);for(const n of jd.values())CD(n,t);return!0}function Wh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ps=new Nu("app","Firebase",RD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=ED;function ET(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ps.create("bad-app-name",{appName:String(s)});if(n||(n=yT()),!n)throw Ps.create("no-options");const i=jd.get(s);if(i){if(zd(n,i.options)&&zd(r,i.config))return i;throw Ps.create("duplicate-app",{appName:s})}const o=new P4(s);for(const l of pg.values())o.addComponent(l);const a=new kD(n,r,o);return jd.set(s,a),a}function av(t=fg){const e=jd.get(t);if(!e&&t===fg&&yT())return ET();if(!e)throw Ps.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let s=(r=TD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}Ci(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="firebase-heartbeat-database",ND=1,ql="firebase-heartbeat-store";let Dp=null;function TT(){return Dp||(Dp=K4(ID,ND,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ql)}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function AD(t){try{return await(await TT()).transaction(ql).objectStore(ql).get(CT(t))}catch(e){if(e instanceof Dr)Ti.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function T_(t,e){try{const r=(await TT()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,CT(t)),await r.done}catch(n){if(n instanceof Dr)Ti.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function CT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1024,xD=30*24*60*60*1e3;class DD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=xD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C_(),{heartbeatsToSend:n,unsentEntries:r}=OD(this._heartbeatsCache.heartbeats),s=Bd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function C_(){return new Date().toISOString().substring(0,10)}function OD(t,e=bD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),R_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),R_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function R_(t){return Bd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){Ci(new Us("platform-logger",e=>new Z4(e),"PRIVATE")),Ci(new Us("heartbeat",e=>new DD(e),"PRIVATE")),Tr(hg,E_,t),Tr(hg,E_,"esm2017"),Tr("fire-js","")}LD("");var MD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,lv=lv||{},_e=MD||self;function Kh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $D(t){return Object.prototype.hasOwnProperty.call(t,Op)&&t[Op]||(t[Op]=++UD)}var Op="closure_uid_"+(1e9*Math.random()>>>0),UD=0;function VD(t,e,n){return t.call.apply(t.bind,arguments)}function FD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?en=VD:en=FD,en.apply(null,arguments)}function Ic(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Gs(){this.s=this.s,this.o=this.o}var BD=0;Gs.prototype.s=!1;Gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BD!=0)&&$D(this)};Gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function uv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function k_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Kh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var zD=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_e.addEventListener("test",()=>{},e),_e.removeEventListener("test",()=>{},e)}catch{}return t}();function Hl(t){return/^[\s\xa0]*$/.test(t)}function Gh(){var t=_e.navigator;return t&&(t=t.userAgent)?t:""}function gr(t){return Gh().indexOf(t)!=-1}function cv(t){return cv[" "](t),t}cv[" "]=function(){};function jD(t,e){var n=L9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qD=gr("Opera"),Bo=gr("Trident")||gr("MSIE"),kT=gr("Edge"),mg=kT||Bo,IT=gr("Gecko")&&!(Gh().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge"))&&!(gr("Trident")||gr("MSIE"))&&!gr("Edge"),HD=Gh().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge");function NT(){var t=_e.document;return t?t.documentMode:void 0}var gg;e:{var Pp="",Lp=function(){var t=Gh();if(IT)return/rv:([^\);]+)(\)|;)/.exec(t);if(kT)return/Edge\/([\d\.]+)/.exec(t);if(Bo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HD)return/WebKit\/(\S+)/.exec(t);if(qD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Lp&&(Pp=Lp?Lp[1]:""),Bo){var Mp=NT();if(Mp!=null&&Mp>parseFloat(Pp)){gg=String(Mp);break e}}gg=Pp}var yg;if(_e.document&&Bo){var I_=NT();yg=I_||parseInt(gg,10)||void 0}else yg=void 0;var WD=yg;function Wl(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IT){e:{try{cv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:KD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wl.$.h.call(this)}}Vt(Wl,tn);var KD={2:"touch",3:"pen",4:"mouse"};Wl.prototype.h=function(){Wl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xu="closure_listenable_"+(1e6*Math.random()|0),GD=0;function QD(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++GD,this.fa=this.ia=!1}function Qh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ZD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AT(t){const e={};for(const n in t)e[n]=t[n];return e}const N_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bT(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<N_.length;i++)n=N_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zh(t){this.src=t,this.g={},this.h=0}Zh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=_g(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new QD(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function vg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=RT(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Qh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _g(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var hv="closure_lm_"+(1e6*Math.random()|0),$p={};function xT(t,e,n,r,s){if(r&&r.once)return OT(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)xT(t,e[i],n,r,s);return null}return n=mv(n),t&&t[xu]?t.O(e,n,bu(r)?!!r.capture:!!r,s):DT(t,e,n,!1,r,s)}function DT(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=bu(s)?!!s.capture:!!s,a=pv(t);if(a||(t[hv]=a=new Zh(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=YD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zD||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(LT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YD(){function t(n){return e.call(t.src,t.listener,n)}const e=XD;return t}function OT(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)OT(t,e[i],n,r,s);return null}return n=mv(n),t&&t[xu]?t.P(e,n,bu(r)?!!r.capture:!!r,s):DT(t,e,n,!0,r,s)}function PT(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)PT(t,e[i],n,r,s);else r=bu(r)?!!r.capture:!!r,n=mv(n),t&&t[xu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=_g(i,n,r,s),-1<n&&(Qh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=pv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_g(e,n,r,s)),(n=-1<t?e[t]:null)&&fv(n))}function fv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xu])vg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(LT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pv(e))?(vg(n,t),n.h==0&&(n.src=null,e[hv]=null)):Qh(t)}}}function LT(t){return t in $p?$p[t]:$p[t]="on"+t}function XD(t,e){if(t.fa)t=!0;else{e=new Wl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fv(t),t=n.call(r,e)}return t}function pv(t){return t=t[hv],t instanceof Zh?t:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function mv(t){return typeof t=="function"?t:(t[Up]||(t[Up]=function(e){return t.handleEvent(e)}),t[Up])}function Ut(){Gs.call(this),this.i=new Zh(this),this.S=this,this.J=null}Vt(Ut,Gs);Ut.prototype[xu]=!0;Ut.prototype.removeEventListener=function(t,e,n,r){PT(this,t,e,n,r)};function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var s=e;e=new tn(r,t),bT(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Nc(o,r,!0,e)&&s}if(o=e.g=t,s=Nc(o,r,!0,e)&&s,s=Nc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Nc(o,r,!1,e)&&s}Ut.prototype.N=function(){if(Ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qh(n[r]);delete t.g[e],t.h--}}this.J=null};Ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&vg(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var gv=_e.JSON.stringify;class JD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function e9(){var t=yv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class t9{constructor(){this.h=this.g=null}add(e,n){const r=MT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MT=new JD(()=>new n9,t=>t.reset());class n9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function s9(t){_e.setTimeout(()=>{throw t},0)}let Kl,Gl=!1,yv=new t9,$T=()=>{const t=_e.Promise.resolve(void 0);Kl=()=>{t.then(i9)}};var i9=()=>{for(var t;t=e9();){try{t.h.call(t.g)}catch(n){s9(n)}var e=MT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gl=!1};function Yh(t,e){Ut.call(this),this.h=t||1,this.g=e||_e,this.j=en(this.qb,this),this.l=Date.now()}Vt(Yh,Ut);z=Yh.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(vv(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function vv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){Yh.$.N.call(this),vv(this),delete this.g};function _v(t,e,n){if(typeof t=="function")n&&(t=en(t,n));else if(t&&typeof t.handleEvent=="function")t=en(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function UT(t){t.g=_v(()=>{t.g=null,t.i&&(t.i=!1,UT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class o9 extends Gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UT(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ql(t){Gs.call(this),this.h=t,this.g={}}Vt(Ql,Gs);var A_=[];function VT(t,e,n,r){Array.isArray(n)||(n&&(A_[0]=n.toString()),n=A_);for(var s=0;s<n.length;s++){var i=xT(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function FT(t){dv(t.g,function(e,n){this.g.hasOwnProperty(n)&&fv(e)},t),t.g={}}Ql.prototype.N=function(){Ql.$.N.call(this),FT(this)};Ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xh(){this.g=!0}Xh.prototype.Ea=function(){this.g=!1};function a9(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function l9(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c9(t,n)+(r?" "+r:"")})}function u9(t,e){t.info(function(){return"TIMEOUT: "+e})}Xh.prototype.info=function(){};function c9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return gv(n)}catch{return e}}var Vi={},b_=null;function Jh(){return b_=b_||new Ut}Vi.Ta="serverreachability";function BT(t){tn.call(this,Vi.Ta,t)}Vt(BT,tn);function Zl(t){const e=Jh();Ht(e,new BT(e))}Vi.STAT_EVENT="statevent";function zT(t,e){tn.call(this,Vi.STAT_EVENT,t),this.stat=e}Vt(zT,tn);function dn(t){const e=Jh();Ht(e,new zT(e,t))}Vi.Ua="timingevent";function jT(t,e){tn.call(this,Vi.Ua,t),this.size=e}Vt(jT,tn);function Du(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}var ef={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wv(){}wv.prototype.h=null;function x_(t){return t.h||(t.h=t.i())}function HT(){}var Ou={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sv(){tn.call(this,"d")}Vt(Sv,tn);function Ev(){tn.call(this,"c")}Vt(Ev,tn);var wg;function tf(){}Vt(tf,wv);tf.prototype.g=function(){return new XMLHttpRequest};tf.prototype.i=function(){return{}};wg=new tf;function Pu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ql(this),this.P=d9,t=mg?125:void 0,this.V=new Yh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WT}function WT(){this.i=null,this.g="",this.h=!1}var d9=45e3,Sg={},qd={};z=Pu.prototype;z.setTimeout=function(t){this.P=t};function Eg(t,e,n){t.L=1,t.v=rf(Zr(e)),t.s=n,t.S=!0,KT(t,null)}function KT(t,e){t.G=Date.now(),Lu(t),t.A=Zr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),tC(n.i,"t",r),t.C=0,n=t.l.J,t.h=new WT,t.g=EC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new o9(en(t.Pa,t,t.g),t.O)),VT(t.U,t.g,"readystatechange",t.nb),e=t.I?AT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Zl(),a9(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&yr(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const c=yr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||mg||this.g&&(this.h.h||this.g.ja()||L_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Zl(3):Zl(2)),nf(this);var n=this.g.da();this.ca=n;t:if(GT(this)){var r=L_(this.g);t="";var s=r.length,i=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),ml(this);var o="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,l9(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hl(a)){var u=a;break t}}u=null}if(n=u)fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tg(this,n);else{this.i=!1,this.o=3,dn(12),ai(this),ml(this);break e}}this.S?(QT(this,c,o),mg&&this.i&&c==3&&(VT(this.U,this.V,"tick",this.mb),this.V.start())):(fo(this.j,this.m,o,null),Tg(this,o)),c==4&&ai(this),this.i&&!this.J&&(c==4?vC(this.l,this):(this.i=!1,Lu(this)))}else D9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),ai(this),ml(this)}}}catch{}finally{}};function GT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function QT(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=h9(t,n),s==qd){e==4&&(t.o=4,dn(14),r=!1),fo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Sg){t.o=4,dn(15),fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fo(t.j,t.m,s,null),Tg(t,s);GT(t)&&s!=qd&&s!=Sg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nv(e),e.M=!0,dn(11))):(fo(t.j,t.m,n,"[Invalid Chunked Response]"),ai(t),ml(t))}z.mb=function(){if(this.g){var t=yr(this.g),e=this.g.ja();this.C<e.length&&(nf(this),QT(this,t,e),this.i&&t!=4&&Lu(this))}};function h9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?qd:(n=Number(e.substring(n,r)),isNaN(n)?Sg:(r+=1,r+n>e.length?qd:(e=e.slice(r,r+n),t.C=r+n,e)))}z.cancel=function(){this.J=!0,ai(this)};function Lu(t){t.Y=Date.now()+t.P,ZT(t,t.P)}function ZT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Du(en(t.lb,t),e)}function nf(t){t.B&&(_e.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(u9(this.j,this.A),this.L!=2&&(Zl(),dn(17)),ai(this),this.o=2,ml(this)):ZT(this,this.Y-t)};function ml(t){t.l.H==0||t.J||vC(t.l,t)}function ai(t){nf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,vv(t.V),FT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Tg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cg(n.i,t))){if(!t.K&&Cg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Kd(n),af(n);else break e;Iv(n),dn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Du(en(n.ib,n),6e3));if(1>=sC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else li(n,11)}else if((t.K||n.g==t)&&Kd(n),!Hl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Tv(i,i.h),i.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,tt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=SC(r,r.J?r.pa:null,r.Y),o.K){iC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(nf(a),Lu(a)),r.g=o}else gC(r);0<n.j.length&&lf(n)}else u[0]!="stop"&&u[0]!="close"||li(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?li(n,7):kv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Zl(4)}catch{}}function f9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Kh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function p9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Kh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function YT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Kh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=p9(t),r=f9(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var XT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function fi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fi){this.h=t.h,Hd(this,t.j),this.s=t.s,this.g=t.g,Wd(this,t.m),this.l=t.l;var e=t.i,n=new Yl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),D_(this,n),this.o=t.o}else t&&(e=String(t).match(XT))?(this.h=!1,Hd(this,e[1]||"",!0),this.s=Ja(e[2]||""),this.g=Ja(e[3]||"",!0),Wd(this,e[4]),this.l=Ja(e[5]||"",!0),D_(this,e[6]||"",!0),this.o=Ja(e[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}fi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(el(e,O_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(el(e,O_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(el(n,n.charAt(0)=="/"?v9:y9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",el(n,w9)),t.join("")};function Zr(t){return new fi(t)}function Hd(t,e,n){t.j=n?Ja(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function D_(t,e,n){e instanceof Yl?(t.i=e,S9(t.i,t.h)):(n||(e=el(e,_9)),t.i=new Yl(e,t.h))}function tt(t,e,n){t.i.set(e,n)}function rf(t){return tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ja(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function el(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,g9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function g9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var O_=/[#\/\?@]/g,y9=/[#\?:]/g,v9=/[#\?]/g,_9=/[#\?@]/g,w9=/#/g;function Yl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qs(t){t.g||(t.g=new Map,t.h=0,t.i&&m9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=Yl.prototype;z.add=function(t,e){Qs(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JT(t,e){Qs(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eC(t,e){return Qs(t),e=ua(t,e),t.g.has(e)}z.forEach=function(t,e){Qs(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};z.ta=function(){Qs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};z.Z=function(t){Qs(this);let e=[];if(typeof t=="string")eC(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return Qs(this),this.i=null,t=ua(this,t),eC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function tC(t,e,n){JT(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),uv(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function S9(t,e){e&&!t.j&&(Qs(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(JT(this,r),tC(this,s,n))},t)),t.j=e}var E9=class{constructor(t,e){this.g=t,this.map=e}};function nC(t){this.l=t||T9,_e.PerformanceNavigationTiming?(t=_e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T9=10;function rC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sC(t){return t.h?1:t.g?t.g.size:0}function Cg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Tv(t,e){t.g?t.g.add(e):t.h=e}function iC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}nC.prototype.cancel=function(){if(this.i=oC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function oC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return uv(t.i)}var C9=class{stringify(t){return _e.JSON.stringify(t,void 0)}parse(t){return _e.JSON.parse(t,void 0)}};function R9(){this.g=new C9}function k9(t,e,n){const r=n||"";try{YT(t,function(s,i){let o=s;bu(s)&&(o=gv(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function I9(t,e){const n=new Xh;if(_e.Image){const r=new Image;r.onload=Ic(Ac,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ic(Ac,n,r,"TestLoadImage: error",!1,e),r.onabort=Ic(Ac,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ic(Ac,n,r,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ac(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Mu(t){this.l=t.fc||null,this.j=t.ob||!1}Vt(Mu,wv);Mu.prototype.g=function(){return new sf(this.l,this.j)};Mu.prototype.i=function(t){return function(){return t}}({});function sf(t,e){Ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(sf,Ut);var Cv=0;z=sf.prototype;z.open=function(t,e){if(this.readyState!=Cv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xl(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$u(this)),this.readyState=Cv};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xl(this)),this.g&&(this.readyState=3,Xl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function aC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$u(this):Xl(this),this.readyState==3&&aC(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,$u(this))};z.Ya=function(t){this.g&&(this.response=t,$u(this))};z.ka=function(){this.g&&$u(this)};function $u(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xl(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Xl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var N9=_e.JSON.parse;function vt(t){Ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lC,this.L=this.M=!1}Vt(vt,Ut);var lC="",A9=/^https?$/i,b9=["POST","PUT"];z=vt.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wg.g(),this.C=this.u?x_(this.u):x_(wg),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){P_(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=_e.FormData&&t instanceof _e.FormData,!(0<=RT(b9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dC(this),0<this.B&&((this.L=x9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=_v(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){P_(this,i)}};function x9(t){return Bo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof lv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function P_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uC(t),of(t)}function uC(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),of(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),of(this,!0)),vt.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?cC(this):this.kb())};z.kb=function(){cC(this)};function cC(t){if(t.h&&typeof lv<"u"&&(!t.C[1]||yr(t)!=4||t.da()!=2)){if(t.v&&yr(t)==4)_v(t.La,0,t);else if(Ht(t,"readystatechange"),yr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(XT)[1]||null;!s&&_e.self&&_e.self.location&&(s=_e.self.location.protocol.slice(0,-1)),r=!A9.test(s?s.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var i=2<yr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",uC(t)}}finally{of(t)}}}}function of(t,e){if(t.g){dC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function dC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(_e.clearTimeout(t.A),t.A=null)}z.isActive=function(){return!!this.g};function yr(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),N9(e)}};function L_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function D9(t){const e={};t=(t.g&&2<=yr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Hl(t[r]))continue;var n=r9(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}ZD(e,function(r){return r.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hC(t){let e="";return dv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Rv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tt(t,e,n))}function $a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fC(t){this.Ga=0,this.j=[],this.l=new Xh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$a("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$a("baseRetryDelayMs",5e3,t),this.hb=$a("retryDelaySeedMs",1e4,t),this.eb=$a("forwardChannelMaxRetries",2,t),this.xa=$a("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nC(t&&t.concurrentRequestLimit),this.Ja=new R9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=fC.prototype;z.ra=8;z.H=1;function kv(t){if(pC(t),t.H==3){var e=t.W++,n=Zr(t.I);if(tt(n,"SID",t.K),tt(n,"RID",e),tt(n,"TYPE","terminate"),Uu(t,n),e=new Pu(t,t.l,e),e.L=2,e.v=rf(Zr(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon)try{n=_e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&_e.Image&&(new Image().src=e.v,n=!0),n||(e.g=EC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lu(e)}wC(t)}function af(t){t.g&&(Nv(t),t.g.cancel(),t.g=null)}function pC(t){af(t),t.u&&(_e.clearTimeout(t.u),t.u=null),Kd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&_e.clearTimeout(t.m),t.m=null)}function lf(t){if(!rC(t.i)&&!t.m){t.m=!0;var e=t.Na;Kl||$T(),Gl||(Kl(),Gl=!0),yv.add(e,t),t.C=0}}function O9(t,e){return sC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Du(en(t.Na,t,e),_C(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Pu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=AT(i),bT(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mC(this,s,e),n=Zr(this.I),tt(n,"RID",t),tt(n,"CVER",22),this.F&&tt(n,"X-HTTP-Session-Id",this.F),Uu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(hC(i)))+"&"+e:this.o&&Rv(n,this.o,i)),Tv(this.i,s),this.bb&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",e),tt(n,"SID","null"),s.aa=!0,Eg(s,n,null)):Eg(s,n,e),this.H=2}}else this.H==3&&(t?M_(this,t):this.j.length==0||rC(this.i)||M_(this))};function M_(t,e){var n;e?n=e.m:n=t.W++;const r=Zr(t.I);tt(r,"SID",t.K),tt(r,"RID",n),tt(r,"AID",t.V),Uu(t,r),t.o&&t.s&&Rv(r,t.o,t.s),n=new Pu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=mC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Tv(t.i,n),Eg(n,r,e)}function Uu(t,e){t.na&&dv(t.na,function(n,r){tt(e,r,n)}),t.h&&YT({},function(n,r){tt(e,r,n)})}function mC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?en(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{k9(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function gC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kl||$T(),Gl||(Kl(),Gl=!0),yv.add(e,t),t.A=0}}function Iv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Du(en(t.Ma,t),_C(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,yC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Du(en(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dn(10),af(this),yC(this))};function Nv(t){t.B!=null&&(_e.clearTimeout(t.B),t.B=null)}function yC(t){t.g=new Pu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);tt(e,"RID","rpc"),tt(e,"SID",t.K),tt(e,"AID",t.V),tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tt(e,"TO",t.qa),tt(e,"TYPE","xmlhttp"),Uu(t,e),t.o&&t.s&&Rv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=rf(Zr(e)),n.s=null,n.S=!0,KT(n,t)}z.ib=function(){this.v!=null&&(this.v=null,af(this),Iv(this),dn(19))};function Kd(t){t.v!=null&&(_e.clearTimeout(t.v),t.v=null)}function vC(t,e){var n=null;if(t.g==e){Kd(t),Nv(t),t.g=null;var r=2}else if(Cg(t.i,e))n=e.F,iC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Jh(),Ht(r,new jT(r,n)),lf(t)}else gC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&O9(t,e)||r==2&&Iv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:li(t,5);break;case 4:li(t,10);break;case 3:li(t,6);break;default:li(t,2)}}}function _C(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function li(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=en(t.pb,t);n||(n=new fi("//www.google.com/images/cleardot.gif"),_e.location&&_e.location.protocol=="http"||Hd(n,"https"),rf(n)),I9(n.toString(),r)}else dn(2);t.H=0,t.h&&t.h.za(e),wC(t),pC(t)}z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),dn(2)):(this.l.info("Failed to ping google.com"),dn(1))};function wC(t){if(t.H=0,t.ma=[],t.h){const e=oC(t.i);(e.length!=0||t.j.length!=0)&&(k_(t.ma,e),k_(t.ma,t.j),t.i.i.length=0,uv(t.j),t.j.length=0),t.h.ya()}}function SC(t,e,n){var r=n instanceof fi?Zr(n):new fi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Wd(r,r.m);else{var s=_e.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new fi(null);r&&Hd(i,r),e&&(i.g=e),s&&Wd(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&tt(r,n,e),tt(r,"VER",t.ra),Uu(t,r),r}function EC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new vt(new Mu({ob:!0})):new vt(t.va),e.Oa(t.J),e}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function TC(){}z=TC.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function Gd(){if(Bo&&!(10<=Number(WD)))throw Error("Environmental error: no available transport.")}Gd.prototype.g=function(t,e){return new On(t,e)};function On(t,e){Ut.call(this),this.g=new fC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}Vt(On,Ut);On.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;dn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=SC(t,null,t.Y),lf(t)};On.prototype.close=function(){kv(this.g)};On.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=gv(t),t=n);e.j.push(new E9(e.fb++,t)),e.H==3&&lf(e)};On.prototype.N=function(){this.g.h=null,delete this.j,kv(this.g),delete this.g,On.$.N.call(this)};function CC(t){Sv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Vt(CC,Sv);function RC(){Ev.call(this),this.status=1}Vt(RC,Ev);function ca(t){this.g=t}Vt(ca,TC);ca.prototype.Ba=function(){Ht(this.g,"a")};ca.prototype.Aa=function(t){Ht(this.g,new CC(t))};ca.prototype.za=function(t){Ht(this.g,new RC)};ca.prototype.ya=function(){Ht(this.g,"b")};function P9(){this.blockSize=-1}function ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Vt(ar,P9);ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Vp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}ar.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Vp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Vp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Vp(this,r),s=0;break}}this.h=s,this.i+=e};ar.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function He(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var L9={};function Av(t){return-128<=t&&128>t?jD(t,function(e){return new He([e|0],0>e?-1:0)}):new He([t|0],0>t?-1:0)}function vr(t){if(isNaN(t)||!isFinite(t))return Eo;if(0>t)return jt(vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rg;return new He(e,0)}function kC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(kC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vr(Math.pow(e,8)),r=Eo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=vr(Math.pow(e,i)),r=r.R(i).add(vr(o))):(r=r.R(n),r=r.add(vr(o)))}return r}var Rg=4294967296,Eo=Av(0),kg=Av(1),$_=Av(16777216);z=He.prototype;z.ea=function(){if(Bn(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rg+r)*e,e*=Rg}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Fr(this))return"0";if(Bn(this))return"-"+jt(this).toString(t);for(var e=vr(Math.pow(t,6)),n=this,r="";;){var s=Zd(n,e).g;n=Qd(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Fr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Bn(t){return t.h==-1}z.X=function(t){return t=Qd(this,t),Bn(t)?-1:Fr(t)?0:1};function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new He(n,~t.h).add(kg)}z.abs=function(){return Bn(this)?jt(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new He(n,n[n.length-1]&-2147483648?-1:0)};function Qd(t,e){return t.add(jt(e))}z.R=function(t){if(Fr(this)||Fr(t))return Eo;if(Bn(this))return Bn(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(Bn(t))return jt(this.R(jt(t)));if(0>this.X($_)&&0>t.X($_))return vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,bc(n,2*r+2*s),n[2*r+2*s+1]+=i*l,bc(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,bc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,bc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new He(n,0)};function bc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ua(t,e){this.g=t,this.h=e}function Zd(t,e){if(Fr(e))throw Error("division by zero");if(Fr(t))return new Ua(Eo,Eo);if(Bn(t))return e=Zd(jt(t),e),new Ua(jt(e.g),jt(e.h));if(Bn(e))return e=Zd(t,jt(e)),new Ua(jt(e.g),e.h);if(30<t.g.length){if(Bn(t)||Bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kg,r=e;0>=r.X(t);)n=U_(n),r=U_(r);var s=Gi(n,1),i=Gi(r,1);for(r=Gi(r,2),n=Gi(n,2);!Fr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Gi(r,1),n=Gi(n,1)}return e=Qd(t,s.R(e)),new Ua(s,e)}for(s=Eo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=vr(n),o=i.R(e);Bn(o)||0<o.X(t);)n-=r,i=vr(n),o=i.R(e);Fr(i)&&(i=kg),s=s.add(i),t=Qd(t,o)}return new Ua(s,t)}z.gb=function(t){return Zd(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new He(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new He(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new He(n,this.h^t.h)};function U_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new He(n,t.h)}function Gi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new He(s,t.h)}Gd.prototype.createWebChannel=Gd.prototype.g;On.prototype.send=On.prototype.u;On.prototype.open=On.prototype.m;On.prototype.close=On.prototype.close;ef.NO_ERROR=0;ef.TIMEOUT=8;ef.HTTP_ERROR=6;qT.COMPLETE="complete";HT.EventType=Ou;Ou.OPEN="a";Ou.CLOSE="b";Ou.ERROR="c";Ou.MESSAGE="d";Ut.prototype.listen=Ut.prototype.O;vt.prototype.listenOnce=vt.prototype.P;vt.prototype.getLastError=vt.prototype.Sa;vt.prototype.getLastErrorCode=vt.prototype.Ia;vt.prototype.getStatus=vt.prototype.da;vt.prototype.getResponseJson=vt.prototype.Wa;vt.prototype.getResponseText=vt.prototype.ja;vt.prototype.send=vt.prototype.ha;vt.prototype.setWithCredentials=vt.prototype.Oa;ar.prototype.digest=ar.prototype.l;ar.prototype.reset=ar.prototype.reset;ar.prototype.update=ar.prototype.j;He.prototype.add=He.prototype.add;He.prototype.multiply=He.prototype.R;He.prototype.modulo=He.prototype.gb;He.prototype.compare=He.prototype.X;He.prototype.toNumber=He.prototype.ea;He.prototype.toString=He.prototype.toString;He.prototype.getBits=He.prototype.D;He.fromNumber=vr;He.fromString=kC;var M9=function(){return new Gd},$9=function(){return Jh()},Fp=ef,U9=qT,V9=Vi,V_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},F9=Mu,xc=HT,B9=vt,z9=ar,To=He;const F_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new iv("@firebase/firestore");function B_(){return Ri.logLevel}function se(t,...e){if(Ri.logLevel<=$e.DEBUG){const n=e.map(bv);Ri.debug(`Firestore (${da}): ${t}`,...n)}}function Yr(t,...e){if(Ri.logLevel<=$e.ERROR){const n=e.map(bv);Ri.error(`Firestore (${da}): ${t}`,...n)}}function zo(t,...e){if(Ri.logLevel<=$e.WARN){const n=e.map(bv);Ri.warn(`Firestore (${da}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function it(t,e){t||ve()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class q9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let H9=class{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new IC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Zt(e)}};class W9{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class K9{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new W9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.T=n.token,new G9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Z9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ct(0,0))}static max(){return new Se(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Jl{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const Y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Jl{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return Y9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(nt.fromString(e))}static fromName(e){return new ue(nt.fromString(e).popFirst(5))}static empty(){return new ue(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new nt(e.slice()))}}function X9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Vs(s,ue.empty(),e)}function J9(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(Se.min(),ue.empty(),-1)}static max(){return new Vs(Se.max(),ue.empty(),-1)}}function eO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==tO)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}xv.ct=-1;function uf(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function rO(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=i??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new zt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(t,e,n,r,s){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new An([])}unionWith(e){let n=new nn(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bC("Invalid base64 string: "+s):s}}(e);return new on(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(it(!!t),typeof t=="string"){let e=0;const n=sO.exec(t);if(it(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ov(t){const e=t.mapValue.fields.__previous_value__;return Dv(e)?Ov(e):e}function eu(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class tu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dv(t)?4:oO(t)?9007199254740991:10:ve()}function Nr(t,e){if(t===e)return!0;const n=Ii(t);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Fs(r.timestampValue),o=Fs(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ki(r.bytesValue).isEqual(ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return It(r.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return It(r.integerValue)===It(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=It(r.doubleValue),o=It(s.doubleValue);return i===o?Yd(i)===Yd(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(z_(i)!==z_(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Nr(i[a],o[a])))return!1;return!0}(t,e);default:return ve()}}function nu(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=Ii(t),r=Ii(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=It(s.integerValue||s.doubleValue),a=It(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return q_(t.timestampValue,e.timestampValue);case 4:return q_(eu(t),eu(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,i){const o=ki(s),a=ki(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ze(o[l],a[l]);if(u!==0)return u}return ze(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ze(It(s.latitude),It(i.latitude));return o!==0?o:ze(It(s.longitude),It(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=qo(o[l],a[l]);if(u)return u}return ze(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===Oc.mapValue&&i===Oc.mapValue)return 0;if(s===Oc.mapValue)return 1;if(i===Oc.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ze(a[c],u[c]);if(d!==0)return d;const h=qo(o[a[c]],l[u[c]]);if(h!==0)return h}return ze(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Fs(t),r=Fs(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function Ho(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Fs(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ki(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=Ig(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${Ig(r.fields[a])}`;return i+"}"}(t.mapValue):ve();var e,n}function H_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ng(t){return!!t&&"integerValue"in t}function Pv(t){return!!t&&"arrayValue"in t}function W_(t){return!!t&&"nullValue"in t}function K_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rd(t){return!!t&&"mapValue"in t}function gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=gl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(gl(this.value))}}function xC(t){const e=[];return Fi(t.fields,(n,r)=>{const s=new Jt([n]);if(rd(r)){const i=xC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,Se.min(),Se.min(),Se.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Xt(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new Xt(e,2,n,Se.min(),Se.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Se.min(),Se.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function G_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=qo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n="asc"){this.field=e,this.dir=n}}function aO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class At extends DC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uO(e,n,r):n==="array-contains"?new hO(e,r):n==="in"?new fO(e,r):n==="not-in"?new pO(e,r):n==="array-contains-any"?new mO(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cO(e,r):new dO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qo(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lr extends DC{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new lr(e,n)}matches(e){return OC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function OC(t){return t.op==="and"}function PC(t){return lO(t)&&OC(t)}function lO(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Ag(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(PC(t))return t.filters.map(e=>Ag(e)).join(",");{const e=t.filters.map(n=>Ag(n)).join(",");return`${t.op}(${e})`}}function LC(t,e){return t instanceof At?function(n,r){return r instanceof At&&n.op===r.op&&n.field.isEqual(r.field)&&Nr(n.value,r.value)}(t,e):t instanceof lr?function(n,r){return r instanceof lr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&LC(i,r.filters[o]),!0):!1}(t,e):void ve()}function MC(t){return t instanceof At?function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`}(t):t instanceof lr?function(e){return e.op.toString()+" {"+e.getFilters().map(MC).join(" ,")+"}"}(t):"Filter"}class uO extends At{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class cO extends At{constructor(e,n){super(e,"in",n),this.keys=$C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dO extends At{constructor(e,n){super(e,"not-in",n),this.keys=$C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class hO extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pv(n)&&nu(n.arrayValue,this.value)}}class fO extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class pO extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}}class mO extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Z_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new gO(t,e,n,r,s,i,o)}function Lv(t){const e=Re(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.dt=n}return e.dt}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q_(t.startAt,e.startAt)&&Q_(t.endAt,e.endAt)}function bg(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function yO(t,e,n,r,s,i,o,a){return new ha(t,e,n,r,s,i,o,a)}function $v(t){return new ha(t)}function Y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function UC(t){return t.collectionGroup!==null}function Ro(t){const e=Re(t);if(e.wt===null){e.wt=[];const n=cf(e),r=Uv(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Co(n)),e.wt.push(new Co(Jt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Co(Jt.keyField(),i))}}}return e.wt}function Xr(t){const e=Re(t);if(!e._t)if(e.limitType==="F")e._t=Z_(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ro(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Co(i.field,o))}const r=e.endAt?new Xd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Xd(e.startAt.position,e.startAt.inclusive):null;e._t=Z_(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function xg(t,e){e.getFirstInequalityField(),cf(t);const n=t.filters.concat([e]);return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dg(t,e,n){return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return Mv(Xr(t),Xr(e))&&t.limitType===e.limitType}function VC(t){return`${Lv(Xr(t))}|lt:${t.limitType}`}function Og(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>MC(r)).join(", ")}]`),uf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),`Target(${n})`}(Xr(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ue.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Ro(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=G_(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Ro(n),r)||n.endAt&&!function(s,i,o){const a=G_(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Ro(n),r))}(t,e)}function vO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FC(t){return(e,n)=>{let r=!1;for(const s of Ro(t)){const i=_O(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _O(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?qo(a,l):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return AC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new pt(ue.comparator);function Jr(){return wO}const BC=new pt(ue.comparator);function tl(...t){let e=BC;for(const n of t)e=e.insert(n.key,n);return e}function zC(t){let e=BC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return yl()}function jC(){return yl()}function yl(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const SO=new pt(ue.comparator),EO=new nn(ue.comparator);function Oe(...t){let e=EO;for(const n of t)e=e.add(n);return e}const TO=new nn(ze);function CO(){return TO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function HC(t){return{integerValue:""+t}}function WC(t,e){return rO(e)?HC(e):qC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function RO(t,e,n){return t instanceof Jd?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Dv(s)&&(s=Ov(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Wo?GC(t,e):t instanceof ru?QC(t,e):function(r,s){const i=KC(r,s),o=X_(i)+X_(r.gt);return Ng(i)&&Ng(r.gt)?HC(o):qC(r.serializer,o)}(t,e)}function kO(t,e,n){return t instanceof Wo?GC(t,e):t instanceof ru?QC(t,e):n}function KC(t,e){return t instanceof su?Ng(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Jd extends ff{}class Wo extends ff{constructor(e){super(),this.elements=e}}function GC(t,e){const n=ZC(e);for(const r of t.elements)n.some(s=>Nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends ff{constructor(e){super(),this.elements=e}}function QC(t,e){let n=ZC(e);for(const r of t.elements)n=n.filter(s=>!Nr(s,r));return{arrayValue:{values:n}}}class su extends ff{constructor(e,n){super(),this.serializer=e,this.gt=n}}function X_(t){return It(t.integerValue||t.doubleValue)}function ZC(t){return Pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.field=e,this.transform=n}}function IO(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Wo&&r instanceof Wo||n instanceof ru&&r instanceof ru?jo(n.elements,r.elements,Nr):n instanceof su&&r instanceof su?Nr(n.gt,r.gt):n instanceof Jd&&r instanceof Jd}(t.transform,e.transform)}class NO{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function XC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eR(t.key,rr.none()):new Bu(t.key,t.data,rr.none());{const n=t.data,r=_n.empty();let s=new nn(Jt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Zs(t.key,r,new An(s.toArray()),rr.none())}}function AO(t,e,n){t instanceof Bu?function(r,s,i){const o=r.value.clone(),a=ew(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(r,s,i){if(!sd(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=ew(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(JC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof Bu?function(s,i,o,a){if(!sd(s.precondition,i))return o;const l=s.value.clone(),u=tw(s.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(s,i,o,a){if(!sd(s.precondition,i))return o;const l=tw(s.fieldTransforms,a,i),u=i.data;return u.setAll(JC(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,i,o){return sd(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function bO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KC(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function J_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&jo(n,r,(s,i)=>IO(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends pf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zs extends pf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ew(t,e,n){const r=new Map;it(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,kO(o,a,n[s]))}return r}function tw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,RO(i,o,e))}return r}class eR extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xO extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&AO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=XC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>J_(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>J_(n,r))}}class Vv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){it(e.mutations.length===r.length);let s=SO;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Vv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Le;function LO(t){switch(t){default:return ve();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function tR(t){if(t===void 0)return Yr("GRPC error has no .code"),D.UNKNOWN;switch(t){case kt.OK:return D.OK;case kt.CANCELLED:return D.CANCELLED;case kt.UNKNOWN:return D.UNKNOWN;case kt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case kt.INTERNAL:return D.INTERNAL;case kt.UNAVAILABLE:return D.UNAVAILABLE;case kt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case kt.NOT_FOUND:return D.NOT_FOUND;case kt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case kt.ABORTED:return D.ABORTED;case kt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case kt.DATA_LOSS:return D.DATA_LOSS;default:return ve()}}(Le=kt||(kt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pc}static getOrCreateInstance(){return Pc===null&&(Pc=new Fv),Pc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Pc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new To([4294967295,4294967295],0);function nw(t){const e=MO().encode(t),n=new z9;return n.update(e),new Uint8Array(n.digest())}function rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new To([n,r],0),new To([s,i],0)]}class Bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nl(`Invalid padding: ${n}`);if(r<0)throw new nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=To.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(To.fromNumber(r)));return s.compare($O)===1&&(s=new To([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=nw(e),[r,s]=rw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=nw(e),[r,s]=rw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(Se.min(),s,new pt(ze),Jr(),Oe())}}class zu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class nR{constructor(e,n){this.targetId=e,this.Vt=n}}class rR{constructor(e,n,r=on.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sw{constructor(){this.St=0,this.Dt=ow(),this.Ct=on.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Oe(),n=Oe(),r=Oe();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve()}}),new zu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=ow()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class UO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Jr(),this.zt=iw(),this.Wt=new pt(ze)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(bg(o))if(s===0){const a=new ue(o.path);this.Yt(r,a,Xt.newNoDocument(a,Se.min()))}else it(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Fv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,p,m,v,w,y;const f={localCacheCount:c,existenceFilterCount:d.count},g=d.unchangedNames;return g&&(f.bloomFilter={applied:u===0,hashCount:(h=g==null?void 0:g.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(v=(m=(p=g==null?void 0:g.bits)===null||p===void 0?void 0:p.bitmap)===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0,padding:(y=(w=g==null?void 0:g.bits)===null||w===void 0?void 0:w.padding)!==null&&y!==void 0?y:0}),f}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=ki(i).toUint8Array()}catch(c){if(c instanceof bC)return zo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Bv(l,o,a)}catch(c){return zo(c instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&bg(a.target)){const l=new ue(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Xt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=Oe();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new mf(e,n,this.Wt,this.jt,r);return this.jt=Jr(),this.zt=iw(),this.Wt=new pt(ze),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new sw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new nn(ze),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function iw(){return new pt(ue.comparator)}function ow(){return new pt(ue.comparator)}const VO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),FO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),BO=(()=>({and:"AND",or:"OR"}))();class zO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||uf(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jO(t,e){return eh(t,e.toTimestamp())}function Cr(t){return it(!!t),Se.fromTimestamp(function(e){const n=Fs(e);return new Ct(n.seconds,n.nanos)}(t))}function zv(t,e){return function(n){return new nt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function iR(t){const e=nt.fromString(t);return it(uR(e)),e}function Lg(t,e){return zv(t.databaseId,e.path)}function Bp(t,e){const n=iR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(oR(n))}function Mg(t,e){return zv(t.databaseId,e)}function qO(t){const e=iR(t);return e.length===4?nt.emptyPath():oR(e)}function $g(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oR(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aw(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function HO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(it(u===void 0||typeof u=="string"),on.fromBase64String(u||"")):(it(u===void 0||u instanceof Uint8Array),on.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?D.UNKNOWN:tR(l.code);return new Q(u,l.message||"")}(o);n=new rR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bp(t,r.document.name),i=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):Se.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new id(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bp(t,r.document),i=r.readTime?Cr(r.readTime):Se.min(),o=Xt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new id([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bp(t,r.document),i=r.removedTargetIds||[];n=new id([],i,s,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new PO(s,i),a=r.targetId;n=new nR(a,o)}}return n}function WO(t,e){let n;if(e instanceof Bu)n={update:aw(t,e.key,e.value)};else if(e instanceof eR)n={delete:Lg(t,e.key)};else if(e instanceof Zs)n={update:aw(t,e.key,e.data),updateMask:tP(e.fieldMask)};else{if(!(e instanceof xO))return ve();n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Jd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wo)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ru)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof su)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:jO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function KO(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Cr(r.updateTime):Cr(s);return i.isEqual(Se.min())&&(i=Cr(s)),new NO(i,r.transformResults||[])}(n,e))):[]}function GO(t,e){return{documents:[Mg(t,e.path)]}}function QO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Mg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return lR(lr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Yi(c.field),direction:XO(c.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Pg(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ZO(t){let e=qO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){it(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(c){const d=aR(c);return d instanceof lr&&PC(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Co(Xi(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,uf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Xd(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Xd(h,d)}(n.endAt)),yO(e,s,o,i,a,"F",l,u)}function YO(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xi(e.unaryFilter.field);return At.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Xi(e.unaryFilter.field);return At.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xi(e.unaryFilter.field);return At.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xi(e.unaryFilter.field);return At.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(e){return At.create(Xi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return lr.create(e.compositeFilter.filters.map(n=>aR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ve()}}(e.compositeFilter.op))}(t):ve()}function XO(t){return VO[t]}function JO(t){return FO[t]}function eP(t){return BO[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function Xi(t){return Jt.fromServerFormat(t.fieldPath)}function lR(t){return t instanceof At?function(e){if(e.op==="=="){if(K_(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NAN"}};if(W_(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(K_(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NAN"}};if(W_(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(e.field),op:JO(e.op),value:e.value}}}(t):t instanceof lr?function(e){const n=e.getFilters().map(r=>lR(r));return n.length===1?n[0]:{compositeFilter:{op:eP(e.op),filters:n}}}(t):ve()}function tP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,s,i=Se.min(),o=Se.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.fe=e}}function rP(t){const e=ZO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.rn=new iP}addToCollectionParentIndex(e,n){return this.rn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Vs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class iP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nn(nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nn(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ko(0)}static Mn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&vl(r.mutation,s,An.empty(),Ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=tl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Jr();const o=yl(),a=yl();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof Zs)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),vl(c.mutation,u,c.mutation.getFieldMask(),Ct.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new aP(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yl();let s=new pt((o,a)=>o-a),i=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||An.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||Oe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=jC();c.forEach(h=>{if(!i.has(h)){const p=XC(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(ui());let a=-1,l=i;return o.next(u=>U.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:zC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=tl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=tl();return this.indexManager.getCollectionParents(e,s).next(o=>U.forEach(o,a=>{const l=function(u,c){return new ha(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{i=i.insert(c,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Xt.newInvalidDocument(u)))});let o=tl();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&vl(u.mutation,l,An.empty(),Ct.now()),hf(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return U.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Cr(r.createTime)}),U.resolve()}getNamedQuery(e,n){return U.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:rP(r.bundledQuery),readTime:Cr(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.overlays=new pt(ue.comparator),this.ls=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ui();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=ui(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=ui(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ui(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return U.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OO(n,r));let i=this.ls.get(n);i===void 0&&(i=Oe(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.fs=new nn(Lt.ds),this.ws=new nn(Lt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Lt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ue(new nt([])),r=new Lt(n,e),s=new Lt(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ue(new nt([])),r=new Lt(n,e),s=new Lt(n,e+1);let i=Oe();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Lt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ue.comparator(e.key,n.key)||ze(e.As,n.As)}static _s(e,n){return ze(e.As,n.As)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new nn(Lt.ds)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new DO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new Lt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(ze);return n.forEach(s=>{const i=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),U.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new Lt(new ue(i),0);let a=new nn(ze);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},o),U.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){it(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return U.forEach(n.mutations,s=>{const i=new Lt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Lt(n,0),s=this.Rs.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.Ds=e,this.docs=new pt(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Xt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jr();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eO(J9(c),r)<=0||(s.has(c.key)||hf(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ve()}Cs(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fP(this)}getSize(e){return U.resolve(this.size)}}class fP extends oP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.persistence=e,this.xs=new fa(n=>Lv(n),Mv),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jv,this.targetCount=0,this.Ms=Ko.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),U.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Fn(n),U.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.$s={},this.overlays={},this.Os=new xv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new pP(this),this.indexManager=new sP,this.remoteDocumentCache=function(r){return new hP(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new nP(n),this.qs=new uP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new dP(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new gP(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return U.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class gP extends nO{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Qs=new jv,this.js=null}static zs(e){return new qv(e)}get Ws(){if(this.js)return this.js;throw ve()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),U.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Ws,r=>{const s=ue.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,Se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return U.or([()=>U.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=Oe(),s=Oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Y_(n))return U.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dg(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Oe(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Dg(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return Y_(n)||s.isEqual(Se.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(B_()<=$e.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Og(n)),this.Wi(e,o,n,X9(s,-1)))})}ji(e,n){let r=new nn(FC(e));return n.forEach((s,i)=>{hf(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return B_()<=$e.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Og(n)),this.Ui.getDocumentsMatchingQuery(e,n,Vs.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new pt(ze),this.Yi=new fa(i=>Lv(i),Mv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function _P(t,e,n,r){return new vP(t,e,n,r)}async function cR(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Oe();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function wP(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=U.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(m=>{const v=l.docVersions.get(p);it(v!==null),m.version.compareTo(v)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dR(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function SP(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=s.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(i,c.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(on.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),s=s.insert(d,p),function(m,v,w){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&a.push(n.Bs.updateTargetData(i,p))});let l=Jr(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(EP(i,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(Se.min())){const c=n.Bs.getLastRemoteSnapshotVersion(i).next(d=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ji=s,i))}function EP(t,e,n){let r=Oe(),s=Oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:s}})}function TP(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CP(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=Re(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Fu(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function lw(t,e,n){const r=Re(t);let s=Se.min(),i=Oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Re(a),d=c.Yi.get(u);return d!==void 0?U.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,Xr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:Se.min(),n?i:Oe())).next(a=>(RP(r,vO(e),a),{documents:a,ir:i})))}function RP(t,e,n){let r=t.Xi.get(e)||Se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class uw{constructor(){this.activeTargetIds=CO()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kP{constructor(){this.Hr=new uw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function zp(){return Lc===null?Lc=268435456+Math.round(2147483648*Math.random()):Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class bP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=zp(),a=this.To(e,n);se("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(u=>(se("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw zo("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=NP[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=zp();return new Promise((o,a)=>{const l=new B9;l.setWithCredentials(!0),l.listenOnce(U9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fp.NO_ERROR:const c=l.getResponseJson();se(Qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Fp.TIMEOUT:se(Qt,`RPC '${e}' ${i} timed out`),a(new Q(D.DEADLINE_EXCEEDED,"Request time out"));break;case Fp.HTTP_ERROR:const d=l.getStatus();if(se(Qt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(w)>=0?w:D.UNKNOWN}(p.status);a(new Q(m,p.message))}else a(new Q(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(D.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Qt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);se(Qt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=zp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=M9(),a=$9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new F9({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");se(Qt,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const m=new AP({ro:w=>{p?se(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(h||(se(Qt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),se(Qt,`RPC '${e}' stream ${s} sending:`,w),d.send(w))},oo:()=>d.close()}),v=(w,y,f)=>{w.listen(y,g=>{try{f(g)}catch(S){setTimeout(()=>{throw S},0)}})};return v(d,xc.EventType.OPEN,()=>{p||se(Qt,`RPC '${e}' stream ${s} transport opened.`)}),v(d,xc.EventType.CLOSE,()=>{p||(p=!0,se(Qt,`RPC '${e}' stream ${s} transport closed`),m.wo())}),v(d,xc.EventType.ERROR,w=>{p||(p=!0,zo(Qt,`RPC '${e}' stream ${s} transport errored:`,w),m.wo(new Q(D.UNAVAILABLE,"The operation could not be completed")))}),v(d,xc.EventType.MESSAGE,w=>{var y;if(!p){const f=w.data[0];it(!!f);const g=f,S=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(S){se(Qt,`RPC '${e}' stream ${s} received error:`,S);const I=S.status;let N=function(b){const X=kt[b];if(X!==void 0)return tR(X)}(I),A=S.message;N===void 0&&(N=D.INTERNAL,A="Unknown error status: "+I+" with message "+S.message),p=!0,m.wo(new Q(N,A)),d.close()}else se(Qt,`RPC '${e}' stream ${s} received:`,f),m._o(f)}}),v(a,V9.STAT_EVENT,w=>{w.stat===V_.PROXY?se(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===V_.NOPROXY&&se(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new zO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hR(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new Q(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xP extends fR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=HO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Se.min():i.readTime?Cr(i.readTime):Se.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=$g(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=bg(a)?{documents:GO(s,a)}:{query:QO(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=sR(s,i.resumeToken);const l=Pg(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(Se.min())>0){o.readTime=eh(s,i.snapshotVersion.toTimestamp());const l=Pg(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=YO(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.Wo(n)}}class DP extends fR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=KO(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.cu(r,n)}return it(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=$g(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WO(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Q(D.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(D.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(D.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class PP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yr(n),this.mu=!1):se("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Bi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Re(a);l.vu.add(4),await ju(l),l.bu.set("Unknown"),l.vu.delete(4),await yf(l)}(this))})}),this.bu=new PP(r,s)}}async function yf(t){if(Bi(t))for(const e of t.Ru)await e(!0)}async function ju(t){for(const e of t.Ru)await e(!1)}function pR(t,e){const n=Re(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Gv(n)?Kv(n):pa(n).Ko()&&Wv(n,e))}function mR(t,e){const n=Re(t),r=pa(n);n.Au.delete(e),r.Ko()&&gR(n,e),n.Au.size===0&&(r.Ko()?r.jo():Bi(n)&&n.bu.set("Unknown"))}function Wv(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).su(e)}function gR(t,e){t.Vu.qt(e),pa(t).iu(e)}function Kv(t){t.Vu=new UO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.bu.gu()}function Gv(t){return Bi(t)&&!pa(t).Uo()&&t.Au.size>0}function Bi(t){return Re(t).vu.size===0}function yR(t){t.Vu=void 0}async function MP(t){t.Au.forEach((e,n)=>{Wv(t,e)})}async function $P(t,e){yR(t),Gv(t)?(t.bu.Iu(e),Kv(t)):t.bu.set("Unknown")}async function UP(t,e,n){if(t.bu.set("Online"),e instanceof rR&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(t,r)}else if(e instanceof id?t.Vu.Ht(e):e instanceof nR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Se.min()))try{const r=await dR(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(on.EMPTY_BYTE_STRING,u.snapshotVersion)),gR(s,a);const c=new Ss(u.target,a,l,u.sequenceNumber);Wv(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await th(t,r)}}async function th(t,e,n){if(!Fu(e))throw e;t.vu.add(1),await ju(t),t.bu.set("Offline"),n||(n=()=>dR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await yf(t)})}function vR(t,e){return e().catch(n=>th(t,n,e))}async function vf(t){const e=Re(t),n=Bs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;VP(e);)try{const s=await TP(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,FP(e,s)}catch(s){await th(e,s)}_R(e)&&wR(e)}function VP(t){return Bi(t)&&t.Eu.length<10}function FP(t,e){t.Eu.push(e);const n=Bs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function _R(t){return Bi(t)&&!Bs(t).Uo()&&t.Eu.length>0}function wR(t){Bs(t).start()}async function BP(t){Bs(t).hu()}async function zP(t){const e=Bs(t);for(const n of t.Eu)e.uu(n.mutations)}async function jP(t,e,n){const r=t.Eu.shift(),s=Vv.from(r,e,n);await vR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vf(t)}async function qP(t,e){e&&Bs(t).ou&&await async function(n,r){if(s=r.code,LO(s)&&s!==D.ABORTED){const i=n.Eu.shift();Bs(n).Qo(),await vR(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await vf(n)}var s}(t,e),_R(t)&&wR(t)}async function dw(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Bi(n);n.vu.add(3),await ju(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await yf(n)}async function HP(t,e){const n=Re(t);e?(n.vu.delete(2),await yf(n)):e||(n.vu.add(2),await ju(n),n.bu.set("Unknown"))}function pa(t){return t.Su||(t.Su=function(e,n,r){const s=Re(e);return s.fu(),new xP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:MP.bind(null,t),ao:$P.bind(null,t),nu:UP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Gv(t)?Kv(t):t.bu.set("Unknown")):(await t.Su.stop(),yR(t))})),t.Su}function Bs(t){return t.Du||(t.Du=function(e,n,r){const s=Re(e);return s.fu(),new DP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:BP.bind(null,t),ao:qP.bind(null,t),au:zP.bind(null,t),cu:jP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await vf(t)):(await t.Du.stop(),t.Eu.length>0&&(se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Qv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zv(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Fu(t))return new Q(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=tl(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new ko(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Cu=new pt(ue.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ve():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Go{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Go(e,n,ko.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.Nu=void 0,this.listeners=[]}}class KP{constructor(){this.queries=new fa(e=>VC(e),df),this.onlineState="Unknown",this.ku=new Set}}async function SR(t,e){const n=Re(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new WP),s)try{i.Nu=await n.onListen(r)}catch(o){const a=Zv(o,`Initialization of query '${Og(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&Yv(n)}async function ER(t,e){const n=Re(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function GP(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&Yv(n)}function QP(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Yv(t){t.ku.forEach(e=>{e.next()})}class TR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.key=e}}class RR{constructor(e){this.key=e}}class ZP{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Oe(),this.mutatedKeys=Oe(),this.tc=FC(e),this.ec=new ko(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new hw,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const h=s.get(c),p=hf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),w=!0):this.rc(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),i=v?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,c)=>function(d,h){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return p(d)-p(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Go(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new RR(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new CR(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Go.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class YP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XP{constructor(e){this.key=e,this.fc=!1}}class JP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new fa(a=>VC(a),df),this._c=new Map,this.mc=new Set,this.gc=new pt(ue.comparator),this.yc=new Map,this.Ic=new jv,this.Tc={},this.Ec=new Map,this.Ac=Ko.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function eL(t,e){const n=cL(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await CP(n.localStore,Xr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await tL(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&pR(n.remoteStore,o)}return s}async function tL(t,e,n,r,s){t.Rc=(d,h,p)=>async function(m,v,w,y){let f=v.view.sc(w);f.zi&&(f=await lw(m.localStore,v.query,!1).then(({documents:I})=>v.view.sc(I,f)));const g=y&&y.targetChanges.get(v.targetId),S=v.view.applyChanges(f,m.isPrimaryClient,g);return pw(m,v.targetId,S.cc),S.snapshot}(t,d,h,p);const i=await lw(t.localStore,e,!0),o=new ZP(e,i.ir),a=o.sc(i.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);pw(t,n,u.cc);const c=new YP(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function nL(t,e){const n=Re(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!df(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ug(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mR(n.remoteStore,r.targetId),Vg(n,r.targetId)}).catch(Vu)):(Vg(n,r.targetId),await Ug(n.localStore,r.targetId,!0))}async function rL(t,e,n){const r=dL(t);try{const s=await function(i,o){const a=Re(i),l=Ct.now(),u=o.reduce((h,p)=>h.add(p.key),Oe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Jr(),m=Oe();return a.Zi.getEntries(h,u).next(v=>{p=v,p.forEach((w,y)=>{y.isValidDocument()||(m=m.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(v=>{c=v;const w=[];for(const y of o){const f=bO(y,c.get(y.key).overlayedDocument);f!=null&&w.push(new Zs(y.key,f,xC(f.value.mapValue),rr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,w,o)}).next(v=>{d=v;const w=v.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(h,v.batchId,w)})}).then(()=>({batchId:d.batchId,changes:zC(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new pt(ze)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await qu(r,s.changes),await vf(r.remoteStore)}catch(s){const i=Zv(s,"Failed to persist write");n.reject(i)}}async function kR(t,e){const n=Re(t);try{const r=await SP(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?it(o.fc):s.removedDocuments.size>0&&(it(o.fc),o.fc=!1))}),await qu(n,r,e)}catch(r){await Vu(r)}}function fw(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=Re(i);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&Yv(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sL(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new pt(ue.comparator);o=o.insert(i,Xt.newNoDocument(i,Se.min()));const a=Oe().add(i),l=new mf(Se.min(),new Map,new pt(ze),o,a);await kR(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),Xv(r)}else await Ug(r.localStore,e,!1).then(()=>Vg(r,e,n)).catch(Vu)}async function iL(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await wP(n.localStore,e);NR(n,r,null),IR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qu(n,s)}catch(s){await Vu(s)}}async function oL(t,e,n){const r=Re(t);try{const s=await function(i,o){const a=Re(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(it(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);NR(r,e,n),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qu(r,s)}catch(s){await Vu(s)}}function IR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function NR(t,e,n){const r=Re(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||AR(t,r)})}function AR(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(mR(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Xv(t))}function pw(t,e,n){for(const r of n)r instanceof CR?(t.Ic.addReference(r.key,e),aL(t,r)):r instanceof RR?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||AR(t,r.key)):ve()}function aL(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(se("SyncEngine","New document in limbo: "+n),t.mc.add(r),Xv(t))}function Xv(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ue(nt.fromString(e)),r=t.Ac.next();t.yc.set(r,new XP(n)),t.gc=t.gc.insert(n,r),pR(t.remoteStore,new Ss(Xr($v(n.path)),r,"TargetPurposeLimboResolution",xv.ct))}}async function qu(t,e,n){const r=Re(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=Hv.Li(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const u=Re(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>U.forEach(l,d=>U.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>U.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Fu(c))throw c;se("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(d,m)}}}(r.localStore,i))}async function lL(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await cR(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Q(D.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qu(n,r.er)}}function uL(t,e){const n=Re(t),r=n.yc.get(e);if(r&&r.fc)return Oe().add(r.key);{let s=Oe();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function cL(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sL.bind(null,e),e.dc.nu=GP.bind(null,e.eventManager),e.dc.Pc=QP.bind(null,e.eventManager),e}function dL(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oL.bind(null,e),e}class mw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _P(this.persistence,new yP,e.initialUser,this.serializer)}createPersistence(e){return new mP(qv.zs,this.serializer)}createSharedClientState(e){return new kP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lL.bind(null,this.syncEngine),await HP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new KP}createDatastore(e){const n=gf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new bP(s));var s;return function(i,o,a,l){return new OP(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>fw(this.syncEngine,a,0),o=cw.D()?new cw:new IP,new LP(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,u){const c=new JP(r,s,i,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Re(e);se("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ju(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=NC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{se("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(se("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await cR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mL(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>dw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>dw(e.remoteStore,i)),t._onlineComponents=e}function pL(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pL(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new mw)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await qp(t,new mw);return t._offlineComponents}async function xR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await gw(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await gw(t,new hL))),t._onlineComponents}function gL(t){return xR(t).then(e=>e.syncEngine)}async function DR(t){const e=await xR(t),n=e.eventManager;return n.onListen=eL.bind(null,e.syncEngine),n.onUnlisten=nL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new bR({next:d=>{i.enqueueAndForget(()=>ER(s,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Q(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Q(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new TR($v(o.path),u,{includeMetadataChanges:!0,Ku:!0});return SR(s,c)}(await DR(t),t.asyncQueue,e,n,r)),r.promise}function vL(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new bR({next:d=>{i.enqueueAndForget(()=>ER(s,c)),d.fromCache&&a.source==="server"?l.reject(new Q(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new TR(o,u,{includeMetadataChanges:!0,Ku:!0});return SR(s,c)}(await DR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e,n){if(!n)throw new Q(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _L(t,e,n,r){if(e===!0&&r===!0)throw new Q(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vw(t){if(!ue.isDocumentKey(t))throw new Q(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _w(t){if(ue.isDocumentKey(t))throw new Q(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(t);throw new Q(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class wf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new j9;switch(n.type){case"firstParty":return new K9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Q(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yw.get(e);n&&(se("ComponentProvider","Removing Datastore"),yw.delete(e),n.terminate())}(this),Promise.resolve()}}function wL(t,e,n,r={}){var s;const i=(t=Ar(t,wf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zt.MOCK_USER;else{a=_T(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zt(u)}t._authCredentials=new q9(new IC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class Ls extends zi{constructor(e,n,r){super(e,n,$v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ue(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Jv(t,e,...n){if(t=Rt(t),PR("collection","path",e),t instanceof wf){const r=nt.fromString(e,...n);return _w(r),new Ls(t,null,r)}{if(!(t instanceof fn||t instanceof Ls))throw new Q(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return _w(r),new Ls(t.firestore,null,r)}}function Rr(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=NC.A()),PR("doc","path",e),t instanceof wf){const r=nt.fromString(e,...n);return vw(r),new fn(t,null,new ue(r))}{if(!(t instanceof fn||t instanceof Ls))throw new Q(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return vw(r),new fn(t.firestore,t instanceof Ls?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hR(this,"async_queue_retry"),this.Xc=()=>{const n=jp();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Fu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Qv.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&ve()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ma extends wf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new SL,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LR(this),this._firestoreClient.terminate()}}function EL(t,e){const n=typeof t=="object"?t:av(),r=typeof t=="string"?t:e||"(default)",s=Wh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gT("firestore");i&&wL(s,...i)}return s}function e0(t){return t._firestoreClient||LR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LR(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,u){return new iO(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OR(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new fL(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(on.fromBase64String(e))}catch(n){throw new Q(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qo(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^__.*__$/;class CL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class MR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Ef{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if($R(this.ca)&&TL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class RL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gf(e)}ya(e,n,r,s=!1){return new Ef({ca:e,methodName:n,ga:r,path:Jt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new RL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UR(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);n0("Data must be an object, but it was:",o,r);const a=VR(r,o);let l,u;if(i.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const h=Fg(e,d,n);if(!o.contains(h))throw new Q(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BR(c,h)||c.push(h)}l=new An(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new CL(new _n(a),l,u)}class Cf extends Hu{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function kL(t,e,n){return new Ef({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class IL extends Hu{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=kL(this,e,!0),r=this.pa.map(i=>ga(i,n)),s=new Wo(r);return new YC(e.path,s)}isEqual(e){return this===e}}class NL extends Hu{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new su(e.serializer,WC(e.serializer,this.Ia));return new YC(e.path,n)}isEqual(e){return this===e}}function AL(t,e,n,r){const s=t.ya(1,e,n);n0("Data must be an object, but it was:",s,r);const i=[],o=_n.empty();Fi(r,(l,u)=>{const c=r0(e,l,n);u=Rt(u);const d=s.da(c);if(u instanceof Cf)i.push(c);else{const h=ga(u,d);h!=null&&(i.push(c),o.set(c,h))}});const a=new An(i);return new MR(o,a,s.fieldTransforms)}function bL(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[Fg(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Fg(e,i[h])),l.push(i[h+1]);const u=[],c=_n.empty();for(let h=a.length-1;h>=0;--h)if(!BR(u,a[h])){const p=a[h];let m=l[h];m=Rt(m);const v=o.da(p);if(m instanceof Cf)u.push(p);else{const w=ga(m,v);w!=null&&(u.push(p),c.set(p,w))}}const d=new An(u);return new MR(c,d,o.fieldTransforms)}function xL(t,e,n,r=!1){return ga(n,t.ya(r?4:3,e))}function ga(t,e){if(FR(t=Rt(t)))return n0("Unsupported field value:",e,t),VR(t,e);if(t instanceof Hu)return function(n,r){if(!$R(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=ga(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Rt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WC(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ct.fromDate(n);return{timestampValue:eh(r.serializer,s)}}if(n instanceof Ct){const s=new Ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:eh(r.serializer,s)}}if(n instanceof t0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qo)return{bytesValue:sR(r.serializer,n._byteString)};if(n instanceof fn){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${_f(n)}`)}(t,e)}function VR(t,e){const n={};return AC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,s)=>{const i=ga(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof t0||t instanceof Qo||t instanceof fn||t instanceof Hu)}function n0(t,e,n){if(!FR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=_f(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Fg(t,e,n){if((e=Rt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return r0(t,e);throw nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const DL=new RegExp("[~\\*/\\[\\]]");function r0(t,e,n){if(e.search(DL)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(D.INVALID_ARGUMENT,a+t+l)}function BR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(s0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OL extends zR{data(){return super.data()}}function s0(t,e){return typeof e=="string"?r0(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class jR extends i0{}function LL(t,e,...n){let r=[];e instanceof i0&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof a0).length,o=s.filter(a=>a instanceof o0).length;if(i>1||i>0&&o>0)throw new Q(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class o0 extends jR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new o0(e,n,r)}_apply(e){const n=this._parse(e);return qR(e._query,n),new zi(e.firestore,e.converter,xg(e._query,n))}_parse(e){const n=Tf(e.firestore);return function(s,i,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Q(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Ew(c,u);const h=[];for(const p of c)h.push(Sw(a,s,p));d={arrayValue:{values:h}}}else d=Sw(a,s,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Ew(c,u),d=xL(o,i,c,u==="in"||u==="not-in");return At.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class a0 extends i0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)qR(i,a),i=xg(i,a)}(e._query,n),new zi(e.firestore,e.converter,xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l0 extends jR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new l0(e,n)}_apply(e){const n=function(r,s,i){if(r.startAt!==null)throw new Q(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Q(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Co(s,i);return function(a,l){if(Uv(a)===null){const u=cf(a);u!==null&&HR(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new zi(e.firestore,e.converter,function(r,s){const i=r.explicitOrderBy.concat([s]);return new ha(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function ML(t,e="asc"){const n=e,r=s0("orderBy",t);return l0._create(r,n)}function Sw(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new Q(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UC(e)&&n.indexOf("/")!==-1)throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!ue.isDocumentKey(r))throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H_(t,new ue(r))}if(n instanceof fn)return H_(t,n._key);throw new Q(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function Ew(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qR(t,e){if(e.isInequality()){const r=cf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new Q(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=Uv(t);i!==null&&HR(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function HR(t,e,n){if(!n.isEqual(e))throw new Q(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class $L{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new t0(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);it(uR(r));const s=new tu(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||Yr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KR extends zR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(s0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class od extends KR{data(e={}){return super.data(e)}}class UL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new od(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new od(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new od(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:VL(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){t=Ar(t,fn);const e=Ar(t.firestore,ma);return yL(e0(e),t._key).then(n=>zL(e,t,n))}class GR extends $L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function FL(t){t=Ar(t,zi);const e=Ar(t.firestore,ma),n=e0(e),r=new GR(e);return PL(t._query),vL(n,t._query).then(s=>new UL(e,r,t,s))}function BL(t,e,n){t=Ar(t,fn);const r=Ar(t.firestore,ma),s=WR(t.converter,e,n);return u0(r,[UR(Tf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,rr.none())])}function _l(t,e,n,...r){t=Ar(t,fn);const s=Ar(t.firestore,ma),i=Tf(s);let o;return o=typeof(e=Rt(e))=="string"||e instanceof Sf?bL(i,"updateDoc",t._key,e,n,r):AL(i,"updateDoc",t._key,e),u0(s,[o.toMutation(t._key,rr.exists(!0))])}function QR(t,e){const n=Ar(t.firestore,ma),r=Rr(t),s=WR(t.converter,e);return u0(n,[UR(Tf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function u0(t,e){return function(n,r){const s=new qr;return n.asyncQueue.enqueueAndForget(async()=>rL(await gL(n),r,s)),s.promise}(e0(t),e)}function zL(t,e,n){const r=n.docs.get(e._key),s=new GR(t);return new KR(t,s,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}function ZR(...t){return new IL("arrayUnion",t)}function Hp(t){return new NL("increment",t)}(function(t,e=!0){(function(n){da=n})(Ui),Ci(new Us("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new ma(new H9(n.getProvider("auth-internal")),new Q9(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Q(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Tr(F_,"3.13.0",t),Tr(F_,"3.13.0","esm2017")})();var jL="firebase",qL="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(jL,qL,"app");const HL={apiKey:"AIzaSyDgVcY5k8S0SYON7J_4TTB6hmE1iDVv_so",authDomain:"book-community-8cbb7.firebaseapp.com",projectId:"book-community-8cbb7",storageBucket:"book-community-8cbb7.appspot.com",messagingSenderId:"432592952832",appId:"1:432592952832:web:06069995b8179cf80a02e5"},c0=ET(HL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebasestorage.googleapis.com",XR="storageBucket",WL=2*60*1e3,KL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Dr{constructor(e,n,r=0){super(Wp(e),`Firebase Storage: ${n} (${Wp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Wp(t){return"storage/"+t}function d0(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(_t.UNKNOWN,t)}function GL(t){return new wt(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QL(t){return new wt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(_t.UNAUTHENTICATED,t)}function YL(){return new wt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XL(t){return new wt(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JL(){return new wt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eM(){return new wt(_t.CANCELED,"User canceled the upload/download.")}function tM(t){return new wt(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function nM(t){return new wt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rM(){return new wt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XR+"' property when initializing the app?")}function sM(){return new wt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iM(){return new wt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oM(t){return new wt(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bg(t){return new wt(_t.INVALID_ARGUMENT,t)}function JR(){return new wt(_t.APP_DELETED,"The Firebase app was deleted.")}function aM(t){return new wt(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wl(t,e){return new wt(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Va(t){throw new wt(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw nM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${s}/o${h}`,"i"),m={bucket:1,path:3},v=n===YR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${v}/${s}/${w}`,"i"),g=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<g.length;S++){const I=g[S],N=I.regex.exec(e);if(N){const A=N[I.indices.bucket];let b=N[I.indices.path];b||(b=""),r=new bn(A,b),I.postModify(r);break}}if(r==null)throw tM(e);return r}}class lM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){s=setTimeout(()=>{s=null,t(p,l())},w)}function h(){i&&clearTimeout(i)}function p(w,...y){if(u){h();return}if(w){h(),c.call(null,w,...y);return}if(l()||o){h(),c.call(null,w,...y);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,d(g)}let m=!1;function v(w){m||(m=!0,h(),!u&&(s!==null?(w||(a=2),clearTimeout(s),d(0)):w||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function cM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){return t!==void 0}function hM(t){return typeof t=="object"&&!Array.isArray(t)}function h0(t){return typeof t=="string"||t instanceof String}function Tw(t){return f0()&&t instanceof Blob}function f0(){return typeof Blob<"u"&&!v4()}function Cw(t,e,n,r){if(r<e)throw Bg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Bg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ek(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pi||(pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,s,i,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Mc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===pi.NO_ERROR,l=i.getStatus();if(!a||fM(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===pi.ABORT;r(!1,new Mc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Mc(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());dM(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=d0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?JR():eM();o(l)}else{const l=JL();o(l)}};this.canceled_?n(!1,new Mc(!1,null,!0)):this.backoffId_=uM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function mM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _M(t,e,n,r,s,i,o=!0){const a=ek(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return yM(u,e),mM(u,n),gM(u,i),vM(u,r),new pM(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SM(...t){const e=wM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(f0())return new Blob(t);throw new wt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t){if(typeof atob>"u")throw oM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,n){this.data=e,this.contentType=n||null}}function CM(t,e){switch(t){case _r.RAW:return new Kp(tk(e));case _r.BASE64:case _r.BASE64URL:return new Kp(nk(t,e));case _r.DATA_URL:return new Kp(kM(e),IM(e))}throw d0()}function tk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function RM(t){let e;try{e=decodeURIComponent(t)}catch{throw wl(_r.DATA_URL,"Malformed data URL.")}return tk(e)}function nk(t,e){switch(t){case _r.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw wl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw wl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TM(e)}catch(s){throw s.message.includes("polyfill")?s:wl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class rk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wl(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=NM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kM(t){const e=new rk(t);return e.base64?nk(_r.BASE64,e.rest):RM(e.rest)}function IM(t){return new rk(t).contentType}function NM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){let r=0,s="";Tw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Tw(this.data_)){const r=this.data_,s=EM(r,e,n);return s===null?null:new fs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fs(r,!0)}}static getBlob(...e){if(f0()){const n=e.map(r=>r instanceof fs?r.data_:r);return new fs(SM.apply(null,n))}else{const n=e.map(o=>h0(o)?CM(_r.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new fs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){let e;try{e=JSON.parse(t)}catch{return null}return hM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ik(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e){return e}class ln{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||xM}}let $c=null;function DM(t){return!h0(t)||t.length<2?t:ik(t)}function ok(){if($c)return $c;const t=[];t.push(new ln("bucket")),t.push(new ln("generation")),t.push(new ln("metageneration")),t.push(new ln("name","fullPath",!0));function e(i,o){return DM(o)}const n=new ln("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new ln("size");return s.xform=r,t.push(s),t.push(new ln("timeCreated")),t.push(new ln("updated")),t.push(new ln("md5Hash",null,!0)),t.push(new ln("cacheControl",null,!0)),t.push(new ln("contentDisposition",null,!0)),t.push(new ln("contentEncoding",null,!0)),t.push(new ln("contentLanguage",null,!0)),t.push(new ln("contentType",null,!0)),t.push(new ln("metadata","customMetadata",!0)),$c=t,$c}function OM(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new bn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function PM(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return OM(r,t),r}function ak(t,e,n){const r=sk(e);return r===null?null:PM(t,r,n)}function LM(t,e,n,r){const s=sk(e);if(s===null||!h0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=p0(h,n,r),m=ek({alt:"media",token:u});return p+m})[0]}function MM(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class lk{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){if(!t)throw d0()}function $M(t,e){function n(r,s){const i=ak(t,s,e);return uk(i!==null),i}return n}function UM(t,e){function n(r,s){const i=ak(t,s,e);return uk(i!==null),LM(i,s,t.host,t._protocol)}return n}function ck(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=YL():s=ZL():n.getStatus()===402?s=QL(t.bucket):n.getStatus()===403?s=XL(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function VM(t){const e=ck(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=GL(t.path)),i.serverResponse=s.serverResponse,i}return n}function FM(t,e,n){const r=e.fullServerUrl(),s=p0(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new lk(s,i,UM(t,n),o);return a.errorHandler=VM(e),a}function BM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=BM(null,e)),r}function jM(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let S=0;S<2;S++)g=g+Math.random().toString().slice(2);return g}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=zM(e,r,s),c=MM(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=fs.getBlob(d,r,h);if(p===null)throw sM();const m={name:u.fullPath},v=p0(i,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,f=new lk(v,w,$M(t,n),y);return f.urlParams=m,f.headers=o,f.body=p.uploadData(),f.errorHandler=ck(e),f}class qM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HM extends qM{initXhr(){this.xhr_.responseType="text"}}function dk(){return new HM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ni(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ik(this._location.path)}get storage(){return this._service}get parent(){const e=AM(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Ni(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aM(e)}}function WM(t,e,n){t._throwIfRoot("uploadBytes");const r=jM(t.storage,t._location,ok(),new fs(e,!0),n);return t.storage.makeRequestWithTokens(r,dk).then(s=>({metadata:s,ref:t}))}function KM(t){t._throwIfRoot("getDownloadURL");const e=FM(t.storage,t._location,ok());return t.storage.makeRequestWithTokens(e,dk).then(n=>{if(n===null)throw iM();return n})}function GM(t,e){const n=bM(t._location.path,e),r=new bn(t._location.bucket,n);return new Ni(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return/^[A-Za-z]+:\/\//.test(t)}function ZM(t,e){return new Ni(t,e)}function hk(t,e){if(t instanceof m0){const n=t;if(n._bucket==null)throw rM();const r=new Ni(n,n._bucket);return e!=null?hk(r,e):r}else return e!==void 0?GM(t,e):t}function YM(t,e){if(e&&QM(e)){if(t instanceof m0)return ZM(t,e);throw Bg("To use ref(service, url), the first argument must be a Storage instance.")}else return hk(t,e)}function Rw(t,e){const n=e==null?void 0:e[XR];return n==null?null:bn.makeFromBucketSpec(n,t)}function XM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:_T(s,t.app.options.projectId))}class m0{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=YR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WL,this._maxUploadRetryTime=KL,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=Rw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=Rw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ni(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new lM(JR());{const o=_M(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const kw="@firebase/storage",Iw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="storage";function JM(t,e,n){return t=Rt(t),WM(t,e,n)}function e5(t){return t=Rt(t),KM(t)}function t5(t,e){return t=Rt(t),YM(t,e)}function n5(t=av(),e){t=Rt(t);const r=Wh(t,fk).getImmediate({identifier:e}),s=gT("storage");return s&&r5(r,...s),r}function r5(t,e,n,r={}){XM(t,e,n,r)}function s5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new m0(n,r,s,e,Ui)}function i5(){Ci(new Us(fk,s5,"PUBLIC").setMultipleInstances(!0)),Tr(kw,Iw,""),Tr(kw,Iw,"esm2017")}i5();const qn=EL(c0),o5=n5(c0);function g0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=pk,mk=new Nu("auth","Firebase",pk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new iv("@firebase/auth");function l5(t,...e){rh.logLevel<=$e.WARN&&rh.warn(`Auth (${Ui}): ${t}`,...e)}function ad(t,...e){rh.logLevel<=$e.ERROR&&rh.error(`Auth (${Ui}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw y0(t,...e)}function kr(t,...e){return y0(t,...e)}function u5(t,e,n){const r=Object.assign(Object.assign({},a5()),{[e]:n});return new Nu("auth","Firebase",r).create(e,{appName:t.name})}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mk.create(t,...e)}function ye(t,e,...n){if(!t)throw y0(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function es(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c5(){return Nw()==="http:"||Nw()==="https:"}function Nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c5()||_4()||"connection"in navigator)?navigator.onLine:!0}function h5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=y4()||w4()}get(){return d5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new Wu(3e4,6e4);function ya(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function va(t,e,n,r,s={}){return yk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Au(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),gk.fetch()(vk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function yk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},f5),e);try{const s=new m5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw u5(t,c,u);ur(t,c)}}catch(s){if(s instanceof Dr)throw s;ur(t,"network-request-failed",{message:String(s)})}}async function Ku(t,e,n,r,s={}){const i=await va(t,e,n,r,s);return"mfaPendingCredential"in i&&ur(t,"multi-factor-auth-required",{_serverResponse:i}),i}function vk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,s):`${t.config.apiScheme}://${s}`}class m5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),p5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return va(t,"POST","/v1/accounts:delete",e)}async function y5(t,e){return va(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v5(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=_0(r);ye(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sl(Gp(s.auth_time)),issuedAtTime:Sl(Gp(s.iat)),expirationTime:Sl(Gp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gp(t){return Number(t)*1e3}function _0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const s=pT(n);return s?JSON.parse(s):(ad("Failed to decode base64 JWT payload"),null)}catch(s){return ad("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _5(t){const e=_0(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&w5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function w5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await iu(t,y5(n,{idToken:r}));ye(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?C5(i.providerUserInfo):[],a=T5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _k(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function E5(t){const e=Rt(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function C5(t){return t.map(e=>{var{providerId:n}=e,r=g0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){const n=await yk(t,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=vk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ye(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await R5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ou;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ye(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ye(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _k(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v5(this,e)}reload(){return E5(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iu(this,g5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:S,isAnonymous:I,providerData:N,stsTokenManager:A}=n;ye(g&&A,e,"internal-error");const b=ou.fromJSON(this.name,A);ye(typeof g=="string",e,"internal-error"),is(d,e.name),is(h,e.name),ye(typeof S=="boolean",e,"internal-error"),ye(typeof I=="boolean",e,"internal-error"),is(p,e.name),is(m,e.name),is(v,e.name),is(w,e.name),is(y,e.name),is(f,e.name);const X=new mi({uid:g,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:b,createdAt:y,lastLoginAt:f});return N&&Array.isArray(N)&&(X.providerData=N.map(ee=>Object.assign({},ee))),w&&(X._redirectEventId=w),X}static async _fromIdTokenResponse(e,n,r=!1){const s=new ou;s.updateFromServerResponse(n);const i=new mi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function zr(t){es(t instanceof Function,"Expected a class definition");let e=Aw.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wk.type="NONE";const bw=wk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ld(this.userKey,s.apiKey,i),this.fullPersistenceKey=ld("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(zr(bw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||zr(bw);const o=ld(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=mi._fromJSON(e,c);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new No(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new No(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(kk(e))return"Webos";if(w0(e))return"Safari";if((e.includes("chrome/")||Ek(e))&&!e.includes("edge/"))return"Chrome";if(Ck(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sk(t=sn()){return/firefox\//i.test(t)}function w0(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ek(t=sn()){return/crios\//i.test(t)}function Tk(t=sn()){return/iemobile/i.test(t)}function Ck(t=sn()){return/android/i.test(t)}function Rk(t=sn()){return/blackberry/i.test(t)}function kk(t=sn()){return/webos/i.test(t)}function Rf(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k5(t=sn()){var e;return Rf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I5(){return S4()&&document.documentMode===10}function Ik(t=sn()){return Rf(t)||Ck(t)||kk(t)||Rk(t)||/windows phone/i.test(t)||Tk(t)}function N5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e=[]){let n;switch(t){case"Browser":n=xw(sn());break;case"Worker":n=`${xw(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}async function Ak(t,e){return va(t,"GET","/v2/recaptchaConfig",ya(t,e))}function Dw(t){return t!==void 0&&t.enterprise!==void 0}class bk{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",A5().appendChild(r)})}function b5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const x5="https://www.google.com/recaptcha/enterprise.js?render=",D5="recaptcha-enterprise",O5="NO_RECAPTCHA";class Dk{constructor(e){this.type=D5,this.auth=_a(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Ak(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bk(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Dw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(O5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Dw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}xk(x5+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ih(t,e,n,r=!1){const s=new Dk(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ow(this),this.idTokenSubscription=new Ow(this),this.beforeStateQueue=new P5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Rt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}async initializeRecaptchaConfig(){const e=await Ak(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new bk(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Dk(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _a(t){return Rt(t)}class Ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=N4(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){const n=Wh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(zd(i,e??{}))return s;ur(s,"already-initialized")}return n.initialize({options:e})}function $5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U5(t,e,n){const r=_a(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Ok(e),{host:o,port:a}=V5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||F5()}function Ok(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V5(t){const e=Ok(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Pw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Pw(o)}}}function Pw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function B5(t,e){return va(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t,e){return Ku(t,"POST","/v1/accounts:signInWithPassword",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",ya(t,e))}async function j5(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends S0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await ih(e,r,"signInWithPassword");return Qp(e,s)}else return Qp(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await ih(e,r,"signInWithPassword");return Qp(e,i)}else return Promise.reject(s)});case"emailLink":return z5(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return B5(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return j5(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return Ku(t,"POST","/v1/accounts:signInWithIdp",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="http://localhost";class Ai extends S0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=g0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ai(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:q5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W5(t){const e=Ya(Xa(t)).link,n=e?Ya(Xa(e)).deep_link_id:null,r=Ya(Xa(t)).deep_link_id;return(r?Ya(Xa(r)).link:null)||r||n||e||t}class E0{constructor(e){var n,r,s,i,o,a;const l=Ya(Xa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=H5((s=l.mode)!==null&&s!==void 0?s:null);ye(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=W5(e);try{return new E0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E0.parseLink(n);return ye(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Pk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Gu{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ai._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Gu{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Gu{constructor(){super("twitter.com")}static credential(e,n){return Ai._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(t,e){return Ku(t,"POST","/v1/accounts:signUp",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await mi._fromIdTokenResponse(e,r,s),o=Lw(r);return new bi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Lw(r);return new bi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Lw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Dr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new oh(e,n,r,s)}}function Lk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,i,e,r):i})}async function K5(t,e,n=!1){const r=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await iu(t,Lk(r,s,e,t),n);ye(i.idToken,r,"internal-error");const o=_0(i.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),bi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t,e,n=!1){const r="signIn",s=await Lk(t,r,e),i=await bi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Q5(t,e){return Mk(_a(t),e)}async function Z5(t,e,n){var r;const s=_a(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ih(s,i,"signUpPassword");o=Zp(s,u)}else o=Zp(s,i).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ih(s,i,"signUpPassword");return Zp(s,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await bi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function Y5(t,e,n){return Q5(Rt(t),wa.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){return Rt(t).setPersistence(e)}function X5(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function J5(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){const t=sn();return w0(t)||Rf(t)}const t3=1e3,n3=10;class Uk extends $k{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=e3()&&N5(),this.fallbackToPolling=Ik(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);I5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,n3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uk.type="LOCAL";const Vk=Uk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends $k{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fk.type="SESSION";const T0=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await r3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=C0("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function i3(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function o3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function l3(){return Bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firebaseLocalStorageDb",u3=1,lh="firebaseLocalStorage",jk="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(t,e){return t.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function c3(){const t=indexedDB.deleteDatabase(zk);return new Qu(t).toPromise()}function jg(){const t=indexedDB.open(zk,u3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lh,{keyPath:jk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lh)?e(r):(r.close(),await c3(),e(await jg()))})})}async function $w(t,e,n){const r=If(t,!0).put({[jk]:e,value:n});return new Qu(r).toPromise()}async function d3(t,e){const n=If(t,!1).get(e),r=await new Qu(n).toPromise();return r===void 0?null:r.value}function Uw(t,e){const n=If(t,!0).delete(e);return new Qu(n).toPromise()}const h3=800,f3=3;class qk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(l3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await o3(),!this.activeServiceWorker)return;this.sender=new s3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await $w(e,ah,"1"),await Uw(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$w(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=If(s,!1).getAll();return new Qu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qk.type="LOCAL";const p3=qk;new Wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e){return e?zr(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends S0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g3(t){return Mk(t.auth,new R0(t),t.bypassAuthState)}function y3(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),G5(n,new R0(t),t.bypassAuthState)}async function v3(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),K5(n,new R0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g3;case"linkViaPopup":case"linkViaRedirect":return v3;case"reauthViaPopup":case"reauthViaRedirect":return y3;default:ur(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Wu(2e3,1e4);class po extends Hk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=C0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_3.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="pendingRedirect",ud=new Map;class S3 extends Hk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ud.get(this.auth._key());if(!e){try{const r=await E3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ud.set(this.auth._key(),e)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E3(t,e){const n=R3(e),r=C3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function T3(t,e){ud.set(t._key(),e)}function C3(t){return zr(t._redirectPersistence)}function R3(t){return ld(w3,t.config.apiKey,t.name)}async function k3(t,e,n=!1){const r=_a(t),s=m3(r,e),o=await new S3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=10*60*1e3;class N3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Wk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vw(e))}saveEventToCache(e){this.cachedEventUids.add(Vw(e)),this.lastProcessedEventTime=Date.now()}}function Vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e={}){return va(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D3=/^https?/;async function O3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b3(t);for(const n of e)try{if(P3(n))return}catch{}ur(t,"unauthorized-domain")}function P3(t){const e=zg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!D3.test(n))return!1;if(x3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Wu(3e4,6e4);function Fw(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M3(t){return new Promise((e,n)=>{var r,s,i;function o(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),n(kr(t,"network-request-failed"))},timeout:L3.get()})}if(!((s=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ir().gapi)===null||i===void 0)&&i.load)o();else{const a=b5("iframefcb");return Ir()[a]=()=>{gapi.load?o():n(kr(t,"network-request-failed"))},xk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cd=null,e})}let cd=null;function $3(t){return cd=cd||M3(t),cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Wu(5e3,15e3),V3="__/auth/iframe",F3="emulator/auth/iframe",B3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j3(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,F3):`https://${t.config.authDomain}/${V3}`,r={apiKey:e.apiKey,appName:t.name,v:Ui},s=z3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Au(r).slice(1)}`}async function q3(t){const e=await $3(t),n=Ir().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:j3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kr(t,"network-request-failed"),a=Ir().setTimeout(()=>{i(o)},U3.get());function l(){Ir().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W3=500,K3=600,G3="_blank",Q3="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z3(t,e,n,r=W3,s=K3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},H3),{width:r.toString(),height:s.toString(),top:i,left:o}),u=sn().toLowerCase();n&&(a=Ek(u)?G3:n),Sk(u)&&(e=e||Q3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(k5(u)&&a!=="_self")return Y3(e||"",a),new Bw(null);const d=window.open(e||"",a,c);ye(d,t,"popup-blocked");try{d.focus()}catch{}return new Bw(d)}function Y3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="__/auth/handler",J3="emulator/auth/handler",e$=encodeURIComponent("fac");async function zw(t,e,n,r,s,i){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ui,eventId:s};if(e instanceof Pk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",I4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(i||{}))o[c]=d}if(e instanceof Gu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${e$}=${encodeURIComponent(l)}`:"";return`${t$(t)}?${Au(a).slice(1)}${u}`}function t$({config:t}){return t.emulator?v0(t,J3):`https://${t.authDomain}/${X3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class n${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=k3,this._overrideRedirectResult=T3}async _openPopup(e,n,r,s){var i;es((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await zw(e,n,r,zg(),s);return Z3(e,o,C0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await zw(e,n,r,zg(),s);return i3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(es(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await q3(e),r=new N3(e);return n.register("authEvent",s=>(ye(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Yp];o!==void 0&&n(!!o),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ik()||w0()||Rf()}}const r$=n$;var jw="@firebase/auth",qw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function o$(t){Ci(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nk(t)},u=new L5(r,s,i,l);return $5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ci(new Us("auth-internal",e=>{const n=_a(e.getProvider("auth").getImmediate());return(r=>new s$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(jw,qw,i$(t)),Tr(jw,qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=5*60,l$=vT("authIdTokenMaxAge")||a$;let Hw=null;const u$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l$)return;const s=n==null?void 0:n.token;Hw!==s&&(Hw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function c$(t=av()){const e=Wh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M5(t,{popupRedirectResolver:r$,persistence:[p3,Vk,T0]}),r=vT("authTokenSyncURL");if(r){const i=u$(r);J5(n,i,()=>i(n.currentUser)),X5(n,o=>i(o))}const s=mT("auth");return s&&U5(n,`http://${s}`),n}o$("Browser");Jv(qn,"users");async function k0(t=""){const e=Rr(qn,"users",t),n=await Io(e);return n.exists()?n.data():(console.log("No such document!"),null)}async function d$(t,e){const n=Rr(qn,"users",t);return await BL(n,e)}async function h$(t,e){const n=t5(o5,`profile photos/${t}`);await JM(n,e);const r=await e5(n),s=Rr(qn,"users",t);return await _l(s,{profile_photo:r})}const Ae=c$(c0);async function f$(t){const{user:{uid:e}}=await Z5(Ae,t.email,t.password);return await d$(e,t)}async function p$(t){t.rememberMe?await Mw(Ae,Vk):await Mw(Ae,T0);const e=await Y5(Ae,t.email,t.password);return t.rememberMe?window.localStorage.setItem("currentUser",JSON.stringify(e)):window.sessionStorage.setItem("currentUser",JSON.stringify(e)),e}async function m$(){return await Ae.currentUser}const Kk=Jv(qn,"posts");async function g$(){const t=LL(Kk,ML("created_at","desc")),n=(await FL(t)).docs.map(r=>({id:r.id,...r.data()}));return await Promise.all(n.map(async r=>{const s=(await Io(Rr(qn,"users",r.user_id))).data();return{...r,user_data:s}}))}async function y$(t){var n;return console.log("post from api",t),(await QR(Kk,{...t,created_at:Ct.now(),user_id:(n=Ae==null?void 0:Ae.currentUser)==null?void 0:n.uid,comment_ids:[],votes:0,voter_ids:[]})).id}async function v$(t,e){var i,o,a,l;const n=Rr(qn,"posts",t),r=(await Io(n)).data();if(console.log("current user id",(i=Ae==null?void 0:Ae.currentUser)==null?void 0:i.uid),console.log("doc data",r),(r==null?void 0:r.voter_ids.map(({id:u})=>u)).includes((o=Ae==null?void 0:Ae.currentUser)==null?void 0:o.uid)){const u=r==null?void 0:r.voter_ids.find(({id:d})=>{var h;return d===((h=Ae==null?void 0:Ae.currentUser)==null?void 0:h.uid)}),c=r==null?void 0:r.voter_ids.filter(({id:d})=>{var h;return d!==((h=Ae==null?void 0:Ae.currentUser)==null?void 0:h.uid)});return u.vote===e?await _l(n,{votes:Hp(e==="up"?-1:1),voter_ids:[...c]}):await _l(n,{votes:Hp(e==="up"?2:-2),voter_ids:[...c,{id:(l=Ae==null?void 0:Ae.currentUser)==null?void 0:l.uid,vote:e}]})}else return await _l(n,{votes:Hp(e==="up"?1:-1),voter_ids:ZR({id:(a=Ae==null?void 0:Ae.currentUser)==null?void 0:a.uid,vote:e})})}var Zu=t=>t.type==="checkbox",mo=t=>t instanceof Date,cn=t=>t==null;const Gk=t=>typeof t=="object";var Ot=t=>!cn(t)&&!Array.isArray(t)&&Gk(t)&&!mo(t),_$=t=>Ot(t)&&t.target?Zu(t.target)?t.target.checked:t.target.value:t,w$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,S$=(t,e)=>t.has(w$(e)),E$=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},I0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function os(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(I0&&(t instanceof Blob||t instanceof FileList))&&(n||Ot(t)))if(e=n?[]:{},!n&&!E$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=os(t[r]));else return t;return e}var Yu=t=>Array.isArray(t)?t.filter(Boolean):[],Et=t=>t===void 0,te=(t,e,n)=>{if(!e||!Ot(t))return n;const r=Yu(e.split(/[,[\].]+?/)).reduce((s,i)=>cn(s)?s:s[i],t);return Et(r)||r===t?Et(t[e])?n:t[e]:r};const Ww={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ie.createContext(null);var T$=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Jn.all&&(e._proxyFormState[o]=!r||Jn.all),n&&(n[o]=!0),t[o]}});return s},Un=t=>Ot(t)&&!Object.keys(t).length,C$=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Un(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Jn.all))},Xp=t=>Array.isArray(t)?t:[t];function R$(t){const e=Ie.useRef(t);e.current=t,Ie.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var wr=t=>typeof t=="string",k$=(t,e,n,r,s)=>wr(t)?(r&&e.watch.add(t),te(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),te(n,i))):(r&&(e.watchAll=!0),n),N0=t=>/^\w*$/.test(t),Qk=t=>Yu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Qe(t,e,n){let r=-1;const s=N0(e)?[e]:Qk(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=Ot(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var Zk=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{};const qg=(t,e,n)=>{for(const r of n||Object.keys(t)){const s=te(t,r);if(s){const{_f:i,...o}=s;if(i&&e(i.name)){if(i.ref.focus){i.ref.focus();break}else if(i.refs&&i.refs[0].focus){i.refs[0].focus();break}}else Ot(o)&&qg(o,e)}}};var Kw=t=>({isOnSubmit:!t||t===Jn.onSubmit,isOnBlur:t===Jn.onBlur,isOnChange:t===Jn.onChange,isOnAll:t===Jn.all,isOnTouch:t===Jn.onTouched}),Gw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),I$=(t,e,n)=>{const r=Yu(te(t,n));return Qe(r,"root",e[n]),Qe(t,n,r),t},bo=t=>typeof t=="boolean",A0=t=>t.type==="file",Es=t=>typeof t=="function",uh=t=>{if(!I0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dd=t=>wr(t),b0=t=>t.type==="radio",ch=t=>t instanceof RegExp;const Qw={value:!1,isValid:!1},Zw={value:!0,isValid:!0};var Yk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Et(t[0].attributes.value)?Et(t[0].value)||t[0].value===""?Zw:{value:t[0].value,isValid:!0}:Zw:Qw}return Qw};const Yw={isValid:!1,value:null};var Xk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Yw):Yw;function Xw(t,e,n="validate"){if(dd(t)||Array.isArray(t)&&t.every(dd)||bo(t)&&!t)return{type:n,message:dd(t)?t:"",ref:e}}var Qi=t=>Ot(t)&&!ch(t)?t:{value:t,message:""},Jw=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:p,name:m,valueAsNumber:v,mount:w,disabled:y}=t._f,f=te(e,m);if(!w||y)return{};const g=o?o[0]:i,S=Te=>{r&&g.reportValidity&&(g.setCustomValidity(bo(Te)?"":Te||""),g.reportValidity())},I={},N=b0(i),A=Zu(i),b=N||A,X=(v||A0(i))&&Et(i.value)&&Et(f)||uh(i)&&i.value===""||f===""||Array.isArray(f)&&!f.length,ee=Zk.bind(null,m,n,I),Ve=(Te,K,we,Ye=Lr.maxLength,je=Lr.minLength)=>{const We=Te?K:we;I[m]={type:Te?Ye:je,message:We,ref:i,...ee(Te?Ye:je,We)}};if(s?!Array.isArray(f)||!f.length:a&&(!b&&(X||cn(f))||bo(f)&&!f||A&&!Yk(o).isValid||N&&!Xk(o).isValid)){const{value:Te,message:K}=dd(a)?{value:!!a,message:a}:Qi(a);if(Te&&(I[m]={type:Lr.required,message:K,ref:g,...ee(Lr.required,K)},!n))return S(K),I}if(!X&&(!cn(c)||!cn(d))){let Te,K;const we=Qi(d),Ye=Qi(c);if(!cn(f)&&!isNaN(f)){const je=i.valueAsNumber||f&&+f;cn(we.value)||(Te=je>we.value),cn(Ye.value)||(K=je<Ye.value)}else{const je=i.valueAsDate||new Date(f),We=ce=>new Date(new Date().toDateString()+" "+ce),B=i.type=="time",oe=i.type=="week";wr(we.value)&&f&&(Te=B?We(f)>We(we.value):oe?f>we.value:je>new Date(we.value)),wr(Ye.value)&&f&&(K=B?We(f)<We(Ye.value):oe?f<Ye.value:je<new Date(Ye.value))}if((Te||K)&&(Ve(!!Te,we.message,Ye.message,Lr.max,Lr.min),!n))return S(I[m].message),I}if((l||u)&&!X&&(wr(f)||s&&Array.isArray(f))){const Te=Qi(l),K=Qi(u),we=!cn(Te.value)&&f.length>+Te.value,Ye=!cn(K.value)&&f.length<+K.value;if((we||Ye)&&(Ve(we,Te.message,K.message),!n))return S(I[m].message),I}if(h&&!X&&wr(f)){const{value:Te,message:K}=Qi(h);if(ch(Te)&&!f.match(Te)&&(I[m]={type:Lr.pattern,message:K,ref:i,...ee(Lr.pattern,K)},!n))return S(K),I}if(p){if(Es(p)){const Te=await p(f,e),K=Xw(Te,g);if(K&&(I[m]={...K,...ee(Lr.validate,K.message)},!n))return S(K.message),I}else if(Ot(p)){let Te={};for(const K in p){if(!Un(Te)&&!n)break;const we=Xw(await p[K](f,e),g,K);we&&(Te={...we,...ee(K,we.message)},S(we.message),n&&(I[m]=Te))}if(!Un(Te)&&(I[m]={ref:g,...Te},!n))return I}}return S(!0),I};function N$(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Et(t)?r++:t[e[r++]];return t}function A$(t){for(const e in t)if(t.hasOwnProperty(e)&&!Et(t[e]))return!1;return!0}function Ft(t,e){const n=Array.isArray(e)?e:N0(e)?[e]:Qk(e),r=n.length===1?t:N$(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ot(r)&&Un(r)||Array.isArray(r)&&A$(r))&&Ft(t,n.slice(0,-1)),t}function Jp(){let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}}var dh=t=>cn(t)||!Gk(t);function ci(t,e){if(dh(t)||dh(e))return t===e;if(mo(t)&&mo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(mo(i)&&mo(o)||Ot(i)&&Ot(o)||Array.isArray(i)&&Array.isArray(o)?!ci(i,o):i!==o)return!1}}return!0}var Jk=t=>t.type==="select-multiple",b$=t=>b0(t)||Zu(t),em=t=>uh(t)&&t.isConnected,eI=t=>{for(const e in t)if(Es(t[e]))return!0;return!1};function hh(t,e={}){const n=Array.isArray(t);if(Ot(t)||n)for(const r in t)Array.isArray(t[r])||Ot(t[r])&&!eI(t[r])?(e[r]=Array.isArray(t[r])?[]:{},hh(t[r],e[r])):cn(t[r])||(e[r]=!0);return e}function tI(t,e,n){const r=Array.isArray(t);if(Ot(t)||r)for(const s in t)Array.isArray(t[s])||Ot(t[s])&&!eI(t[s])?Et(e)||dh(n[s])?n[s]=Array.isArray(t[s])?hh(t[s],[]):{...hh(t[s])}:tI(t[s],cn(e)?{}:e[s],n[s]):n[s]=!ci(t[s],e[s]);return n}var tm=(t,e)=>tI(t,e,hh(e)),nI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Et(t)?t:e?t===""?NaN:t&&+t:n&&wr(t)?new Date(t):r?r(t):t;function nm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return A0(e)?e.files:b0(e)?Xk(t.refs).value:Jk(e)?[...e.selectedOptions].map(({value:n})=>n):Zu(e)?Yk(t.refs).value:nI(Et(e.value)?t.ref.value:e.value,t)}var x$=(t,e,n,r)=>{const s={};for(const i of t){const o=te(e,i);o&&Qe(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Fa=t=>Et(t)?t:ch(t)?t.source:Ot(t)?ch(t.value)?t.value.source:t.value:t,D$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function eS(t,e,n){const r=te(t,n);if(r||N0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=te(e,i),a=te(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var O$=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,P$=(t,e)=>!Yu(te(t,e)).length&&Ft(t,e);const L$={mode:Jn.onSubmit,reValidateMode:Jn.onChange,shouldFocusError:!0};function M$(t={},e){let n={...L$,...t},r={submitCount:0,isDirty:!1,isLoading:Es(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},i=Ot(n.defaultValues)||Ot(n.values)?os(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:os(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Jp(),array:Jp(),state:Jp()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,m=Kw(n.mode),v=Kw(n.reValidateMode),w=n.criteriaMode===Jn.all,y=_=>k=>{clearTimeout(c),c=setTimeout(_,k)},f=async _=>{if(d.isValid||_){const k=n.resolver?Un((await X()).errors):await Ve(s,!0);k!==r.isValid&&h.state.next({isValid:k})}},g=_=>d.isValidating&&h.state.next({isValidating:_}),S=(_,k=[],x,re,q=!0,V=!0)=>{if(re&&x){if(a.action=!0,V&&Array.isArray(te(s,_))){const le=x(te(s,_),re.argA,re.argB);q&&Qe(s,_,le)}if(V&&Array.isArray(te(r.errors,_))){const le=x(te(r.errors,_),re.argA,re.argB);q&&Qe(r.errors,_,le),P$(r.errors,_)}if(d.touchedFields&&V&&Array.isArray(te(r.touchedFields,_))){const le=x(te(r.touchedFields,_),re.argA,re.argB);q&&Qe(r.touchedFields,_,le)}d.dirtyFields&&(r.dirtyFields=tm(i,o)),h.state.next({name:_,isDirty:K(_,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(o,_,k)},I=(_,k)=>{Qe(r.errors,_,k),h.state.next({errors:r.errors})},N=(_,k,x,re)=>{const q=te(s,_);if(q){const V=te(o,_,Et(x)?te(i,_):x);Et(V)||re&&re.defaultChecked||k?Qe(o,_,k?V:nm(q._f)):je(_,V),a.mount&&f()}},A=(_,k,x,re,q)=>{let V=!1,le=!1;const ot={name:_};if(!x||re){d.isDirty&&(le=r.isDirty,r.isDirty=ot.isDirty=K(),V=le!==ot.isDirty);const Je=ci(te(i,_),k);le=te(r.dirtyFields,_),Je?Ft(r.dirtyFields,_):Qe(r.dirtyFields,_,!0),ot.dirtyFields=r.dirtyFields,V=V||d.dirtyFields&&le!==!Je}if(x){const Je=te(r.touchedFields,_);Je||(Qe(r.touchedFields,_,x),ot.touchedFields=r.touchedFields,V=V||d.touchedFields&&Je!==x)}return V&&q&&h.state.next(ot),V?ot:{}},b=(_,k,x,re)=>{const q=te(r.errors,_),V=d.isValid&&bo(k)&&r.isValid!==k;if(t.delayError&&x?(u=y(()=>I(_,x)),u(t.delayError)):(clearTimeout(c),u=null,x?Qe(r.errors,_,x):Ft(r.errors,_)),(x?!ci(q,x):q)||!Un(re)||V){const le={...re,...V&&bo(k)?{isValid:k}:{},errors:r.errors,name:_};r={...r,...le},h.state.next(le)}g(!1)},X=async _=>n.resolver(o,n.context,x$(_||l.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),ee=async _=>{const{errors:k}=await X();if(_)for(const x of _){const re=te(k,x);re?Qe(r.errors,x,re):Ft(r.errors,x)}else r.errors=k;return k},Ve=async(_,k,x={valid:!0})=>{for(const re in _){const q=_[re];if(q){const{_f:V,...le}=q;if(V){const ot=l.array.has(V.name),Je=await Jw(q,o,w,n.shouldUseNativeValidation&&!k,ot);if(Je[V.name]&&(x.valid=!1,k))break;!k&&(te(Je,V.name)?ot?I$(r.errors,Je,V.name):Qe(r.errors,V.name,Je[V.name]):Ft(r.errors,V.name))}le&&await Ve(le,k,x)}}return x.valid},Te=()=>{for(const _ of l.unMount){const k=te(s,_);k&&(k._f.refs?k._f.refs.every(x=>!em(x)):!em(k._f.ref))&&j(_)}l.unMount=new Set},K=(_,k)=>(_&&k&&Qe(o,_,k),!ci(Fe(),i)),we=(_,k,x)=>k$(_,l,{...a.mount?o:Et(k)?i:wr(_)?{[_]:k}:k},x,k),Ye=_=>Yu(te(a.mount?o:i,_,t.shouldUnregister?te(i,_,[]):[])),je=(_,k,x={})=>{const re=te(s,_);let q=k;if(re){const V=re._f;V&&(!V.disabled&&Qe(o,_,nI(k,V)),q=uh(V.ref)&&cn(k)?"":k,Jk(V.ref)?[...V.ref.options].forEach(le=>le.selected=q.includes(le.value)):V.refs?Zu(V.ref)?V.refs.length>1?V.refs.forEach(le=>(!le.defaultChecked||!le.disabled)&&(le.checked=Array.isArray(q)?!!q.find(ot=>ot===le.value):q===le.value)):V.refs[0]&&(V.refs[0].checked=!!q):V.refs.forEach(le=>le.checked=le.value===q):A0(V.ref)?V.ref.value="":(V.ref.value=q,V.ref.type||h.values.next({name:_,values:{...o}})))}(x.shouldDirty||x.shouldTouch)&&A(_,q,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&ce(_)},We=(_,k,x)=>{for(const re in k){const q=k[re],V=`${_}.${re}`,le=te(s,V);(l.array.has(_)||!dh(q)||le&&!le._f)&&!mo(q)?We(V,q,x):je(V,q,x)}},B=(_,k,x={})=>{const re=te(s,_),q=l.array.has(_),V=os(k);Qe(o,_,V),q?(h.array.next({name:_,values:{...o}}),(d.isDirty||d.dirtyFields)&&x.shouldDirty&&h.state.next({name:_,dirtyFields:tm(i,o),isDirty:K(_,V)})):re&&!re._f&&!cn(V)?We(_,V,x):je(_,V,x),Gw(_,l)&&h.state.next({...r}),h.values.next({name:_,values:{...o}}),!a.mount&&e()},oe=async _=>{const k=_.target;let x=k.name,re=!0;const q=te(s,x),V=()=>k.type?nm(q._f):_$(_);if(q){let le,ot;const Je=V(),hr=_.type===Ww.BLUR||_.type===Ww.FOCUS_OUT,Xf=!D$(q._f)&&!n.resolver&&!te(r.errors,x)&&!q._f.deps||O$(hr,te(r.touchedFields,x),r.isSubmitted,v,m),Ca=Gw(x,l,hr);Qe(o,x,Je),hr?(q._f.onBlur&&q._f.onBlur(_),u&&u(0)):q._f.onChange&&q._f.onChange(_);const Ra=A(x,Je,hr,!1),Jf=!Un(Ra)||Ca;if(!hr&&h.values.next({name:x,type:_.type,values:{...o}}),Xf)return d.isValid&&f(),Jf&&h.state.next({name:x,...Ca?{}:Ra});if(!hr&&Ca&&h.state.next({...r}),g(!0),n.resolver){const{errors:lc}=await X([x]),ep=eS(r.errors,s,x),ka=eS(lc,s,ep.name||x);le=ka.error,x=ka.name,ot=Un(lc)}else le=(await Jw(q,o,w,n.shouldUseNativeValidation))[x],re=isNaN(Je)||Je===te(o,x,Je),re&&(le?ot=!1:d.isValid&&(ot=await Ve(s,!0)));re&&(q._f.deps&&ce(q._f.deps),b(x,ot,le,Ra))}},ce=async(_,k={})=>{let x,re;const q=Xp(_);if(g(!0),n.resolver){const V=await ee(Et(_)?_:q);x=Un(V),re=_?!q.some(le=>te(V,le)):x}else _?(re=(await Promise.all(q.map(async V=>{const le=te(s,V);return await Ve(le&&le._f?{[V]:le}:le)}))).every(Boolean),!(!re&&!r.isValid)&&f()):re=x=await Ve(s);return h.state.next({...!wr(_)||d.isValid&&x!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:x}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!re&&qg(s,V=>V&&te(r.errors,V),_?q:l.mount),re},Fe=_=>{const k={...i,...a.mount?o:{}};return Et(_)?k:wr(_)?te(k,_):_.map(x=>te(k,x))},R=(_,k)=>({invalid:!!te((k||r).errors,_),isDirty:!!te((k||r).dirtyFields,_),isTouched:!!te((k||r).touchedFields,_),error:te((k||r).errors,_)}),O=_=>{_&&Xp(_).forEach(k=>Ft(r.errors,k)),h.state.next({errors:_?r.errors:{}})},P=(_,k,x)=>{const re=(te(s,_,{_f:{}})._f||{}).ref;Qe(r.errors,_,{...k,ref:re}),h.state.next({name:_,errors:r.errors,isValid:!1}),x&&x.shouldFocus&&re&&re.focus&&re.focus()},ne=(_,k)=>Es(_)?h.values.subscribe({next:x=>_(we(void 0,k),x)}):we(_,k,!0),j=(_,k={})=>{for(const x of _?Xp(_):l.mount)l.mount.delete(x),l.array.delete(x),k.keepValue||(Ft(s,x),Ft(o,x)),!k.keepError&&Ft(r.errors,x),!k.keepDirty&&Ft(r.dirtyFields,x),!k.keepTouched&&Ft(r.touchedFields,x),!n.shouldUnregister&&!k.keepDefaultValue&&Ft(i,x);h.values.next({values:{...o}}),h.state.next({...r,...k.keepDirty?{isDirty:K()}:{}}),!k.keepIsValid&&f()},ge=(_,k={})=>{let x=te(s,_);const re=bo(k.disabled);return Qe(s,_,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:_}},name:_,mount:!0,...k}}),l.mount.add(_),Et(k.value)||Qe(o,_,k.value),x?re&&Qe(o,_,k.disabled?void 0:te(o,_,nm(x._f))):N(_,!0,k.value),{...re?{disabled:k.disabled}:{},...n.progressive?{required:!!k.required,min:Fa(k.min),max:Fa(k.max),minLength:Fa(k.minLength),maxLength:Fa(k.maxLength),pattern:Fa(k.pattern)}:{},name:_,onChange:oe,onBlur:oe,ref:q=>{if(q){ge(_,k),x=te(s,_);const V=Et(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,le=b$(V),ot=x._f.refs||[];if(le?ot.find(Je=>Je===V):V===x._f.ref)return;Qe(s,_,{_f:{...x._f,...le?{refs:[...ot.filter(em),V,...Array.isArray(te(i,_))?[{}]:[]],ref:{type:V.type,name:_}}:{ref:V}}}),N(_,!1,void 0,V)}else x=te(s,_,{}),x._f&&(x._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(S$(l.array,_)&&a.action)&&l.unMount.add(_)}}},ke=()=>n.shouldFocusError&&qg(s,_=>_&&te(r.errors,_),l.mount),ae=(_,k)=>async x=>{x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let re=os(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:q,values:V}=await X();r.errors=q,re=V}else await Ve(s);Ft(r.errors,"root"),Un(r.errors)?(h.state.next({errors:{}}),await _(re,x)):(k&&await k({...r.errors},x),ke(),setTimeout(ke)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ge=(_,k={})=>{te(s,_)&&(Et(k.defaultValue)?B(_,te(i,_)):(B(_,k.defaultValue),Qe(i,_,k.defaultValue)),k.keepTouched||Ft(r.touchedFields,_),k.keepDirty||(Ft(r.dirtyFields,_),r.isDirty=k.defaultValue?K(_,te(i,_)):K()),k.keepError||(Ft(r.errors,_),d.isValid&&f()),h.state.next({...r}))},St=(_,k={})=>{const x=_||i,re=os(x),q=_&&!Un(_)?re:i;if(k.keepDefaultValues||(i=x),!k.keepValues){if(k.keepDirtyValues||p)for(const V of l.mount)te(r.dirtyFields,V)?Qe(q,V,te(o,V)):B(V,te(q,V));else{if(I0&&Et(_))for(const V of l.mount){const le=te(s,V);if(le&&le._f){const ot=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(uh(ot)){const Je=ot.closest("form");if(Je){Je.reset();break}}}}s={}}o=t.shouldUnregister?k.keepDefaultValues?os(i):{}:os(q),h.array.next({values:{...q}}),h.values.next({values:{...q}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!k.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!ci(_,i)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&_?tm(i,_):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Be=(_,k)=>St(Es(_)?_(o):_,k);return{control:{register:ge,unregister:j,getFieldState:R,handleSubmit:ae,setError:P,_executeSchema:X,_getWatch:we,_getDirty:K,_updateValid:f,_removeUnmounted:Te,_updateFieldArray:S,_getFieldArray:Ye,_reset:St,_resetDefaultValues:()=>Es(n.defaultValues)&&n.defaultValues().then(_=>{Be(_,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return o},get _state(){return a},set _state(_){a=_},get _defaultValues(){return i},get _names(){return l},set _names(_){l=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:ce,register:ge,handleSubmit:ae,watch:ne,setValue:B,getValues:Fe,reset:Be,resetField:Ge,clearErrors:O,unregister:j,setError:P,setFocus:(_,k={})=>{const x=te(s,_),re=x&&x._f;if(re){const q=re.refs?re.refs[0]:re.ref;q.focus&&(q.focus(),k.shouldSelect&&q.select())}},getFieldState:R}}function Nf(t={}){const e=Ie.useRef(),n=Ie.useRef(),[r,s]=Ie.useState({isDirty:!1,isValidating:!1,isLoading:Es(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Es(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...M$(t,()=>s(o=>({...o}))),formState:r});const i=e.current.control;return i._options=t,R$({subject:i._subjects.state,next:o=>{C$(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Ie.useEffect(()=>{t.values&&!ci(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values):i._resetDefaultValues()},[t.values,i]),Ie.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=T$(r,i),e.current}var tS=function(t,e,n){if(t&&"reportValidity"in t){var r=te(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},rI=function(t,e){var n=function(s){var i=e.fields[s];i&&i.ref&&"reportValidity"in i.ref?tS(i.ref,s,t):i.refs&&i.refs.forEach(function(o){return tS(o,s,t)})};for(var r in e.fields)n(r)},$$=function(t,e){e.shouldUseNativeValidation&&rI(t,e);var n={};for(var r in t){var s=te(e.fields,r);Qe(n,r,Object.assign(t[r]||{},{ref:s&&s.ref}))}return n},U$=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=Zk(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},x0=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&rI({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:$$(U$(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ue;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ue||(Ue={}));var Hg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Hg||(Hg={}));const G=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vs=t=>{switch(typeof t){case"undefined":return G.undefined;case"string":return G.string;case"number":return isNaN(t)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(t)?G.array:t===null?G.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?G.promise:typeof Map<"u"&&t instanceof Map?G.map:typeof Set<"u"&&t instanceof Set?G.set:typeof Date<"u"&&t instanceof Date?G.date:G.object;default:return G.unknown}},F=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),V$=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}sr.create=t=>new sr(t);const lu=(t,e)=>{let n;switch(t.code){case F.invalid_type:t.received===G.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ue.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ue.joinValues(t.keys,", ")}`;break;case F.invalid_union:n="Invalid input";break;case F.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ue.joinValues(t.options)}`;break;case F.invalid_enum_value:n=`Invalid enum value. Expected ${Ue.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:n="Invalid function arguments";break;case F.invalid_return_type:n="Invalid function return type";break;case F.invalid_date:n="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ue.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case F.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case F.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case F.custom:n="Invalid input";break;case F.invalid_intersection_types:n="Intersection results could not be merged";break;case F.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ue.assertNever(t)}return{message:n}};let sI=lu;function F$(t){sI=t}function fh(){return sI}const ph=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},B$=[];function Z(t,e){const n=ph({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,fh(),lu].filter(r=>!!r)});t.common.issues.push(n)}class an{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ee;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return an.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ee;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ee=Object.freeze({status:"aborted"}),iI=t=>({status:"dirty",value:t}),pn=t=>({status:"valid",value:t}),Wg=t=>t.status==="aborted",Kg=t=>t.status==="dirty",mh=t=>t.status==="valid",gh=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class br{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nS=(t,e)=>{if(mh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new sr(t.common.issues);return this._error=n,this._error}}};function Ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class xe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return vs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:vs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new an,ctx:{common:e.parent.common,data:e.data,parsedType:vs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return nS(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(gh(s)?s:Promise.resolve(s));return nS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:F.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new cr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Hr.create(this,this._def)}nullable(){return Oi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ir.create(this,this._def)}promise(){return Yo.create(this,this._def)}or(e){return hu.create([this,e],this._def)}and(e){return fu.create(this,e,this._def)}transform(e){return new cr({...Ne(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new vu({...Ne(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new aI({typeName:pe.ZodBranded,type:this,...Ne(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wh({...Ne(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xu.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z$=/^c[^\s-]{8,}$/i,j$=/^[a-z][a-z0-9]*$/,q$=/[0-9A-HJKMNP-TV-Z]{26}/,H$=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,W$=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,K$=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,G$=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Q$=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Z$=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Y$(t,e){return!!((e==="v4"||!e)&&G$.test(t)||(e==="v6"||!e)&&Q$.test(t))}class er extends xe{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:F.invalid_string,...de.errToObj(r)}),this.nonempty=e=>this.min(1,de.errToObj(e)),this.trim=()=>new er({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new er({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new er({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const i=this._getOrReturnCtx(e);return Z(i,{code:F.invalid_type,expected:G.string,received:i.parsedType}),Ee}const r=new an;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Z(s,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Z(s,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")W$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"email",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")K$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"emoji",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")H$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"uuid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")z$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cuid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")j$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cuid2",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")q$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"ulid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Z(s,{validation:"url",code:F.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"regex",code:F.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Z(s,{code:F.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Z(s,{code:F.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Z(s,{code:F.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Z$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:F.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Y$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"ip",code:F.invalid_string,message:i.message}),r.dirty()):Ue.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...de.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}er.create=t=>{var e;return new er({checks:[],typeName:pe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ne(t)})};function X$(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class zs extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const i=this._getOrReturnCtx(e);return Z(i,{code:F.invalid_type,expected:G.number,received:i.parsedType}),Ee}let r;const s=new an;for(const i of this._def.checks)i.kind==="int"?Ue.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:F.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:F.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:F.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?X$(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Z(r,{code:F.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:F.not_finite,message:i.message}),s.dirty()):Ue.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new zs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new zs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}zs.create=t=>new zs({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class js extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==G.bigint){const i=this._getOrReturnCtx(e);return Z(i,{code:F.invalid_type,expected:G.bigint,received:i.parsedType}),Ee}let r;const s=new an;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:F.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:F.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:F.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ue.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new js({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new js({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}js.create=t=>{var e;return new js({checks:[],typeName:pe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ne(t)})};class uu extends xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const r=this._getOrReturnCtx(e);return Z(r,{code:F.invalid_type,expected:G.boolean,received:r.parsedType}),Ee}return pn(e.data)}}uu.create=t=>new uu({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class xi extends xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const i=this._getOrReturnCtx(e);return Z(i,{code:F.invalid_type,expected:G.date,received:i.parsedType}),Ee}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Z(i,{code:F.invalid_date}),Ee}const r=new an;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:F.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:F.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ue.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}xi.create=t=>new xi({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,...Ne(t)});class yh extends xe{_parse(e){if(this._getType(e)!==G.symbol){const r=this._getOrReturnCtx(e);return Z(r,{code:F.invalid_type,expected:G.symbol,received:r.parsedType}),Ee}return pn(e.data)}}yh.create=t=>new yh({typeName:pe.ZodSymbol,...Ne(t)});class cu extends xe{_parse(e){if(this._getType(e)!==G.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:F.invalid_type,expected:G.undefined,received:r.parsedType}),Ee}return pn(e.data)}}cu.create=t=>new cu({typeName:pe.ZodUndefined,...Ne(t)});class du extends xe{_parse(e){if(this._getType(e)!==G.null){const r=this._getOrReturnCtx(e);return Z(r,{code:F.invalid_type,expected:G.null,received:r.parsedType}),Ee}return pn(e.data)}}du.create=t=>new du({typeName:pe.ZodNull,...Ne(t)});class Zo extends xe{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}Zo.create=t=>new Zo({typeName:pe.ZodAny,...Ne(t)});class gi extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}gi.create=t=>new gi({typeName:pe.ZodUnknown,...Ne(t)});class ts extends xe{_parse(e){const n=this._getOrReturnCtx(e);return Z(n,{code:F.invalid_type,expected:G.never,received:n.parsedType}),Ee}}ts.create=t=>new ts({typeName:pe.ZodNever,...Ne(t)});class vh extends xe{_parse(e){if(this._getType(e)!==G.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:F.invalid_type,expected:G.void,received:r.parsedType}),Ee}return pn(e.data)}}vh.create=t=>new vh({typeName:pe.ZodVoid,...Ne(t)});class ir extends xe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==G.array)return Z(n,{code:F.invalid_type,expected:G.array,received:n.parsedType}),Ee;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Z(n,{code:o?F.too_big:F.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Z(n,{code:F.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Z(n,{code:F.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new br(n,o,n.path,a)))).then(o=>an.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new br(n,o,n.path,a)));return an.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ir({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new ir({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new ir({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}ir.create=(t,e)=>new ir({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...Ne(e)});function Ji(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hr.create(Ji(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof ir?new ir({...t._def,type:Ji(t.element)}):t instanceof Hr?Hr.create(Ji(t.unwrap())):t instanceof Oi?Oi.create(Ji(t.unwrap())):t instanceof xr?xr.create(t.items.map(e=>Ji(e))):t}class ct extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ue.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==G.object){const u=this._getOrReturnCtx(e);return Z(u,{code:F.invalid_type,expected:G.object,received:u.parsedType}),Ee}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ts&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new br(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ts){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(Z(s,{code:F.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new br(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key;u.push({key:d,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>an.mergeObjectSync(r,u)):an.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};return Ue.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(e){const n={};return Ue.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return Ji(this)}partial(e){const n={};return Ue.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ct({...this._def,shape:()=>n})}required(e){const n={};return Ue.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Hr;)i=i._def.innerType;n[r]=i}}),new ct({...this._def,shape:()=>n})}keyof(){return oI(Ue.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:ts.create(),typeName:pe.ZodObject,...Ne(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:ts.create(),typeName:pe.ZodObject,...Ne(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:ts.create(),typeName:pe.ZodObject,...Ne(e)});class hu extends xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new sr(a.ctx.common.issues));return Z(n,{code:F.invalid_union,unionErrors:o}),Ee}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new sr(l));return Z(n,{code:F.invalid_union,unionErrors:a}),Ee}}get options(){return this._def.options}}hu.create=(t,e)=>new hu({options:t,typeName:pe.ZodUnion,...Ne(e)});const hd=t=>t instanceof mu?hd(t.schema):t instanceof cr?hd(t.innerType()):t instanceof gu?[t.value]:t instanceof qs?t.options:t instanceof yu?Object.keys(t.enum):t instanceof vu?hd(t._def.innerType):t instanceof cu?[void 0]:t instanceof du?[null]:null;class Af extends xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.object)return Z(n,{code:F.invalid_type,expected:G.object,received:n.parsedType}),Ee;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Z(n,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=hd(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Af({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ne(r)})}}function Gg(t,e){const n=vs(t),r=vs(e);if(t===e)return{valid:!0,data:t};if(n===G.object&&r===G.object){const s=Ue.objectKeys(e),i=Ue.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Gg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===G.array&&r===G.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Gg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===G.date&&r===G.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fu extends xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Wg(i)||Wg(o))return Ee;const a=Gg(i.value,o.value);return a.valid?((Kg(i)||Kg(o))&&n.dirty(),{status:n.value,value:a.data}):(Z(r,{code:F.invalid_intersection_types}),Ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fu.create=(t,e,n)=>new fu({left:t,right:e,typeName:pe.ZodIntersection,...Ne(n)});class xr extends xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.array)return Z(r,{code:F.invalid_type,expected:G.array,received:r.parsedType}),Ee;if(r.data.length<this._def.items.length)return Z(r,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&r.data.length>this._def.items.length&&(Z(r,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new br(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>an.mergeArray(n,o)):an.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new xr({...this._def,rest:e})}}xr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xr({items:t,typeName:pe.ZodTuple,rest:null,...Ne(e)})};class pu extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.object)return Z(r,{code:F.invalid_type,expected:G.object,received:r.parsedType}),Ee;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new br(r,a,r.path,a)),value:o._parse(new br(r,r.data[a],r.path,a))});return r.common.async?an.mergeObjectAsync(n,s):an.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof xe?new pu({keyType:e,valueType:n,typeName:pe.ZodRecord,...Ne(r)}):new pu({keyType:er.create(),valueType:e,typeName:pe.ZodRecord,...Ne(n)})}}class _h extends xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.map)return Z(r,{code:F.invalid_type,expected:G.map,received:r.parsedType}),Ee;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new br(r,a,r.path,[u,"key"])),value:i._parse(new br(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Ee;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Ee;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}_h.create=(t,e,n)=>new _h({valueType:e,keyType:t,typeName:pe.ZodMap,...Ne(n)});class Di extends xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.set)return Z(r,{code:F.invalid_type,expected:G.set,received:r.parsedType}),Ee;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Z(r,{code:F.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Z(r,{code:F.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Ee;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new br(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Di({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new Di({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Di.create=(t,e)=>new Di({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,...Ne(e)});class xo extends xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.function)return Z(n,{code:F.invalid_type,expected:G.function,received:n.parsedType}),Ee;function r(a,l){return ph({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fh(),lu].filter(u=>!!u),issueData:{code:F.invalid_arguments,argumentsError:l}})}function s(a,l){return ph({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fh(),lu].filter(u=>!!u),issueData:{code:F.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Yo?pn(async(...a)=>{const l=new sr([]),u=await this._def.args.parseAsync(a,i).catch(h=>{throw l.addIssue(r(a,h)),l}),c=await o(...u);return await this._def.returns._def.type.parseAsync(c,i).catch(h=>{throw l.addIssue(s(c,h)),l})}):pn((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new sr([r(a,l.error)]);const u=o(...l.data),c=this._def.returns.safeParse(u,i);if(!c.success)throw new sr([s(u,c.error)]);return c.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xo({...this._def,args:xr.create(e).rest(gi.create())})}returns(e){return new xo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new xo({args:e||xr.create([]).rest(gi.create()),returns:n||gi.create(),typeName:pe.ZodFunction,...Ne(r)})}}class mu extends xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mu.create=(t,e)=>new mu({getter:t,typeName:pe.ZodLazy,...Ne(e)});class gu extends xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Z(n,{received:n.data,code:F.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}gu.create=(t,e)=>new gu({value:t,typeName:pe.ZodLiteral,...Ne(e)});function oI(t,e){return new qs({values:t,typeName:pe.ZodEnum,...Ne(e)})}class qs extends xe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{expected:Ue.joinValues(r),received:n.parsedType,code:F.invalid_type}),Ee}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{received:n.data,code:F.invalid_enum_value,options:r}),Ee}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return qs.create(e)}exclude(e){return qs.create(this.options.filter(n=>!e.includes(n)))}}qs.create=oI;class yu extends xe{_parse(e){const n=Ue.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==G.string&&r.parsedType!==G.number){const s=Ue.objectValues(n);return Z(r,{expected:Ue.joinValues(s),received:r.parsedType,code:F.invalid_type}),Ee}if(n.indexOf(e.data)===-1){const s=Ue.objectValues(n);return Z(r,{received:r.data,code:F.invalid_enum_value,options:s}),Ee}return pn(e.data)}get enum(){return this._def.values}}yu.create=(t,e)=>new yu({values:t,typeName:pe.ZodNativeEnum,...Ne(e)});class Yo extends xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.promise&&n.common.async===!1)return Z(n,{code:F.invalid_type,expected:G.promise,received:n.parsedType}),Ee;const r=n.parsedType===G.promise?n.data:Promise.resolve(n.data);return pn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Yo.create=(t,e)=>new Yo({type:t,typeName:pe.ZodPromise,...Ne(e)});class cr extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{Z(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mh(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>mh(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ue.assertNever(s)}}cr.create=(t,e,n)=>new cr({schema:t,typeName:pe.ZodEffects,effect:e,...Ne(n)});cr.createWithPreprocess=(t,e,n)=>new cr({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,...Ne(n)});class Hr extends xe{_parse(e){return this._getType(e)===G.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:pe.ZodOptional,...Ne(e)});class Oi extends xe{_parse(e){return this._getType(e)===G.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oi.create=(t,e)=>new Oi({innerType:t,typeName:pe.ZodNullable,...Ne(e)});class vu extends xe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===G.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}vu.create=(t,e)=>new vu({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ne(e)});class wh extends xe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wh.create=(t,e)=>new wh({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ne(e)});class Sh extends xe{_parse(e){if(this._getType(e)!==G.nan){const r=this._getOrReturnCtx(e);return Z(r,{code:F.invalid_type,expected:G.nan,received:r.parsedType}),Ee}return{status:"valid",value:e.data}}}Sh.create=t=>new Sh({typeName:pe.ZodNaN,...Ne(t)});const J$=Symbol("zod_brand");class aI extends xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xu extends xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ee:i.status==="dirty"?(n.dirty(),iI(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ee:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Xu({in:e,out:n,typeName:pe.ZodPipeline})}}const lI=(t,e={},n)=>t?Zo.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:l})}}):Zo.create(),e6={object:ct.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(pe||(pe={}));const t6=(t,e={message:`Input not instance of ${t.name}`})=>lI(n=>n instanceof t,e),Xo=er.create,uI=zs.create,n6=Sh.create,r6=js.create,cI=uu.create,s6=xi.create,i6=yh.create,o6=cu.create,a6=du.create,l6=Zo.create,u6=gi.create,c6=ts.create,d6=vh.create,h6=ir.create,f6=ct.create,p6=ct.strictCreate,m6=hu.create,g6=Af.create,y6=fu.create,v6=xr.create,_6=pu.create,w6=_h.create,S6=Di.create,E6=xo.create,T6=mu.create,C6=gu.create,R6=qs.create,k6=yu.create,I6=Yo.create,rS=cr.create,N6=Hr.create,A6=Oi.create,b6=cr.createWithPreprocess,x6=Xu.create,D6=()=>Xo().optional(),O6=()=>uI().optional(),P6=()=>cI().optional(),L6={string:t=>er.create({...t,coerce:!0}),number:t=>zs.create({...t,coerce:!0}),boolean:t=>uu.create({...t,coerce:!0}),bigint:t=>js.create({...t,coerce:!0}),date:t=>xi.create({...t,coerce:!0})},M6=Ee;var D0=Object.freeze({__proto__:null,defaultErrorMap:lu,setErrorMap:F$,getErrorMap:fh,makeIssue:ph,EMPTY_PATH:B$,addIssueToContext:Z,ParseStatus:an,INVALID:Ee,DIRTY:iI,OK:pn,isAborted:Wg,isDirty:Kg,isValid:mh,isAsync:gh,get util(){return Ue},get objectUtil(){return Hg},ZodParsedType:G,getParsedType:vs,ZodType:xe,ZodString:er,ZodNumber:zs,ZodBigInt:js,ZodBoolean:uu,ZodDate:xi,ZodSymbol:yh,ZodUndefined:cu,ZodNull:du,ZodAny:Zo,ZodUnknown:gi,ZodNever:ts,ZodVoid:vh,ZodArray:ir,ZodObject:ct,ZodUnion:hu,ZodDiscriminatedUnion:Af,ZodIntersection:fu,ZodTuple:xr,ZodRecord:pu,ZodMap:_h,ZodSet:Di,ZodFunction:xo,ZodLazy:mu,ZodLiteral:gu,ZodEnum:qs,ZodNativeEnum:yu,ZodPromise:Yo,ZodEffects:cr,ZodTransformer:cr,ZodOptional:Hr,ZodNullable:Oi,ZodDefault:vu,ZodCatch:wh,ZodNaN:Sh,BRAND:J$,ZodBranded:aI,ZodPipeline:Xu,custom:lI,Schema:xe,ZodSchema:xe,late:e6,get ZodFirstPartyTypeKind(){return pe},coerce:L6,any:l6,array:h6,bigint:r6,boolean:cI,date:s6,discriminatedUnion:g6,effect:rS,enum:R6,function:E6,instanceof:t6,intersection:y6,lazy:T6,literal:C6,map:w6,nan:n6,nativeEnum:k6,never:c6,null:a6,nullable:A6,number:uI,object:f6,oboolean:P6,onumber:O6,optional:N6,ostring:D6,pipeline:x6,preprocess:b6,promise:I6,record:_6,set:S6,strictObject:p6,string:Xo,symbol:i6,transformer:rS,tuple:v6,undefined:o6,union:m6,unknown:u6,void:d6,NEVER:M6,ZodIssueCode:F,quotelessJson:V$,ZodError:sr});function $6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 13.586V10c0-3.217-2.185-5.927-5.145-6.742C13.562 2.52 12.846 2 12 2s-1.562.52-1.855 1.258C7.185 4.074 5 6.783 5 10v3.586l-1.707 1.707A.996.996 0 0 0 3 16v2a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-2a.996.996 0 0 0-.293-.707L19 13.586zM19 17H5v-.586l1.707-1.707A.996.996 0 0 0 7 14v-4c0-2.757 2.243-5 5-5s5 2.243 5 5v4c0 .266.105.52.293.707L19 16.414V17zm-7 5a2.98 2.98 0 0 0 2.818-2H9.182A2.98 2.98 0 0 0 12 22z"}}]})(t)}function U6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 3h-7a2.98 2.98 0 0 0-2 .78A2.98 2.98 0 0 0 10 3H3a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h5.758c.526 0 1.042.214 1.414.586l1.121 1.121c.009.009.021.012.03.021.086.079.182.149.294.196h.002a.996.996 0 0 0 .762 0h.002c.112-.047.208-.117.294-.196.009-.009.021-.012.03-.021l1.121-1.121A2.015 2.015 0 0 1 15.242 20H21a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM8.758 18H4V5h6c.552 0 1 .449 1 1v12.689A4.032 4.032 0 0 0 8.758 18zM20 18h-4.758c-.799 0-1.584.246-2.242.689V6c0-.551.448-1 1-1h6v13z"}}]})(t)}function V6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 8c-.202 0-4.85.029-9 2.008C7.85 8.029 3.202 8 3 8a1 1 0 0 0-1 1v9.883a1 1 0 0 0 .305.719c.195.188.48.305.729.28l.127-.001c.683 0 4.296.098 8.416 2.025.016.008.034.005.05.011.119.049.244.083.373.083s.254-.034.374-.083c.016-.006.034-.003.05-.011 4.12-1.928 7.733-2.025 8.416-2.025l.127.001c.238.025.533-.092.729-.28.194-.189.304-.449.304-.719V9a1 1 0 0 0-1-1zM4 10.049c1.485.111 4.381.48 7 1.692v7.742c-3-1.175-5.59-1.494-7-1.576v-7.858zm16 7.858c-1.41.082-4 .401-7 1.576v-7.742c2.619-1.212 5.515-1.581 7-1.692v7.858z"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"3"}}]})(t)}function F6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"}},{tag:"path",attr:{d:"M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"}}]})(t)}function B6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 18v3.766l1.515-.909L11.277 18H16c1.103 0 2-.897 2-2V8c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h1zM4 8h12v8h-5.277L7 18.234V16H4V8z"}},{tag:"path",attr:{d:"M20 2H8c-1.103 0-2 .897-2 2h12c1.103 0 2 .897 2 2v8c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2z"}}]})(t)}function dI(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 7h10v2H7zm0 4h7v2H7z"}},{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .897-2 2v18l5.333-4H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14H6.667L4 18V4h16v12z"}}]})(t)}function z6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(t)}function hI(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.901 10.566A1.001 1.001 0 0 0 20 10h-4V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v7H4a1.001 1.001 0 0 0-.781 1.625l8 10a1 1 0 0 0 1.562 0l8-10c.24-.301.286-.712.12-1.059zM12 19.399 6.081 12H10V4h4v8h3.919L12 19.399z"}}]})(t)}function j6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.045 7.401c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.378-.378-.88-.586-1.414-.586s-1.036.208-1.413.585L4 13.585V18h4.413L19.045 7.401zm-3-3 1.587 1.585-1.59 1.584-1.586-1.585 1.589-1.584zM6 16v-1.585l7.04-7.018 1.586 1.586L7.587 16H6zm-2 4h16v2H4z"}}]})(t)}function q6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"7.499",cy:"9.5",r:"1.5"}},{tag:"path",attr:{d:"m10.499 14-1.5-2-3 4h12l-4.5-6z"}},{tag:"path",attr:{d:"M19.999 4h-16c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-16 14V6h16l.002 12H3.999z"}}]})(t)}function H6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"}}]})(t)}function W6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z"}}]})(t)}function K6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 21c4.411 0 8-3.589 8-8 0-3.35-2.072-6.221-5-7.411v2.223A6 6 0 0 1 18 13c0 3.309-2.691 6-6 6s-6-2.691-6-6a5.999 5.999 0 0 1 3-5.188V5.589C6.072 6.779 4 9.65 4 13c0 4.411 3.589 8 8 8z"}},{tag:"path",attr:{d:"M11 2h2v10h-2z"}}]})(t)}function G6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.5 15a3.51 3.51 0 0 0 2.36-.93l6.26 3.58a3.06 3.06 0 0 0-.12.85 3.53 3.53 0 1 0 1.14-2.57l-6.26-3.58a2.74 2.74 0 0 0 .12-.76l6.15-3.52A3.49 3.49 0 1 0 14 5.5a3.35 3.35 0 0 0 .12.85L8.43 9.6A3.5 3.5 0 1 0 5.5 15zm12 2a1.5 1.5 0 1 1-1.5 1.5 1.5 1.5 0 0 1 1.5-1.5zm0-13A1.5 1.5 0 1 1 16 5.5 1.5 1.5 0 0 1 17.5 4zm-12 6A1.5 1.5 0 1 1 4 11.5 1.5 1.5 0 0 1 5.5 10z"}}]})(t)}function Q6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m6.516 14.323-1.49 6.452a.998.998 0 0 0 1.529 1.057L12 18.202l5.445 3.63a1.001 1.001 0 0 0 1.517-1.106l-1.829-6.4 4.536-4.082a1 1 0 0 0-.59-1.74l-5.701-.454-2.467-5.461a.998.998 0 0 0-1.822 0L8.622 8.05l-5.701.453a1 1 0 0 0-.619 1.713l4.214 4.107zm2.853-4.326a.998.998 0 0 0 .832-.586L12 5.43l1.799 3.981a.998.998 0 0 0 .832.586l3.972.315-3.271 2.944c-.284.256-.397.65-.293 1.018l1.253 4.385-3.736-2.491a.995.995 0 0 0-1.109 0l-3.904 2.603 1.05-4.546a1 1 0 0 0-.276-.94l-3.038-2.962 4.09-.326z"}}]})(t)}function Z6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"}}]})(t)}function fI(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.781 2.375c-.381-.475-1.181-.475-1.562 0l-8 10A1.001 1.001 0 0 0 4 14h4v7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7h4a1.001 1.001 0 0 0 .781-1.625l-8-10zM15 12h-1v8h-4v-8H6.081L12 4.601 17.919 12H15z"}}]})(t)}function Y6(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 7c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-3.333L22 17V7l-4 3.333V7zm-1.998 10H4V7h12l.001 4.999L16 12l.001.001.001 4.999z"}}]})(t)}function X6(){var c;const t=D0.object({postText:Xo().min(1,{message:"post text can't be empty"})}),{data:e,status:n}=Iu({queryKey:["getUserWithId"],queryFn:()=>{var d;return k0((d=Ae.currentUser)==null?void 0:d.uid)}}),{register:r,handleSubmit:s,formState:{errors:i},reset:o}=Nf({resolver:x0(t),defaultValues:{postText:""}}),a=qh(),{mutate:l}=la({mutationFn:y$,onSuccess:async()=>{const d=await a.fetchQuery(["posts"]);a.setQueryData(["posts"],d)}});function u(d){console.log(Ae.currentUser),console.log(d),l({text:d.postText}),o()}return ie("div",{className:"max-w-2xl mx-auto w-full max-w-lg bg-slate-950 h-fit mt-2 mb-6 rounded-md px-3 py-3",children:[ie("div",{className:"flex gap-2",children:[T("div",{className:"w-10 h-10 rounded-full overflow-hidden shrink-0",children:T("img",{src:e!=null&&e.profile_photo?e==null?void 0:e.profile_photo:"https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg",className:"w-full object-cover "})}),T("div",{className:"w-full mb-4",children:ie("form",{onSubmit:s(u),className:"w-full",children:[T("textarea",{...r("postText"),placeholder:"Add a post",className:"focus:outline-none bg-slate-900 max-h-64 p-2 rounded-md h-28 resize-none transition-all w-full"}),T("div",{className:"text-red-600",children:(c=i.postText)==null?void 0:c.message}),T("button",{type:"submit",className:"bg-yellow-500 px-8 py-2 mt-2 rounded-md",children:"post"})]})})]}),ie("div",{className:"flex flex-wrap gap-2",children:[ie("div",{className:"bg-slate-900 px-2 py-1 rounded-md flex items-center gap-1 text-gray-400",children:[T(q6,{className:"text-green-600"}),"Photo"]}),ie("div",{className:"bg-slate-900 px-2 py-1 rounded-md flex items-center gap-1 text-gray-400",children:[T(Y6,{className:"text-blue-600"}),"Video"]}),ie("div",{className:"bg-slate-900 px-2 py-1 rounded-md flex items-center gap-1 text-gray-400",children:[T(F6,{className:"text-red-600"}),"Event"]}),ie("div",{className:"bg-slate-900 px-2 py-1 rounded-md flex items-center gap-1 text-gray-400",children:[T(_x,{className:"text-yellow-500"}),"Feeling /Activity"]}),T("div",{className:"bg-slate-900 px-2 py-1 rounded-md flex items-center gap-1 text-gray-400",children:"..."})]})]})}function J6(t){return mt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M8.5 0.5c-3.032 0-5.5 2.467-5.5 5.5 0 4.373 4.913 10.086 5.122 10.328l0.378 0.435 0.378-0.436c0.209-0.241 5.122-5.954 5.122-10.327 0-3.033-2.468-5.5-5.5-5.5zM8.5 15.215c-1.146-1.424-4.5-5.879-4.5-9.215 0-2.481 2.019-4.5 4.5-4.5s4.5 2.019 4.5 4.5c0 3.333-3.354 7.791-4.5 9.215zM8.5 3.139c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zM8.5 8.139c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2-0.897 2-2 2z"}}]})(t)}function eU(t){return mt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M8.5 5.972c-1.378 0-2.5 1.122-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.122 2.5-2.5-1.122-2.5-2.5-2.5zM8.5 9.972c-0.827 0-1.5-0.673-1.5-1.5s0.673-1.5 1.5-1.5 1.5 0.673 1.5 1.5-0.673 1.5-1.5 1.5zM16.94 9.446c0.037-0.321 0.060-0.645 0.060-0.974s-0.023-0.653-0.060-0.974l-2.588-0.778c-0.119-0.402-0.278-0.787-0.474-1.149l1.279-2.377c-0.406-0.51-0.869-0.973-1.38-1.38l-2.377 1.28c-0.363-0.196-0.748-0.354-1.15-0.474l-0.776-2.588c-0.32-0.037-0.644-0.060-0.974-0.060s-0.654 0.023-0.974 0.060l-0.776 2.588c-0.403 0.119-0.789 0.278-1.15 0.475l-2.377-1.28c-0.511 0.406-0.974 0.869-1.379 1.38l1.279 2.375c-0.196 0.362-0.354 0.748-0.474 1.15l-2.589 0.778c-0.037 0.32-0.060 0.644-0.060 0.974s0.023 0.654 0.060 0.974l2.588 0.776c0.12 0.403 0.278 0.789 0.474 1.151l-1.279 2.376c0.406 0.511 0.869 0.974 1.38 1.38l2.377-1.279c0.362 0.196 0.748 0.354 1.15 0.474l0.776 2.588c0.321 0.037 0.645 0.060 0.974 0.060s0.654-0.023 0.974-0.060l0.776-2.588c0.402-0.12 0.788-0.278 1.15-0.474l2.376 1.279c0.511-0.407 0.974-0.87 1.38-1.381l-1.278-2.376c0.196-0.362 0.354-0.748 0.474-1.15l2.588-0.776zM13.548 9.419l-0.154 0.518c-0.1 0.337-0.233 0.66-0.396 0.959l-0.256 0.475 0.255 0.475 0.952 1.77c-0.099 0.105-0.201 0.207-0.306 0.306l-2.243-1.209-0.475 0.256c-0.301 0.163-0.624 0.295-0.96 0.396l-0.518 0.154-0.155 0.518-0.579 1.932c-0.072 0.002-0.143 0.003-0.213 0.003s-0.141-0.001-0.213-0.003l-0.579-1.932-0.155-0.518-0.518-0.154c-0.336-0.1-0.659-0.233-0.959-0.396l-0.475-0.256-2.245 1.207c-0.104-0.099-0.207-0.201-0.306-0.306l1.208-2.244-0.256-0.475c-0.162-0.3-0.295-0.623-0.396-0.96l-0.153-0.517-2.449-0.734c-0.003-0.072-0.004-0.143-0.004-0.212 0-0.070 0.001-0.141 0.004-0.213l2.448-0.734 0.154-0.518c0.1-0.337 0.233-0.66 0.396-0.959l0.256-0.475-1.208-2.245c0.099-0.104 0.201-0.207 0.305-0.306l2.247 1.21 0.476-0.259c0.297-0.162 0.619-0.295 0.956-0.395l0.518-0.154 0.155-0.518 0.579-1.932c0.073-0.001 0.144-0.002 0.214-0.002s0.141 0.001 0.213 0.003l0.579 1.932 0.155 0.518 0.518 0.154c0.335 0.1 0.659 0.233 0.96 0.396l0.475 0.255 2.244-1.208c0.104 0.099 0.207 0.201 0.306 0.306l-0.953 1.77-0.255 0.475 0.257 0.475c0.163 0.3 0.295 0.622 0.395 0.957l0.154 0.518 0.518 0.155 1.932 0.581c0.001 0.072 0.002 0.143 0.002 0.213s-0.001 0.141-0.004 0.213l-2.448 0.734z"}}]})(t)}const tU=Jv(qn,"comments");async function nU(t){var i;const e=Rr(qn,"posts",t),r=(i=(await Io(e)).data())==null?void 0:i.comment_ids;return console.log(r),(await Promise.all(r.map(async o=>{const a=(await Io(Rr(qn,"comments",o))).data();console.log("comment data",a);const l=(await Io(Rr(qn,"users",a==null?void 0:a.user_id))).data();return{id:o,...a,user_data:l}}))).sort((o,a)=>a.created_at-o.created_at)}async function rU(t,e){var s;const n=await QR(tU,{text:e,created_at:Ct.now(),user_id:(s=Ae==null?void 0:Ae.currentUser)==null?void 0:s.uid,post_id:t,reply_ids:[],votes:0,voter_ids:[]});console.log("new comment id",n);const r=Rr(qn,"posts",t);return await _l(r,{comment_ids:ZR(n.id)})}function sU({comment:t}){var a,l;const[e,n]=$.useState(!1),[r,s]=$.useState(!1);function i(u){!e&&!r?u===1?n(!0):u===-1&&s(!0):e&&u===1?n(!1):e&&u===-1?(n(!1),s(!0)):r&&u===-1?s(!1):r&&u===1&&(n(!0),s(!1))}function o(u){const c=u.seconds*1e3+Math.floor(u.nanoseconds/1e6),d=new Date(c),h=d.getDate().toString().padStart(2,"0"),p=(d.getMonth()+1).toString().padStart(2,"0"),m=d.getFullYear().toString();return`${h}/${p}/${m}`}return ie("div",{className:"",children:[ie("div",{className:"chat chat-start my-2",children:[T("div",{className:"chat-image avatar",children:T("div",{className:"w-10 rounded-full",children:T("img",{src:(a=t.user_data)!=null&&a.profile_photo?(l=t.user_data)==null?void 0:l.profile_photo:"https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg"})})}),ie("div",{className:"chat-header mb-2 text-base",children:[t.user_data.username,T("time",{className:"text-sm opacity-50 ml-2",children:o(t.created_at)})]}),T("div",{className:`chat-bubble ${t.user_data.type==="r"?"bg-blue-600":"bg-yellow-500"} text-white text-lg`,children:t.text})]}),ie("div",{className:"flex gap-4 items-center px-4 py-2 ml-8",children:[ie("p",{className:"flex gap-2 items-center",children:[T(fI,{className:`${e?"text-teal-500":"text-white"}`,onClick:()=>{i(1)}})," ",T("span",{className:"text-sm",children:`${t.votes}`})," ",T(hI,{className:`${r?"text-yellow-500":"text-white"}`,onClick:()=>{i(-1)}})]}),ie("label",{htmlFor:"",className:"flex gap-2 items-center",children:[T(dI,{})," ",T("span",{className:"text-sm",children:"0"})]})]})]})}function iU(t){return mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"}}]})(t)}function oU({postID:t}){const e=D0.object({commText:Xo().min(1,{message:"comment text can't be empty"})}),{register:n,handleSubmit:r,formState:{errors:s},reset:i}=Nf({resolver:x0(e),defaultValues:{commText:""}}),o=qh(),{mutate:a,isLoading:l}=la({mutationFn:({id:h,text:p})=>rU(h,p),onSuccess:async()=>{const h=await o.fetchQuery(["commsForPost",t]);o.setQueryData(["commsForPost",t],h)}}),{data:u,status:c}=Iu({queryKey:["commsForPost",t],queryFn:()=>nU(t)});function d(h){console.log(h),a({text:h.commText,id:t}),i()}return console.log(t),console.log("All comments:",u),c==="loading"?ie("div",{role:"status",className:"w-full flex flex-col items-center",children:[ie("svg",{"aria-hidden":"true",className:"inline w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-yellow-400",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T("span",{className:"sr-only",children:"Loading..."})]}):ie("div",{className:"px-4",children:[ie("div",{className:"flex gap-2 mt-2",children:[T("div",{className:"w-10 h-10 rounded-full overflow-hidden shrink-0",children:T("img",{src:"https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg",className:"w-full object-cover "})}),ie("form",{onSubmit:r(d),className:"w-full bg-slate-900 h-10 rounded-md flex",children:[T("textarea",{...n("commText"),placeholder:"Add a comment",className:"focus:outline-none bg-transparent  max-h-64 p-2 pl-3 rounded-md h-10 resize-none transition-all w-full"}),T("button",{type:"submit",className:"mr-3 text-xl text-yellow-500",children:T(iU,{})})]})]}),l&&ie("div",{role:"status",className:"w-full mt-4 flex flex-col items-center",children:[ie("svg",{"aria-hidden":"true",className:"inline w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-yellow-400",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T("span",{className:"sr-only",children:"Loading..."})]}),u!=null&&u.length&&(u==null?void 0:u.length)>0?u==null?void 0:u.map(h=>T(sU,{comment:h},h.id)):T("div",{className:"w-full flex items-center justify-center mt-2",children:T("p",{className:"mx-auto",children:"no comments yet"})})]})}function aU({user:t,post:e}){const[n,r]=$.useState(!1),{mutate:s}=la({mutationFn:({id:p,vote:m})=>v$(p,m)}),[i,o]=$.useState(e.votes),[a,l]=$.useState(!1),[u,c]=$.useState(!1);$.useEffect(()=>{const p=e.voter_ids.find(m=>{var v;return m.id===((v=Ae==null?void 0:Ae.currentUser)==null?void 0:v.uid)});console.log("currently voted is: ",p),p&&(p.vote==="up"?l(!0):c(!0))},[]);function d(p){const m=p.seconds*1e3+Math.floor(p.nanoseconds/1e6),v=new Date(m),w=v.getDate().toString().padStart(2,"0"),y=(v.getMonth()+1).toString().padStart(2,"0"),f=v.getFullYear().toString();return`${w}/${y}/${f}`}function h(p){s(p===1?{id:e.id,vote:"up"}:{id:e.id,vote:"down"}),!a&&!u?(p===1?l(!0):p===-1&&c(!0),e.votes+=p,o(e.votes)):a&&p===1?(l(!1),e.votes-=p,o(e.votes)):a&&p===-1?(l(!1),c(!0),e.votes+=2*p,o(e.votes)):u&&p===-1?(c(!1),e.votes-=p,o(e.votes)):u&&p===1&&(l(!0),c(!1),e.votes+=2*p,o(e.votes))}return T(Rl,{children:ie("div",{className:"rounded-md pb-4 bg-slate-950 max-w-lg mx-auto w-fullshadow-xl mb-4",children:[ie("div",{className:"flex gap-4 items-center pt-4 pl-4",children:[ie("div",{className:"relative",children:[T("img",{src:t&&t.profile_photo?t.profile_photo:"https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg",className:" w-12 h-12 rounded-full object-cover"}),T("div",{className:`absolute bottom-0 right-0 w-5 h-5 rounded-full ${t.type==="r"?"bg-blue-600":"bg-yellow-500"}  text-black border-2 border-base-100 flex items-center justify-center text-[14px]`,children:t.type==="r"?T(V6,{}):T(j6,{})})]}),ie("div",{className:"text-sm",children:[T("a",{href:"#",className:"text-lg font-bold",children:t.username||"user"}),e.community&&"/",T("a",{href:"#",children:e.community&&e.community.length>15?e.community.substring(0,15)+"...":e.community}),ie("div",{className:"flex gap-2 text-xs text-zinc-400",children:[T("p",{children:d(e.created_at)}),e.location&&ie("a",{href:"#",className:"flex gap-1 items-center",children:[T(J6,{})," ",e.location]})]})]}),ie("div",{className:"dropdown dropdown-end ml-auto mr-4",children:[T("label",{tabIndex:0,className:"",children:T(z6,{className:"text-2xl"})}),ie("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow rounded-box w-52 bg-slate-950",children:[T("li",{children:T("a",{children:"Hide"})}),T("li",{children:T("a",{children:"Report"})}),T("li",{children:T("a",{children:"Copy Link"})})]})]})]}),T("div",{className:"pl-4 pt-4",children:T("p",{children:e.text})}),e.image&&T("figure",{className:"px-4 pt-4",children:T("img",{src:e.image,className:""})}),ie("div",{className:"flex gap-4 items-center px-4 py-2",children:[ie("p",{className:"flex gap-2 items-center",children:[T(fI,{className:`${a?"text-blue-600":"text-white"}`,onClick:()=>{h(1)}})," ",T("span",{className:"text-sm",children:`Votes (${i})`})," ",T(hI,{className:`${u?"text-yellow-500":"text-white"}`,onClick:()=>{h(-1)}})]}),ie("label",{htmlFor:`comments_${e.id}`,className:"flex gap-2 items-center",onClick:()=>{console.log(e.id),r(!n)},children:[T(dI,{})," ",T("span",{className:"text-sm",children:`Comments (${e.comment_ids.length})`})]}),T(G6,{}),T(Q6,{className:"ml-auto"})]}),n&&T(oU,{postID:e.id})]})})}/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}var Ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ts||(Ts={}));const sS="popstate";function lU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Qg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:pI(s)}return cU(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function O0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uU(){return Math.random().toString(36).substr(2,8)}function iS(t,e){return{usr:t.state,key:t.key,idx:e}}function Qg(t,e,n,r){return n===void 0&&(n=null),_u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sa(e):e,{state:n,key:e&&e.key||r||uU()})}function pI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ts.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(_u({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ts.Pop;let w=c(),y=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:y})}function h(w,y){a=Ts.Push;let f=Qg(v.location,w,y);n&&n(f,w),u=c()+1;let g=iS(f,u),S=v.createHref(f);try{o.pushState(g,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(S)}i&&l&&l({action:a,location:v.location,delta:1})}function p(w,y){a=Ts.Replace;let f=Qg(v.location,w,y);n&&n(f,w),u=c();let g=iS(f,u),S=v.createHref(f);o.replaceState(g,"",S),i&&l&&l({action:a,location:v.location,delta:0})}function m(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof w=="string"?w:pI(w);return bt(y,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,y)}let v={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(sS,d),l=w,()=>{s.removeEventListener(sS,d),l=null}},createHref(w){return e(s,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(w){return o.go(w)}};return v}var oS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oS||(oS={}));function dU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Sa(e):e,s=yI(r.pathname||"/",n);if(s==null)return null;let i=mI(t);hU(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=SU(i[a],CU(s));return o}function mI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yi([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mI(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:_U(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of gI(i.path))s(i,o,l)}),e}function gI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=gI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fU=/^:\w+$/,pU=3,mU=2,gU=1,yU=10,vU=-2,aS=t=>t==="*";function _U(t,e){let n=t.split("/"),r=n.length;return n.some(aS)&&(r+=vU),e&&(r+=mU),n.filter(s=>!aS(s)).reduce((s,i)=>s+(fU.test(i)?pU:i===""?gU:yU),r)}function wU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function SU(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=EU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;i.push({params:r,pathname:yi([s,c.pathname]),pathnameBase:NU(yi([s,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(s=yi([s,c.pathnameBase]))}return i}function EU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=RU(a[d]||"",c),u},{}),pathname:i,pathnameBase:o,pattern:t}}function TU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),O0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function CU(t){try{return decodeURI(t)}catch(e){return O0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function RU(t,e){try{return decodeURIComponent(t)}catch(n){return O0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function yI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Sa(t):t;return{pathname:n?n.startsWith("/")?n:IU(n,e):e,search:AU(r),hash:bU(s)}}function IU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _I(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Sa(t):(s=_u({},t),bt(!s.pathname||!s.pathname.includes("?"),rm("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),rm("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),rm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=kU(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),NU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wI=["post","put","patch","delete"];new Set(wI);const DU=["get",...wI];new Set(DU);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}const P0=$.createContext(null),OU=$.createContext(null),bf=$.createContext(null),xf=$.createContext(null),ji=$.createContext({outlet:null,matches:[],isDataRoute:!1}),SI=$.createContext(null);function Ju(){return $.useContext(xf)!=null}function L0(){return Ju()||bt(!1),$.useContext(xf).location}function EI(t){$.useContext(bf).static||$.useLayoutEffect(t)}function ec(){let{isDataRoute:t}=$.useContext(ji);return t?WU():PU()}function PU(){Ju()||bt(!1);let t=$.useContext(P0),{basename:e,navigator:n}=$.useContext(bf),{matches:r}=$.useContext(ji),{pathname:s}=L0(),i=JSON.stringify(vI(r).map(l=>l.pathnameBase)),o=$.useRef(!1);return EI(()=>{o.current=!0}),$.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=_I(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:yi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}function LU(t,e){return MU(t,e)}function MU(t,e,n){Ju()||bt(!1);let{navigator:r}=$.useContext(bf),{matches:s}=$.useContext(ji),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=L0(),u;if(e){var c;let v=typeof e=="string"?Sa(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||bt(!1),u=v}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",p=dU(t,{pathname:h}),m=BU(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:yi([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:yi([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n);return e&&m?$.createElement(xf.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ts.Pop}},m):m}function $U(){let t=HU(),e=xU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:s},n):null,i)}const UU=$.createElement($U,null);class VU extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?$.createElement(ji.Provider,{value:this.props.routeContext},$.createElement(SI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FU(t){let{routeContext:e,match:n,children:r}=t,s=$.useContext(P0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(ji.Provider,{value:e},r)}function BU(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||bt(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||UU);let h=e.concat(i.slice(0,u+1)),p=()=>{let m;return c?m=d:l.route.Component?m=$.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,$.createElement(FU,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?$.createElement(VU,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var Zg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Zg||(Zg={}));var wu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(wu||(wu={}));function zU(t){let e=$.useContext(P0);return e||bt(!1),e}function jU(t){let e=$.useContext(OU);return e||bt(!1),e}function qU(t){let e=$.useContext(ji);return e||bt(!1),e}function TI(t){let e=qU(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function HU(){var t;let e=$.useContext(SI),n=jU(wu.UseRouteError),r=TI(wu.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function WU(){let{router:t}=zU(Zg.UseNavigateStable),e=TI(wu.UseNavigateStable),n=$.useRef(!1);return EI(()=>{n.current=!0}),$.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Eh({fromRouteId:e},i)))},[t,e])}function KU(t){let{to:e,replace:n,state:r,relative:s}=t;Ju()||bt(!1);let{matches:i}=$.useContext(ji),{pathname:o}=L0(),a=ec(),l=_I(e,vI(i).map(c=>c.pathnameBase),o,s==="path"),u=JSON.stringify(l);return $.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:s}),[a,u,s,n,r]),null}function sl(t){bt(!1)}function GU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ts.Pop,navigator:i,static:o=!1}=t;Ju()&&bt(!1);let a=e.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Sa(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,m=$.useMemo(()=>{let v=yI(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:p},navigationType:s}},[a,u,c,d,h,p,s]);return m==null?null:$.createElement(bf.Provider,{value:l},$.createElement(xf.Provider,{children:n,value:m}))}function QU(t){let{children:e,location:n}=t;return LU(Yg(e),n)}var lS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(lS||(lS={}));new Promise(()=>{});function Yg(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,s)=>{if(!$.isValidElement(r))return;let i=[...e,s];if(r.type===$.Fragment){n.push.apply(n,Yg(r.props.children,i));return}r.type!==sl&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ZU="startTransition",uS=oA[ZU];function YU(t){let{basename:e,children:n,future:r,window:s}=t,i=$.useRef();i.current==null&&(i.current=lU({window:s,v5Compat:!0}));let o=i.current,[a,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=$.useCallback(d=>{u&&uS?uS(()=>l(d)):l(d)},[l,u]);return $.useLayoutEffect(()=>o.listen(c),[o,c]),$.createElement(GU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}var cS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(cS||(cS={}));var dS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dS||(dS={}));function XU(){var v;const[t,e]=$.useState(""),n=$.useRef(),r=ec(),[s,i]=$.useState(!1),[o,a]=$.useState(!1),l=w=>{var g,S;const y=(S=(g=w==null?void 0:w.target)==null?void 0:g.files)==null?void 0:S[0],f=URL.createObjectURL(y);e(f)},u=()=>{var w;(w=n.current)==null||w.click()},{mutate:c,isLoading:d}=la({mutationFn:()=>{var w,y,f;return h$((w=Ae==null?void 0:Ae.currentUser)==null?void 0:w.uid,(f=(y=n==null?void 0:n.current)==null?void 0:y.files)==null?void 0:f[0])},onSuccess:async()=>{console.log("changed successfully"),location.reload()}}),{data:h,status:p}=Iu({queryKey:["getUserWithId"],queryFn:()=>{var w;return k0((w=Ae==null?void 0:Ae.currentUser)==null?void 0:w.uid)}}),m=()=>{window.localStorage.removeItem("currentUser"),window.sessionStorage.removeItem("currentUser"),r("/login")};if(p==="success")return ie(Rl,{children:[((v=n.current)==null?void 0:v.value)&&T("div",{className:"w-full flex items-center justify-center  px-2 h-screen z-50 bg-black bg-opacity-50 fixed top-0 left-0",children:ie("div",{className:"w-full max-w-lg flex flex-col gap-8 items-center opacity-100 py-8 bg-slate-900 rounded-md px-4",children:[T("p",{className:"text-yellow-500 flex items-start gap-2",children:"Warning: you're about to Change your profile picture"}),T("img",{src:t,className:" w-40 h-40 rounded-full object-cover"}),ie("div",{className:"flex gap-4",children:[T("button",{className:"p-2 px-4 rounded-md bg-yellow-500",onClick:w=>{console.log("clicked"),c(),w.target.disabled=!0},children:d?ie("div",{role:"status",className:"w-full flex flex-col items-center",children:[ie("svg",{"aria-hidden":"true",className:"inline w-6 h-6 text-gray-200 animate-spin dark:text-gray-600 fill-white",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T("span",{className:"sr-only",children:"Loading..."})]}):"Save"}),T("button",{className:"p-2 px-4 rounded-md bg-yellow-950 text-yellow-500",onClick:u,children:"Select other photo"}),T("button",{className:"p-2 px-4 rounded-md text-red-500 bg-red-950 bg-opacity-50",onClick:()=>{n.current.files=null,e("")},children:"Cancel"})]})]})}),ie("div",{className:"navbar justify-between bg-slate-950 fixed top-0 mb-4 z-30",children:[T("div",{onClick:()=>r("/"),className:"w-9 h-9 flex items-center justify-center text-lg font-bold rounded-sm bg-yellow-500",children:T(U6,{})}),T("div",{className:"flex-none",children:ie("ul",{className:"menu menu-horizontal px-1 flex items-center gap-2",children:[T("div",{className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900",children:T(H6,{})}),T("div",{className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900",children:T(B6,{})}),T("div",{className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900",children:T(eU,{})}),T("div",{className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900",children:T($6,{})}),T("div",{onClick:()=>a(!o),className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900 overflow-hidden",children:T("img",{src:h!=null&&h.profile_photo?h==null?void 0:h.profile_photo:"https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg"})}),T("div",{className:`absolute top-14 right-3 w-60 p-4 bg-slate-950 rounded-md ${o?"":"invisible"}`,children:ie("div",{className:"flex flex-col gap-2",children:[ie("div",{className:"flex gap-4",children:[T("img",{onClick:()=>i(!s),src:h!=null&&h.profile_photo?h==null?void 0:h.profile_photo:"https://st3.depositphotos.com/6672868/13701/v/450/depositphotos_137014128-stock-illustration-user-profile-icon.jpg",className:" w-12 h-12 rounded-full object-cover cursor-pointer"}),s&&T("button",{onClick:u,className:"z-40 absolute top-12 left-8 rounded-md bg-slate-950 p-2",children:"Change profile picture"}),T("input",{onChange:l,type:"file",id:"file",ref:n,accept:"image/png, image/jpeg",style:{display:"none"}}),ie("div",{className:"flex flex-col",children:[T("p",{className:"font-bold",children:h==null?void 0:h.username}),T("p",{className:"text-sm text-gray-400",children:(h==null?void 0:h.type)==="r"?"Reader":"Writer"})]})]}),T("button",{className:"w-full flex items-center justify-center py-2 text-sm bg-yellow-950 text-yellow-500",children:"View profile"}),ie("button",{onClick:m,className:"w-full flex items-center p-4 ",children:[T(K6,{}),T("span",{className:"ml-2",children:"Sign Out"})]}),ie("div",{className:"flex gap-4",children:[T("div",{className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900",children:T(Z6,{})}),T("div",{className:"w-9 h-9 flex items-center justify-center rounded-sm text-lg bg-slate-900",children:T(W6,{})})]})]})})]})})]})]})}function JU(){ec();const{data:t,status:e}=Iu({queryKey:["posts"],queryFn:g$});return e==="success"&&console.log("all posts data",t),!window.localStorage.getItem("currentUser")&&!window.sessionStorage.getItem("currentUser")?T(KU,{to:"/login",replace:!0}):ie("div",{className:"bg-slate-900 mb-0 overflow-hidden",children:[T(XU,{}),ie("div",{className:"px-4 pt-20",children:[e==="loading"&&ie("div",{role:"status",className:"w-full h-screen flex flex-col pt-4 items-center",children:[ie("svg",{"aria-hidden":"true",className:"inline w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-yellow-400",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T("span",{className:"sr-only",children:"Loading..."})]}),e==="success"&&T(X6,{}),e==="success"&&t.sort(function(n,r){return r.created_at-n.created_at}).map(n=>n.user_data&&T(aU,{user:n.user_data,post:n},n.id))]})]})}function e8(){const{register:t,handleSubmit:e}=Nf({defaultValues:{email:"",password:"",confirmPassword:"",username:"",type:"w"}}),n=ec(),{mutate:r,data:s,error:i,isLoading:o,isError:a}=la({mutationFn:f$,mutationKey:["currentUser"],onSuccess:async u=>{console.log("auth data from firebase",u),await m$(),n("/login")}});async function l(u){console.log("user data from submit handler",u),r(u)}return T("div",{className:"relative bg-slate-900 h-screen w-full flex items-center justify-center py-10 md:px-0",children:ie("div",{className:"md:w-2/5 bg-slate-950 rounded-lg flex flex-col items-center py-6 md:mr-10 px-6 mx-6 relative z-10 backdrop-blur-sm",children:[o&&T("p",{children:"Loading..."}),T("h2",{className:"text-3xl font-bold mb-2 md:text-center",children:"Sign Up"}),ie("p",{className:"font-light text-center mb-6",children:["Already have an account?"," ",T("span",{className:"text-yellow-500 cursor-pointer",onClick:()=>n("/login"),children:"Log In"})]}),ie("form",{onSubmit:e(l),className:"space-y-4",children:[T("input",{type:"text",placeholder:"Email",className:"input input-bordered w-full py-6 rounded-sm bg-slate-900 focus:outline-none focus:border-yellow-500",...t("email",{required:!0})}),T("input",{type:"text",placeholder:"User Name",className:"input input-bordered w-full py-6 rounded-sm bg-slate-900 focus:outline-none focus:border-yellow-500",...t("username",{required:!0})}),T("input",{type:"password",placeholder:"Password",className:"input input-bordered w-full py-6 rounded-sm bg-slate-900 focus:outline-none focus:border-yellow-500",...t("password",{required:!0})}),T("input",{type:"password",placeholder:"Confirm Password",className:"input input-bordered w-full py-6 rounded-sm bg-slate-900 focus:outline-none focus:border-yellow-500",...t("confirmPassword",{required:!0})}),T("div",{className:"form-control mb-0",children:ie("label",{className:"label cursor-pointer",children:[T("span",{className:"label-text",children:"Writer"}),T("input",{type:"radio",className:"radio checked:bg-yellow-500",checked:!0,value:"w",...t("type")})]})}),T("div",{className:"form-control mt-0",children:ie("label",{className:"label cursor-pointer",children:[T("span",{className:"label-text",children:"Reader"}),T("input",{type:"radio",className:"radio checked:bg-blue-500",value:"r",...t("type")})]})}),T("button",{type:"submit",className:"text-lg font-semibold rounded-sm w-full py-3 bg-yellow-500",children:"Sign Up"})]})]})})}function t8(t){return mt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]})(t)}const n8=D0.object({email:Xo().email({message:"Invalid email address"}),password:Xo().min(6,{message:"Password is too short"})});function r8(){var h,p;const{register:t,handleSubmit:e,formState:n}=Nf({resolver:x0(n8),defaultValues:{email:"",password:""}}),[r,s]=$.useState(!1),{errors:i}=n,[o,a]=$.useState(!1),l=$.useRef(),u=ec();function c(m){const v={...m,rememberMe:o};d(v)}const{mutate:d}=la({mutationFn:p$,onSuccess:()=>{u("/")},onError:m=>{console.log({...m}),(m.code==="auth/user-not-found"||m.code==="auth/wrong-password")&&(s(!0),l.current=window.setTimeout(()=>{s(!1)},3e3))}});return $.useEffect(()=>(window.localStorage.getItem("currentUser")&&(console.log(JSON.parse(window.localStorage.getItem("currentUser")).user.uid),u("/")),()=>{clearTimeout(l.current)}),[l]),T("div",{className:"relative bg-slate-900 h-screen w-full flex items-center justify-center py-10 md:px-0",children:ie("div",{className:"md:w-2/5 bg-slate-950 w-full rounded-lg flex flex-col items-center py-6 md:mr-10 px-6 mx-6 relative z-10 backdrop-blur-sm",children:[T("h2",{className:"text-3xl font-bold mb-2 md:text-center",children:"Log In"}),ie("p",{className:"font-light text-center mb-6",children:["Don't have an account?"," ",T("span",{onClick:()=>u("/signup"),className:"text-yellow-500 cursor-pointer",children:"Sign Up"})]}),ie("form",{onSubmit:e(c),className:"space-y-2 w-full",children:[T("input",{type:"text",placeholder:"Email",className:"input input-bordered w-full py-6 rounded-sm bg-slate-900 focus:outline-none focus:border-yellow-500",...t("email")}),T("div",{className:"text-red-600",children:String((h=i.email)!=null&&h.message?i.email.message:"")}),T("input",{type:"password",placeholder:"Password",className:"input input-bordered w-full py-6 rounded-sm bg-slate-900 focus:outline-none focus:border-yellow-500",...t("password")}),T("div",{className:"text-red-600",children:String((p=i.password)!=null&&p.message?i.password.message:"")}),T("div",{className:"form-control",children:ie("label",{className:"cursor-pointer label",children:[T("span",{className:"label-text",children:"Remember me"}),T("input",{type:"checkbox",checked:o,onClick:()=>{a(!o)},className:"checkbox checkbox-sm checkbox-warning"})]})}),T("button",{type:"submit",className:"text-lg font-semibold rounded-sm w-full py-3 bg-yellow-500",children:"Log In"}),ie("div",{className:`alert alert-error my-4 rounded-none h-12 ${r?"":"hidden"}`,children:[T("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:T("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),T("span",{children:"Wrong email or password"})]}),T("p",{className:"text-center font-light",children:"or sign up with"}),T("button",{className:"text-lg flex justify-center font-semibold bg-slate-900 rounded-sm w-full py-2 md:py-3",children:T(t8,{className:"text-4xl md:text-3xl"})})]})]})})}function s8(){const{data:t,status:e}=Iu({queryKey:["test query"],queryFn:()=>k0("Vm4MlX4a5havyADcmomHsSWQ2tg2")});return $.useRef(),e==="loading"?T(Rl,{}):(e==="success"&&console.log(t),T(Rl,{children:T("p",{children:"data"})}))}function i8(){return T(Rl,{children:T("div",{className:"mb-0 overflow-hidden",children:ie(QU,{children:[T(sl,{path:"/",element:T(JU,{})}),T(sl,{path:"/signup",element:T(e8,{})}),T(sl,{path:"/login",element:T(r8,{})}),T(sl,{path:"/test",element:T(s8,{})})]})})})}function o8(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var a8=o8,be=a8;function l8(t){return!!t&&typeof t.then=="function"}var rt=l8;function u8(t,e){if(t!=null)return t;throw be(e??"Got unexpected null or undefined")}var ut=u8;function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Df{getValue(){throw be("BaseLoadable")}toPromise(){throw be("BaseLoadable")}valueMaybe(){throw be("BaseLoadable")}valueOrThrow(){throw be(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw be("BaseLoadable")}promiseOrThrow(){throw be(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw be("BaseLoadable")}errorOrThrow(){throw be(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw be("BaseLoadable")}}class c8 extends Df{constructor(e){super(),Ce(this,"state","hasValue"),Ce(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return rt(n)?Pi(n):Jo(n)?n:tc(n)}catch(n){return rt(n)?Pi(n.next(()=>this.map(e))):Of(n)}}}class d8 extends Df{constructor(e){super(),Ce(this,"state","hasError"),Ce(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class CI extends Df{constructor(e){super(),Ce(this,"state","loading"),Ce(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Pi(this.contents.then(n=>{const r=e(n);if(Jo(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(rt(n))return n.then(()=>this.map(e).contents);throw n}))}}function tc(t){return Object.freeze(new c8(t))}function Of(t){return Object.freeze(new d8(t))}function Pi(t){return Object.freeze(new CI(t))}function RI(){return Object.freeze(new CI(new Promise(()=>{})))}function h8(t){return t.every(e=>e.state==="hasValue")?tc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Of(ut(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Pi(Promise.all(t.map(e=>e.contents)))}function kI(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>Jo(s)?s:rt(s)?Pi(s):tc(s)),r=h8(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function Jo(t){return t instanceof Df}const f8={of:t=>rt(t)?Pi(t):Jo(t)?t:tc(t),error:t=>Of(t),loading:()=>RI(),all:kI,isLoadable:Jo};var qi={loadableWithValue:tc,loadableWithError:Of,loadableWithPromise:Pi,loadableLoading:RI,loadableAll:kI,isLoadable:Jo,RecoilLoadable:f8},p8=qi.loadableWithValue,m8=qi.loadableWithError,g8=qi.loadableWithPromise,y8=qi.loadableLoading,v8=qi.loadableAll,_8=qi.isLoadable,w8=qi.RecoilLoadable,nc=Object.freeze({__proto__:null,loadableWithValue:p8,loadableWithError:m8,loadableWithPromise:g8,loadableLoading:y8,loadableAll:v8,isLoadable:_8,RecoilLoadable:w8});const Xg={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function S8(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw be(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function E8(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function T8(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(S8("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Xg.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),E8("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Xg.RECOIL_GKS_ENABLED.add(n)})}))}T8();var Ea=Xg;function Pf(t){return Ea.RECOIL_GKS_ENABLED.has(t)}Pf.setPass=t=>{Ea.RECOIL_GKS_ENABLED.add(t)};Pf.setFail=t=>{Ea.RECOIL_GKS_ENABLED.delete(t)};Pf.clear=()=>{Ea.RECOIL_GKS_ENABLED.clear()};var Ke=Pf;function C8(t,e,{error:n}={}){return null}var R8=C8,M0=R8,sm,im,om;const k8=(sm=Ie.createMutableSource)!==null&&sm!==void 0?sm:Ie.unstable_createMutableSource,II=(im=Ie.useMutableSource)!==null&&im!==void 0?im:Ie.unstable_useMutableSource,NI=(om=Ie.useSyncExternalStore)!==null&&om!==void 0?om:Ie.unstable_useSyncExternalStore;function I8(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function N8(){return Ke("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ke("recoil_sync_external_store")&&NI!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ke("recoil_mutable_source")&&II!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ke("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ke("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function A8(){return!1}var rc={createMutableSource:k8,useMutableSource:II,useSyncExternalStore:NI,currentRendererSupportsUseSyncExternalStore:I8,reactMode:N8,isFastRefreshEnabled:A8};class $0{constructor(e){Ce(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class AI extends $0{}class bI extends $0{}function b8(t){return t instanceof AI||t instanceof bI}var Lf={AbstractRecoilValue:$0,RecoilState:AI,RecoilValueReadOnly:bI,isRecoilValue:b8},x8=Lf.AbstractRecoilValue,D8=Lf.RecoilState,O8=Lf.RecoilValueReadOnly,P8=Lf.isRecoilValue,ea=Object.freeze({__proto__:null,AbstractRecoilValue:x8,RecoilState:D8,RecoilValueReadOnly:O8,isRecoilValue:P8});function L8(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Mf=L8;class xI{}const M8=new xI,Li=new Map,U0=new Map;function $8(t){return Mf(t,e=>ut(U0.get(e)))}function U8(t){if(Li.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function V8(t){Ea.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&U8(t.key),Li.set(t.key,t);const e=t.set==null?new ea.RecoilValueReadOnly(t.key):new ea.RecoilState(t.key);return U0.set(t.key,e),e}class DI extends Error{}function F8(t){const e=Li.get(t);if(e==null)throw new DI(`Missing definition for RecoilValue: "${t}""`);return e}function B8(t){return Li.get(t)}const Th=new Map;function z8(t){var e;if(!Ke("recoil_memory_managament_2020"))return;const n=Li.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Li.delete(t),(r=OI(t))===null||r===void 0||r(),Th.delete(t)}}function j8(t,e){Ke("recoil_memory_managament_2020")&&(e===void 0?Th.delete(t):Th.set(t,e))}function OI(t){return Th.get(t)}var Rn={nodes:Li,recoilValues:U0,registerNode:V8,getNode:F8,getNodeMaybe:B8,deleteNodeConfigIfPossible:z8,setConfigDeletionHandler:j8,getConfigDeletionHandler:OI,recoilValuesForKeys:$8,NodeMissingError:DI,DefaultValue:xI,DEFAULT_VALUE:M8};function q8(t,e){e()}var H8={enqueueExecution:q8};function W8(t,e){return e={exports:{}},t(e,e.exports),e.exports}var K8=W8(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},u=function(E){return function(){return E}},c=n.hash=function(C){var E=typeof C>"u"?"undefined":e(C);if(E==="number")return C;E!=="string"&&(C+="");for(var L=0,H=0,W=C.length;H<W;++H){var J=C.charCodeAt(H);L=(L<<5)-L+J|0}return L},d=function(E){return E-=E>>1&1431655765,E=(E&858993459)+(E>>2&858993459),E=E+(E>>4)&252645135,E+=E>>8,E+=E>>16,E&127},h=function(E,L){return L>>>E&i},p=function(E){return 1<<E},m=function(E,L){return d(E&L-1)},v=function(E,L,H,W){var J=W;if(!E){var me=W.length;J=new Array(me);for(var he=0;he<me;++he)J[he]=W[he]}return J[L]=H,J},w=function(E,L,H){var W=H.length-1,J=0,me=0,he=H;if(E)J=me=L;else for(he=new Array(W);J<L;)he[me++]=H[J++];for(++J;J<=W;)he[me++]=H[J++];return E&&(he.length=W),he},y=function(E,L,H,W){var J=W.length;if(E){for(var me=J;me>=L;)W[me--]=W[me];return W[L]=H,W}for(var he=0,fe=0,De=new Array(J+1);he<L;)De[fe++]=W[he++];for(De[L]=H;he<J;)De[++fe]=W[he++];return De},f=1,g=2,S=3,I=4,N={__hamt_isEmpty:!0},A=function(E){return E===N||E&&E.__hamt_isEmpty},b=function(E,L,H,W){return{type:f,edit:E,hash:L,key:H,value:W,_modify:B}},X=function(E,L,H){return{type:g,edit:E,hash:L,children:H,_modify:oe}},ee=function(E,L,H){return{type:S,edit:E,mask:L,children:H,_modify:ce}},Ve=function(E,L,H){return{type:I,edit:E,size:L,children:H,_modify:Fe}},Te=function(E){return E===N||E.type===f||E.type===g},K=function(E,L,H,W,J){for(var me=[],he=W,fe=0,De=0;he;++De)he&1&&(me[De]=J[fe++]),he>>>=1;return me[L]=H,Ve(E,fe+1,me)},we=function(E,L,H,W){for(var J=new Array(L-1),me=0,he=0,fe=0,De=W.length;fe<De;++fe)if(fe!==H){var at=W[fe];at&&!A(at)&&(J[me++]=at,he|=1<<fe)}return ee(E,he,J)},Ye=function C(E,L,H,W,J,me){if(H===J)return X(E,H,[me,W]);var he=h(L,H),fe=h(L,J);return ee(E,p(he)|p(fe),he===fe?[C(E,L+r,H,W,J,me)]:he<fe?[W,me]:[me,W])},je=function(E,L,H,W,J,me,he,fe){for(var De=J.length,at=0;at<De;++at){var yn=J[at];if(H(he,yn.key)){var Pt=yn.value,Mn=me(Pt);return Mn===Pt?J:Mn===l?(--fe.value,w(E,at,J)):v(E,at,b(L,W,he,Mn),J)}}var Kn=me();return Kn===l?J:(++fe.value,v(E,De,b(L,W,he,Kn),J))},We=function(E,L){return E===L.edit},B=function(E,L,H,W,J,me,he){if(L(me,this.key)){var fe=W(this.value);return fe===this.value?this:fe===l?(--he.value,N):We(E,this)?(this.value=fe,this):b(E,J,me,fe)}var De=W();return De===l?this:(++he.value,Ye(E,H,this.hash,this,J,b(E,J,me,De)))},oe=function(E,L,H,W,J,me,he){if(J===this.hash){var fe=We(E,this),De=je(fe,E,L,this.hash,this.children,W,me,he);return De===this.children?this:De.length>1?X(E,this.hash,De):De[0]}var at=W();return at===l?this:(++he.value,Ye(E,H,this.hash,this,J,b(E,J,me,at)))},ce=function(E,L,H,W,J,me,he){var fe=this.mask,De=this.children,at=h(H,J),yn=p(at),Pt=m(fe,yn),Mn=fe&yn,Kn=Mn?De[Pt]:N,Wi=Kn._modify(E,L,H+r,W,J,me,he);if(Kn===Wi)return this;var uc=We(E,this),Ia=fe,Na=void 0;if(Mn&&A(Wi)){if(Ia&=~yn,!Ia)return N;if(De.length<=2&&Te(De[Pt^1]))return De[Pt^1];Na=w(uc,Pt,De)}else if(!Mn&&!A(Wi)){if(De.length>=o)return K(E,at,Wi,fe,De);Ia|=yn,Na=y(uc,Pt,Wi,De)}else Na=v(uc,Pt,Wi,De);return uc?(this.mask=Ia,this.children=Na,this):ee(E,Ia,Na)},Fe=function(E,L,H,W,J,me,he){var fe=this.size,De=this.children,at=h(H,J),yn=De[at],Pt=(yn||N)._modify(E,L,H+r,W,J,me,he);if(yn===Pt)return this;var Mn=We(E,this),Kn=void 0;if(A(yn)&&!A(Pt))++fe,Kn=v(Mn,at,Pt,De);else if(!A(yn)&&A(Pt)){if(--fe,fe<=a)return we(E,fe,at,De);Kn=v(Mn,at,N,De)}else Kn=v(Mn,at,Pt,De);return Mn?(this.size=fe,this.children=Kn,this):Ve(E,fe,Kn)};N._modify=function(C,E,L,H,W,J,me){var he=H();return he===l?N:(++me.value,b(C,W,J,he))};function R(C,E,L,H,W){this._editable=C,this._edit=E,this._config=L,this._root=H,this._size=W}R.prototype.setTree=function(C,E){return this._editable?(this._root=C,this._size=E,this):C===this._root?this:new R(this._editable,this._edit,this._config,C,E)};var O=n.tryGetHash=function(C,E,L,H){for(var W=H._root,J=0,me=H._config.keyEq;;)switch(W.type){case f:return me(L,W.key)?W.value:C;case g:{if(E===W.hash)for(var he=W.children,fe=0,De=he.length;fe<De;++fe){var at=he[fe];if(me(L,at.key))return at.value}return C}case S:{var yn=h(J,E),Pt=p(yn);if(W.mask&Pt){W=W.children[m(W.mask,Pt)],J+=r;break}return C}case I:{if(W=W.children[h(J,E)],W){J+=r;break}return C}default:return C}};R.prototype.tryGetHash=function(C,E,L){return O(C,E,L,this)};var P=n.tryGet=function(C,E,L){return O(C,L._config.hash(E),E,L)};R.prototype.tryGet=function(C,E){return P(C,E,this)};var ne=n.getHash=function(C,E,L){return O(void 0,C,E,L)};R.prototype.getHash=function(C,E){return ne(C,E,this)},n.get=function(C,E){return O(void 0,E._config.hash(C),C,E)},R.prototype.get=function(C,E){return P(E,C,this)};var j=n.has=function(C,E,L){return O(l,C,E,L)!==l};R.prototype.hasHash=function(C,E){return j(C,E,this)};var ge=n.has=function(C,E){return j(E._config.hash(C),C,E)};R.prototype.has=function(C){return ge(C,this)};var ke=function(E,L){return E===L};n.make=function(C){return new R(0,0,{keyEq:C&&C.keyEq||ke,hash:C&&C.hash||c},N,0)},n.empty=n.make();var ae=n.isEmpty=function(C){return C&&!!A(C._root)};R.prototype.isEmpty=function(){return ae(this)};var Ge=n.modifyHash=function(C,E,L,H){var W={value:H._size},J=H._root._modify(H._editable?H._edit:NaN,H._config.keyEq,0,C,E,L,W);return H.setTree(J,W.value)};R.prototype.modifyHash=function(C,E,L){return Ge(L,C,E,this)};var St=n.modify=function(C,E,L){return Ge(C,L._config.hash(E),E,L)};R.prototype.modify=function(C,E){return St(E,C,this)};var Be=n.setHash=function(C,E,L,H){return Ge(u(L),C,E,H)};R.prototype.setHash=function(C,E,L){return Be(C,E,L,this)};var Xe=n.set=function(C,E,L){return Be(L._config.hash(C),C,E,L)};R.prototype.set=function(C,E){return Xe(C,E,this)};var kn=u(l),dr=n.removeHash=function(C,E,L){return Ge(kn,C,E,L)};R.prototype.removeHash=R.prototype.deleteHash=function(C,E){return dr(C,E,this)};var _=n.remove=function(C,E){return dr(E._config.hash(C),C,E)};R.prototype.remove=R.prototype.delete=function(C){return _(C,this)};var k=n.beginMutation=function(C){return new R(C._editable+1,C._edit+1,C._config,C._root,C._size)};R.prototype.beginMutation=function(){return k(this)};var x=n.endMutation=function(C){return C._editable=C._editable&&C._editable-1,C};R.prototype.endMutation=function(){return x(this)};var re=n.mutate=function(C,E){var L=k(E);return C(L),x(L)};R.prototype.mutate=function(C){return re(C,this)};var q=function(E){return E&&V(E[0],E[1],E[2],E[3],E[4])},V=function(E,L,H,W,J){for(;H<E;){var me=L[H++];if(me&&!A(me))return le(me,W,[E,L,H,W,J])}return q(J)},le=function(E,L,H){switch(E.type){case f:return{value:L(E),rest:H};case g:case I:case S:var W=E.children;return V(W.length,W,0,L,H);default:return q(H)}},ot={done:!0};function Je(C){this.v=C}Je.prototype.next=function(){if(!this.v)return ot;var C=this.v;return this.v=q(C.rest),C},Je.prototype[Symbol.iterator]=function(){return this};var hr=function(E,L){return new Je(le(E._root,L))},Xf=function(E){return[E.key,E.value]},Ca=n.entries=function(C){return hr(C,Xf)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return Ca(this)};var Ra=function(E){return E.key},Jf=n.keys=function(C){return hr(C,Ra)};R.prototype.keys=function(){return Jf(this)};var lc=function(E){return E.value},ep=n.values=R.prototype.values=function(C){return hr(C,lc)};R.prototype.values=function(){return ep(this)};var ka=n.fold=function(C,E,L){var H=L._root;if(H.type===f)return C(E,H.value,H.key);for(var W=[H.children],J=void 0;J=W.pop();)for(var me=0,he=J.length;me<he;){var fe=J[me++];fe&&fe.type&&(fe.type===f?E=C(E,fe.value,fe.key):W.push(fe.children))}return E};R.prototype.fold=function(C,E){return ka(C,E,this)};var zN=n.forEach=function(C,E){return ka(function(L,H,W){return C(H,W,E)},null,E)};R.prototype.forEach=function(C){return zN(C,this)};var jN=n.count=function(C){return C._size};R.prototype.count=function(){return jN(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class G8{constructor(e){Ce(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return F0(this)}toMap(){return new Map(this._map)}}class V0{constructor(e){if(Ce(this,"_hamt",K8.empty.beginMutation()),e instanceof V0){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return F0(this)}toMap(){return new Map(this._hamt)}}function F0(t){return Ke("recoil_hamt_2020")?new V0(t):new G8(t)}var Q8={persistentMap:F0},Z8=Q8.persistentMap,Y8=Object.freeze({__proto__:null,persistentMap:Z8});function X8(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var El=X8;function J8(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var Ch=J8;function eV(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function tV(t){return{nodeDeps:Ch(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Ch(t.nodeToNodeSubscriptions,e=>new Set(e))}}function am(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:El(e,o);for(const l of a)i.has(l)||i.set(l,new Set),ut(i.get(l)).add(t);if(o){const l=El(o,e);for(const u of l){if(!i.has(u))return;const c=ut(i.get(u));c.delete(t),c.size===0&&i.delete(u)}}}function nV(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const u=n.getGraph(r);if(am(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);am(t,e,d,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const h=n.getGraph(d);am(t,e,h,u)}}}var sc={cloneGraph:tV,graph:eV,saveDepsToStore:nV};let rV=0;const sV=()=>rV++;let iV=0;const oV=()=>iV++;let aV=0;const lV=()=>aV++;var $f={getNextTreeStateVersion:sV,getNextStoreID:oV,getNextComponentID:lV};const{persistentMap:hS}=Y8,{graph:uV}=sc,{getNextTreeStateVersion:PI}=$f;function LI(){const t=PI();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:hS(),nonvalidatedAtoms:hS()}}function cV(){const t=LI();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,uV()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var MI={makeEmptyTreeState:LI,makeEmptyStoreState:cV,getNextTreeStateVersion:PI};class $I{}function dV(){return new $I}var Uf={RetentionZone:$I,retentionZone:dV};function hV(t,e){const n=new Set(t);return n.add(e),n}function fV(t,e){const n=new Set(t);return n.delete(e),n}function pV(t,e,n){const r=new Map(t);return r.set(e,n),r}function mV(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function gV(t,e){const n=new Map(t);return n.delete(e),n}function yV(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var UI={setByAddingToSet:hV,setByDeletingFromSet:fV,mapBySettingInMap:pV,mapByUpdatingInMap:mV,mapByDeletingFromMap:gV,mapByDeletingMultipleFromMap:yV};function*vV(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var B0=vV;function _V(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var VI=_V;const{getNode:ic,getNodeMaybe:wV,recoilValuesForKeys:fS}=Rn,{RetentionZone:pS}=Uf,{setByAddingToSet:SV}=UI,EV=Object.freeze(new Set);class TV extends Error{}function CV(t,e,n){if(!Ke("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof pS)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Ke("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof pS)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function z0(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=ic(n),o=CV(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function RV(t,e,n){z0(t,t.getState().currentTree,e,n)}function kV(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function IV(t,e,n){return z0(t,e,n,"get"),ic(n).get(t,e)}function FI(t,e,n){return ic(n).peek(t,e)}function NV(t,e,n){var r;const s=wV(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:SV(t.dirtyAtoms,e)}}function AV(t,e,n,r){const s=ic(n);if(s.set==null)throw new TV(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return z0(t,e,n,"set"),i(t,e,r)}function bV(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=ic(n).nodeType;return VI({type:i},{loadable:()=>FI(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return fS((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:fS(B0(BI(t,e,new Set([n])),l=>l!==n)),components:Mf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function BI(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:EV;for(const u of l)r.has(u)||s.push(u)}return r}var Ys={getNodeLoadable:IV,peekNodeLoadable:FI,setNodeValue:AV,initializeNode:RV,cleanUpNode:kV,setUnvalidatedAtomValue_DEPRECATED:NV,peekNodeInfo:bV,getDownstreamNodes:BI};let zI=null;function xV(t){zI=t}function DV(){var t;(t=zI)===null||t===void 0||t()}var jI={setInvalidateMemoizedSnapshot:xV,invalidateMemoizedSnapshot:DV};const{getDownstreamNodes:OV,getNodeLoadable:qI,setNodeValue:PV}=Ys,{getNextComponentID:LV}=$f,{getNode:MV,getNodeMaybe:HI}=Rn,{DefaultValue:j0}=Rn,{reactMode:$V}=rc,{AbstractRecoilValue:UV,RecoilState:VV,RecoilValueReadOnly:FV,isRecoilValue:BV}=ea,{invalidateMemoizedSnapshot:zV}=jI;function jV(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=qI(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function qV(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof j0?n.delete(s):n.set(s,r)}),n}function HV(t,e,{key:n},r){if(typeof r=="function"){const s=qI(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw be(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function WV(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=HV(t,e,s,i),a=PV(t,e,s.key,o);for(const[l,u]of a.entries())Jg(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;Jg(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=HI(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else M0(`Unknown action ${n.type}`)}function Jg(t,e,n){n.state==="hasValue"&&n.contents instanceof j0?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function WI(t,e){t.replaceState(n=>{const r=KI(n);for(const s of e)WV(t,r,s);return GI(t,r),zV(),r})}function Vf(t,e){if(Tl.length){const n=Tl[Tl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else WI(t,[e])}const Tl=[];function KV(){const t=new Map;return Tl.push(t),()=>{for(const[e,n]of t)WI(e,n);Tl.pop()}}function KI(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function GI(t,e){const n=OV(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=HI(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function QI(t,e,n){Vf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function GV(t,e,n){if(n instanceof j0)return QI(t,e,n);Vf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function QV(t,e){Vf(t,{type:"markModified",recoilValue:e})}function ZV(t,e,n){Vf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function YV(t,{key:e},n,r=null){const s=LV(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),ut(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=$V();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function XV(t,e){var n;const{currentTree:r}=t.getState(),s=MV(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var Or={RecoilValueReadOnly:FV,AbstractRecoilValue:UV,RecoilState:VV,getRecoilValueAsLoadable:jV,setRecoilValue:QI,setRecoilValueLoadable:GV,markRecoilValueModified:QV,setUnvalidatedRecoilValue:ZV,subscribeToRecoilValue:YV,isRecoilValue:BV,applyAtomValueWrites:qV,batchStart:KV,writeLoadableToTreeState:Jg,invalidateDownstreams:GI,copyTreeState:KI,refreshRecoilValue:XV};function JV(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var eF=JV;const{cleanUpNode:tF}=Ys,{deleteNodeConfigIfPossible:nF,getNode:ZI}=Rn,{RetentionZone:YI}=Uf,rF=12e4,XI=new Set;function JI(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof YI)for(const a of aF(n,o))s.add(a);else s.add(o);const i=sF(t,s);for(const o of i)oF(t,r,o)}function sF(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const u=new Set,c=iF(t,r,l,i,o);for(const m of c){var d;if(ZI(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((d=n.retention.referenceCounts.get(m))!==null&&d!==void 0?d:0)>0){o.add(m);continue}if(eN(m).some(w=>n.retention.referenceCounts.get(w))){o.add(m);continue}const v=s.nodeToNodeSubscriptions.get(m);if(v&&eF(v,w=>o.has(w))){o.add(m);continue}i.add(m),u.add(m)}const h=new Set;for(const m of u)for(const v of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:XI){var p;i.has(v)||h.add(v)}h.size&&a(h)}}function iF(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(ut(n.values().next().value));return o;function l(u){if(r.has(u)||s.has(u)){n.delete(u);return}if(a.has(u))return;const c=i.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),o.push(u)}}function oF(t,e,n){if(!Ke("recoil_memory_managament_2020"))return;tF(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=eN(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}nF(n)}function aF(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:XI}function eN(t){const e=ZI(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof YI?[e]:e}function lF(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):JI(t,new Set([e]))}function uF(t,e,n){var r;if(!Ke("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?tN(t,e):s.set(e,i)}function tN(t,e){if(!Ke("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),lF(t,e)}function cF(t){if(!Ke("recoil_memory_managament_2020"))return;const e=t.getState();JI(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function dF(t){return t===void 0?"recoilRoot":t}var Hi={SUSPENSE_TIMEOUT_MS:rF,updateRetainCount:uF,updateRetainCountToZero:tN,releaseScheduledRetainablesNow:cF,retainedByOptionWithDefault:dF};const{unstable_batchedUpdates:hF}=gx;var fF={unstable_batchedUpdates:hF};const{unstable_batchedUpdates:pF}=fF;var mF={unstable_batchedUpdates:pF};const{batchStart:gF}=Or,{unstable_batchedUpdates:yF}=mF;let q0=yF||(t=>t());const vF=t=>{q0=t},_F=()=>q0,wF=t=>{q0(()=>{let e=()=>{};try{e=gF(),t()}finally{e()}})};var Ff={getBatcher:_F,setBatcher:vF,batchUpdates:wF};function*SF(t){for(const e of t)for(const n of e)yield n}var nN=SF;const rN=typeof Window>"u"||typeof window>"u",EF=t=>!rN&&(t===window||t instanceof Window),TF=typeof navigator<"u"&&navigator.product==="ReactNative";var Bf={isSSR:rN,isReactNative:TF,isWindow:EF};function CF(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function RF(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function kF(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var IF={memoizeWithArgsHash:CF,memoizeOneWithArgsHash:RF,memoizeOneWithArgsHashAndInvalidation:kF};const{batchUpdates:ey}=Ff,{initializeNode:NF,peekNodeInfo:AF}=Ys,{graph:bF}=sc,{getNextStoreID:xF}=$f,{DEFAULT_VALUE:DF,recoilValues:mS,recoilValuesForKeys:gS}=Rn,{AbstractRecoilValue:OF,getRecoilValueAsLoadable:PF,setRecoilValue:yS,setUnvalidatedRecoilValue:LF}=Or,{updateRetainCount:fd}=Hi,{setInvalidateMemoizedSnapshot:MF}=jI,{getNextTreeStateVersion:$F,makeEmptyStoreState:UF}=MI,{isSSR:VF}=Bf,{memoizeOneWithArgsHashAndInvalidation:FF}=IF;class zf{constructor(e,n){Ce(this,"_store",void 0),Ce(this,"_refCount",1),Ce(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),PF(this._store,r))),Ce(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ce(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return gS(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?mS.values():r.isInitialized===!0?gS(nN([s,i])):B0(mS.values(),({key:o})=>!s.has(o)&&!i.has(o))}),Ce(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),AF(this._store,this._store.getState().currentTree,r))),Ce(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new ty(this,ey);return r(s),s}),Ce(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new ty(this,ey);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:xF(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return ut(s.get(r));const i=bF();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw be("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)NF(this._store,r,"get"),fd(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){VF||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ke("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ke("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function sN(t,e,n=!1){const r=t.getState(),s=n?$F():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Mf(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function BF(t){const e=new zf(UF());return t!=null?e.map(t):e}const[vS,iN]=FF((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:ut(r.previousTree);return new zf(sN(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});MF(iN);function zF(t,e="latest"){const n=vS(t,e);return n.isRetained()?n:(iN(),vS(t,e))}class ty extends zf{constructor(e,n){super(sN(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ce(this,"_batch",void 0),Ce(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{fd(i,r.key,1),yS(this.getStore_INTERNAL(),r,s)})}),Ce(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{fd(s,r.key,1),yS(this.getStore_INTERNAL(),r,DF)})}),Ce(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();ey(()=>{for(const[i,o]of r.entries())fd(s,i,1),LF(s,new OF(i),o)})}),this._batch=n}}var jf={Snapshot:zf,MutableSnapshot:ty,freshSnapshot:BF,cloneSnapshot:zF},jF=jf.Snapshot,qF=jf.MutableSnapshot,HF=jf.freshSnapshot,WF=jf.cloneSnapshot,qf=Object.freeze({__proto__:null,Snapshot:jF,MutableSnapshot:qF,freshSnapshot:HF,cloneSnapshot:WF});function KF(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var GF=KF;const{useRef:QF}=Ie;function ZF(t){const e=QF(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var _S=ZF;const{getNextTreeStateVersion:YF,makeEmptyStoreState:oN}=MI,{cleanUpNode:XF,getDownstreamNodes:JF,initializeNode:e7,setNodeValue:t7,setUnvalidatedAtomValue_DEPRECATED:n7}=Ys,{graph:r7}=sc,{cloneGraph:s7}=sc,{getNextStoreID:aN}=$f,{createMutableSource:lm,reactMode:lN}=rc,{applyAtomValueWrites:i7}=Or,{releaseScheduledRetainablesNow:uN}=Hi,{freshSnapshot:o7}=qf,{useCallback:a7,useContext:cN,useEffect:ny,useMemo:l7,useRef:u7,useState:c7}=Ie;function Ba(){throw be("This component must be used inside a <RecoilRoot> component.")}const dN=Object.freeze({storeID:aN(),getState:Ba,replaceState:Ba,getGraph:Ba,subscribeToTransactions:Ba,addTransactionMetadata:Ba});let ry=!1;function wS(t){if(ry)throw be("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ke("recoil_memory_managament_2020")&&Ke("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&uN(t);const n=e.currentTree.version,r=YF();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,s7(ut(e.graphsByVersion.get(n))))}}const hN=Ie.createContext({current:dN}),Hf=()=>cN(hN),fN=Ie.createContext(null);function d7(){return cN(fN)}function H0(t,e,n){const r=JF(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function pN(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!lN().early||e.suspendedComponentResolvers.size>0)&&(H0(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function h7(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,pN(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):M0("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ke("recoil_memory_managament_2020")&&n==null&&uN(t)}finally{e.commitDepth--}}function f7({setNotifyBatcherOfChange:t}){const e=Hf(),[,n]=c7([]);return t(()=>n({})),ny(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),ny(()=>{H8.enqueueExecution("Batcher",()=>{h7(e.current)})}),null}function p7(t,e){const n=oN();return e({set:(r,s)=>{const i=n.currentTree,o=t7(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...i,dirtyAtoms:GF(i.dirtyAtoms,a),atomValues:i7(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=n7(n.currentTree,i,s)})}}),n}function m7(t){const e=o7(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let SS=0;function g7({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return ut(m.get(p));const v=r7();return m.set(p,v),v},o=(p,m)=>{if(m==null){const{transactionSubscriptions:v}=d.current.getState(),w=SS++;return v.set(w,p),{release:()=>{v.delete(w)}}}else{const{nodeTransactionSubscriptions:v}=d.current.getState();v.has(m)||v.set(m,new Map);const w=SS++;return ut(v.get(m)).set(w,p),{release:()=>{const y=v.get(m);y&&(y.delete(w),y.size===0&&v.delete(m))}}}},a=p=>{wS(d.current);for(const m of Object.keys(p))ut(d.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{wS(d.current);const m=ut(s.current.nextTree);let v;try{ry=!0,v=p(m)}finally{ry=!1}v!==m&&(s.current.nextTree=v,lN().early&&H0(d.current,s.current,v),ut(u.current)())},u=u7(null),c=a7(p=>{u.current=p},[u]),d=_S(()=>n??{storeID:aN(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),s=_S(()=>t!=null?p7(d.current,t):e!=null?m7(e):oN());const h=l7(()=>lm==null?void 0:lm(s,()=>s.current.currentTree.version),[s]);return ny(()=>{const p=d.current;for(const m of new Set(p.getState().knownAtoms))e7(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)XF(p,m)}},[d]),Ie.createElement(hN.Provider,{value:d},Ie.createElement(fN.Provider,{value:h},Ie.createElement(f7,{setNotifyBatcherOfChange:c}),r))}function y7(t){const{override:e,...n}=t,r=Hf();return e===!1&&r.current!==dN?t.children:Ie.createElement(g7,n)}function v7(){return Hf().current.storeID}var rs={RecoilRoot:y7,useStoreRef:Hf,useRecoilMutableSource:d7,useRecoilStoreID:v7,notifyComponents_FOR_TESTING:H0,sendEndOfBatchNotifications_FOR_TESTING:pN};function _7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var w7=_7;const{useEffect:S7,useRef:E7}=Ie;function T7(t){const e=E7();return S7(()=>{e.current=t}),e.current}var mN=T7;const{useStoreRef:C7}=rs,{SUSPENSE_TIMEOUT_MS:R7}=Hi,{updateRetainCount:za}=Hi,{RetentionZone:k7}=Uf,{useEffect:I7,useRef:N7}=Ie,{isSSR:ES}=Bf;function A7(t){if(Ke("recoil_memory_managament_2020"))return b7(t)}function b7(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof k7?o:o.key),r=C7();I7(()=>{if(!Ke("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!ES)window.clearTimeout(s.current),s.current=null;else for(const a of n)za(o,a,1);return()=>{for(const a of n)za(o,a,-1)}},[r,...n]);const s=N7(),i=mN(n);if(!ES&&(i===void 0||!w7(i,n))){const o=r.current;for(const a of n)za(o,a,1);if(i)for(const a of i)za(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)za(o,a,-1)},R7)}}var W0=A7;function x7(){return"<component name not available>"}var oc=x7;const{batchUpdates:D7}=Ff,{DEFAULT_VALUE:gN}=Rn,{currentRendererSupportsUseSyncExternalStore:O7,reactMode:Ta,useMutableSource:P7,useSyncExternalStore:L7}=rc,{useRecoilMutableSource:M7,useStoreRef:Pr}=rs,{AbstractRecoilValue:sy,getRecoilValueAsLoadable:ac,setRecoilValue:Rh,setUnvalidatedRecoilValue:$7,subscribeToRecoilValue:ta}=Or,{useCallback:Cn,useEffect:na,useMemo:yN,useRef:Cl,useState:K0}=Ie,{setByAddingToSet:U7}=UI,{isSSR:V7}=Bf;function G0(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),V7&&rt(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:be(`Invalid value of loadable atom "${e.key}"`)}function F7(){const t=oc(),e=Pr(),[,n]=K0([]),r=Cl(new Set);r.current=new Set;const s=Cl(new Set),i=Cl(new Map),o=Cn(l=>{const u=i.current.get(l);u&&(u.release(),i.current.delete(l))},[i]),a=Cn((l,u)=>{i.current.has(u)&&n([])},[]);return na(()=>{const l=e.current;El(r.current,s.current).forEach(u=>{if(i.current.has(u))return;const c=ta(l,new sy(u),h=>a(h,u),t);i.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),El(s.current,r.current).forEach(u=>{o(u)}),s.current=r.current}),na(()=>{const l=i.current;return El(r.current,new Set(l.keys())).forEach(u=>{const c=ta(e.current,new sy(u),d=>a(d,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),yN(()=>{function l(m){return v=>{Rh(e.current,m,v)}}function u(m){return()=>Rh(e.current,m,gN)}function c(m){var v;r.current.has(m.key)||(r.current=U7(r.current,m.key));const w=e.current.getState();return ac(e.current,m,Ta().early&&(v=w.nextTree)!==null&&v!==void 0?v:w.currentTree)}function d(m){const v=c(m);return G0(v,m,e)}function h(m){return[d(m),l(m)]}function p(m){return[c(m),l(m)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const B7={current:0};function z7(t){const e=Pr(),n=oc(),r=Cn(()=>{var a;const l=e.current,u=l.getState(),c=Ta().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:ac(l,t,c),key:t.key}},[e,t]),s=Cn(a=>{let l;return()=>{var u,c;const d=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),i=yN(()=>s(r),[r,s]),o=Cn(a=>{const l=e.current;return ta(l,t,a,n).release},[e,t,n]);return L7(o,i,i).loadable}function j7(t){const e=Pr(),n=Cn(()=>{var u;const c=e.current,d=c.getState(),h=Ta().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return ac(c,t,h)},[e,t]),r=Cn(()=>n(),[n]),s=oc(),i=Cn((u,c)=>{const d=e.current;return ta(d,t,()=>{if(!Ke("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},s).release},[e,t,s,n]),o=M7();if(o==null)throw be("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=P7(o,r,i),l=Cl(a);return na(()=>{l.current=a}),a}function iy(t){const e=Pr(),n=oc(),r=Cn(()=>{var l;const u=e.current,c=u.getState(),d=Ta().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return ac(u,t,d)},[e,t]),s=Cn(()=>({loadable:r(),key:t.key}),[r,t.key]),i=Cn(l=>{const u=s();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[s]);na(()=>{const l=ta(e.current,t,u=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=K0(s);return o.key!==t.key?s().loadable:o.loadable}function q7(t){const e=Pr(),[,n]=K0([]),r=oc(),s=Cn(()=>{var a;const l=e.current,u=l.getState(),c=Ta().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return ac(l,t,c)},[e,t]),i=s(),o=Cl(i);return na(()=>{o.current=i}),na(()=>{const a=e.current,l=a.getState(),u=ta(a,t,d=>{var h;if(!Ke("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(h=o.current)!==null&&h!==void 0&&h.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Ke("recoil_suppress_rerender_in_callback"))return n([]);const d=s();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,s,t,e]),i}function Q0(t){return Ke("recoil_memory_managament_2020")&&W0(t),{TRANSITION_SUPPORT:iy,SYNC_EXTERNAL_STORE:O7()?z7:iy,MUTABLE_SOURCE:j7,LEGACY:q7}[Ta().mode](t)}function vN(t){const e=Pr(),n=Q0(t);return G0(n,t,e)}function Wf(t){const e=Pr();return Cn(n=>{Rh(e.current,t,n)},[e,t])}function H7(t){const e=Pr();return Cn(()=>{Rh(e.current,t,gN)},[e,t])}function W7(t){return[vN(t),Wf(t)]}function K7(t){return[Q0(t),Wf(t)]}function G7(){const t=Pr();return(e,n={})=>{D7(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>$7(t.current,new sy(s),r))})}}function _N(t){return Ke("recoil_memory_managament_2020")&&W0(t),iy(t)}function wN(t){const e=Pr(),n=_N(t);return G0(n,t,e)}function Q7(t){return[wN(t),Wf(t)]}var Z7={recoilComponentGetRecoilValueCount_FOR_TESTING:B7,useRecoilInterface:F7,useRecoilState:W7,useRecoilStateLoadable:K7,useRecoilValue:vN,useRecoilValueLoadable:Q0,useResetRecoilState:H7,useSetRecoilState:Wf,useSetUnvalidatedAtomValues:G7,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:_N,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:wN,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Q7};function Y7(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var X7=Y7;function J7(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var eB=J7;function tB(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var nB=tB;const{batchUpdates:rB}=Ff,{DEFAULT_VALUE:sB,getNode:SN,nodes:iB}=Rn,{useStoreRef:Z0}=rs,{AbstractRecoilValue:oB,setRecoilValueLoadable:aB}=Or,{SUSPENSE_TIMEOUT_MS:lB}=Hi,{cloneSnapshot:kh}=qf,{useCallback:Kf,useEffect:EN,useRef:TS,useState:uB}=Ie,{isSSR:CS}=Bf;function Gf(t){const e=Z0();EN(()=>e.current.subscribeToTransactions(t).release,[t,e])}function RS(t){const e=t.atomValues.toMap(),n=Ch(X7(e,(r,s)=>{const o=SN(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return nB(t.nonvalidatedAtoms.toMap(),n)}function cB(t){Gf(Kf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=RS(r),i=RS(n),o=Ch(iB,l=>{var u,c,d,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=eB(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function dB(t){Gf(Kf(e=>{const n=kh(e,"latest"),r=kh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function hB(){const t=Z0(),[e,n]=uB(()=>kh(t.current)),r=mN(e),s=TS(),i=TS();if(Gf(Kf(a=>n(kh(a)),[])),EN(()=>{const a=e.retain();if(s.current&&!CS){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!CS){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},lB)}return e}function TN(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;rB(()=>{const o=new Set;for(const u of[s.atomValues.keys(),i.atomValues.keys()])for(const c of u){var a,l;((a=s.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&SN(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{aB(t,new oB(u),i.atomValues.has(u)?ut(i.atomValues.get(u)):sB)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function fB(){const t=Z0();return Kf(e=>TN(t.current,e),[t])}var CN={useRecoilSnapshot:hB,gotoSnapshot:TN,useGotoRecoilSnapshot:fB,useRecoilTransactionObserver:dB,useTransactionObservation_DEPRECATED:cB,useTransactionSubscription_DEPRECATED:Gf};const{peekNodeInfo:pB}=Ys,{useStoreRef:mB}=rs;function gB(){const t=mB();return({key:e})=>pB(t.current,t.current.getState().currentTree,e)}var yB=gB;const{reactMode:vB}=rc,{RecoilRoot:_B,useStoreRef:wB}=rs,{useMemo:SB}=Ie;function EB(){vB().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=wB().current;return SB(()=>{function e({children:n}){return Ie.createElement(_B,{store_INTERNAL:t},n)}return e},[t])}var TB=EB;const{loadableWithValue:CB}=nc,{initializeNode:RB}=Ys,{DEFAULT_VALUE:kB,getNode:IB}=Rn,{copyTreeState:NB,getRecoilValueAsLoadable:AB,invalidateDownstreams:bB,writeLoadableToTreeState:xB}=Or;function kS(t){return IB(t.key).nodeType==="atom"}class DB{constructor(e,n){Ce(this,"_store",void 0),Ce(this,"_treeState",void 0),Ce(this,"_changes",void 0),Ce(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!kS(r))throw be("Reading selectors within atomicUpdate is not supported");const s=AB(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:be(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ce(this,"set",(r,s)=>{if(!kS(r))throw be("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else RB(this._store,r.key,"set"),this._changes.set(r.key,s)}),Ce(this,"reset",r=>{this.set(r,kB)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=NB(this._treeState);for(const[n,r]of this._changes)xB(e,n,CB(r));return bB(this._store,e),e}}function OB(t){return e=>{t.replaceState(n=>{const r=new DB(t,n);return e(r),r.newTreeState_INTERNAL()})}}var PB={atomicUpdater:OB},LB=PB.atomicUpdater,RN=Object.freeze({__proto__:null,atomicUpdater:LB});function MB(t,e){if(!t)throw new Error(e)}var $B=MB,il=$B;const{atomicUpdater:UB}=RN,{batchUpdates:VB}=Ff,{DEFAULT_VALUE:FB}=Rn,{useStoreRef:BB}=rs,{refreshRecoilValue:zB,setRecoilValue:IS}=Or,{cloneSnapshot:jB}=qf,{gotoSnapshot:qB}=CN,{useCallback:HB}=Ie;class kN{}const WB=new kN;function IN(t,e,n,r){let s=WB,i;if(VB(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw be(a);const l=VI({...r??{},set:(c,d)=>IS(t,c,d),reset:c=>IS(t,c,FB),refresh:c=>zB(t,c),gotoSnapshot:c=>qB(t,c),transact_UNSTABLE:c=>UB(t)(c)},{snapshot:()=>{const c=jB(t);return i=c.retain(),c}}),u=e(l);if(typeof u!="function")throw be(a);s=u(...n)}),s instanceof kN&&il(!1),rt(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function KB(t,e){const n=BB();return HB((...r)=>IN(n.current,t,r),e!=null?[...e,n]:void 0)}var NN={recoilCallback:IN,useRecoilCallback:KB};const{useStoreRef:GB}=rs,{refreshRecoilValue:QB}=Or,{useCallback:ZB}=Ie;function YB(t){const e=GB();return ZB(()=>{const n=e.current;QB(n,t)},[t,e])}var XB=YB;const{atomicUpdater:JB}=RN,{useStoreRef:ez}=rs,{useMemo:tz}=Ie;function nz(t,e){const n=ez();return tz(()=>(...r)=>{JB(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var rz=nz;class sz{constructor(e){Ce(this,"value",void 0),this.value=e}}var iz={WrappedValue:sz},oz=iz.WrappedValue,AN=Object.freeze({__proto__:null,WrappedValue:oz});const{isFastRefreshEnabled:az}=rc;class NS extends Error{}class lz{constructor(e){var n,r,s;Ce(this,"_name",void 0),Ce(this,"_numLeafs",void 0),Ce(this,"_root",void 0),Ce(this,"_onHit",void 0),Ce(this,"_onSet",void 0),Ce(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let u,c;for(const[w,y]of e){var d,h,p;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const g=u;if(u=g?g.branches.get(c):f,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:w,parent:g,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==w)throw this.invalidCacheError();g==null||g.branches.set(c,u),r==null||(h=r.onNodeVisit)===null||h===void 0||h.call(r,u),c=this._mapNodeValue(y),this._root=(p=this._root)!==null&&p!==void 0?p:u}const m=u?(i=u)===null||i===void 0?void 0:i.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const v={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,v),this._root=(a=this._root)!==null&&a!==void 0?a:v,this._numLeafs++,this._onSet(v),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,v)};try{s()}catch(i){if(i instanceof NS)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=az()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw M0(e+(this._name!=null?` - ${this._name}`:"")),new NS}}var uz={TreeCache:lz},cz=uz.TreeCache,bN=Object.freeze({__proto__:null,TreeCache:cz});class dz{constructor(e){var n;Ce(this,"_maxSize",void 0),Ce(this,"_size",void 0),Ce(this,"_head",void 0),Ce(this,"_tail",void 0),Ce(this,"_map",void 0),Ce(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=ut(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var hz={LRUCache:dz},fz=hz.LRUCache,xN=Object.freeze({__proto__:null,LRUCache:fz});const{LRUCache:pz}=xN,{TreeCache:mz}=bN;function gz({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new pz({maxSize:e}),s=new mz({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var AS=gz;function Qn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw be("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(rt(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Qn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Qn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Qn(i,e)]=o;return Qn(s,e,n)}return t instanceof Set?Qn(Array.from(t).sort((s,i)=>Qn(s,e).localeCompare(Qn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Qn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Qn(s,e)}:${Qn(t[s],e,s)}`).join(",")}}`}function yz(t,e={allowFunctions:!1}){return Qn(t,e)}var Qf=yz;const{TreeCache:vz}=bN,Vc={equality:"reference",eviction:"keep-all",maxSize:1/0};function _z({equality:t=Vc.equality,eviction:e=Vc.eviction,maxSize:n=Vc.maxSize}=Vc,r){const s=wz(t);return Sz(e,n,s,r)}function wz(t){switch(t){case"reference":return e=>e;case"value":return e=>Qf(e)}throw be(`Unrecognized equality policy ${t}`)}function Sz(t,e,n,r){switch(t){case"keep-all":return new vz({name:r,mapNodeValue:n});case"lru":return AS({name:r,maxSize:ut(e),mapNodeValue:n});case"most-recent":return AS({name:r,maxSize:1,mapNodeValue:n})}throw be(`Unrecognized eviction policy ${t}`)}var Ez=_z;function Tz(t){return()=>null}var Cz={startPerfBlock:Tz};const{isLoadable:Rz,loadableWithError:Fc,loadableWithPromise:kz,loadableWithValue:um}=nc,{WrappedValue:DN}=AN,{getNodeLoadable:Bc,peekNodeLoadable:Iz,setNodeValue:Nz}=Ys,{saveDepsToStore:Az}=sc,{DEFAULT_VALUE:bz,getConfigDeletionHandler:xz,getNode:Dz,registerNode:bS}=Rn,{isRecoilValue:Oz}=ea,{markRecoilValueModified:xS}=Or,{retainedByOptionWithDefault:Pz}=Hi,{recoilCallback:Lz}=NN,{startPerfBlock:Mz}=Cz;class ON{}const ja=new ON,qa=[],zc=new Map,$z=(()=>{let t=0;return()=>t++})();function PN(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=Ez(s??{equality:"reference",eviction:"keep-all"},n),l=Pz(t.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Ke("recoil_memory_managament_2020")||c>0}function h(R){return R.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return xz(n)!==void 0&&!d()}function m(R,O,P,ne,j){je(O,ne,j),v(R,P)}function v(R,O){we(R,O)&&K(R),y(O,!0)}function w(R,O){we(R,O)&&(ut(ee(R)).stateVersions.clear(),y(O,!1))}function y(R,O){const P=zc.get(R);if(P!=null){for(const ne of P)xS(ne,ut(e));O&&zc.delete(R)}}function f(R,O){let P=zc.get(O);P==null&&zc.set(O,P=new Set),P.add(R)}function g(R,O,P,ne,j,ge){return O.then(ke=>{if(!d())throw K(R),ja;const ae=um(ke);return m(R,P,j,ae,ne),ke}).catch(ke=>{if(!d())throw K(R),ja;if(rt(ke))return S(R,ke,P,ne,j,ge);const ae=Fc(ke);throw m(R,P,j,ae,ne),ke})}function S(R,O,P,ne,j,ge){return O.then(ke=>{if(!d())throw K(R),ja;ge.loadingDepKey!=null&&ge.loadingDepPromise===O?P.atomValues.set(ge.loadingDepKey,um(ke)):R.getState().knownSelectors.forEach(Be=>{P.atomValues.delete(Be)});const ae=A(R,P);if(ae&&ae.state!=="loading"){if((we(R,j)||ee(R)==null)&&v(R,j),ae.state==="hasValue")return ae.contents;throw ae.contents}if(!we(R,j)){const Be=X(R,P);if(Be!=null)return Be.loadingLoadable.contents}const[Ge,St]=N(R,P,j);if(Ge.state!=="loading"&&m(R,P,j,Ge,St),Ge.state==="hasError")throw Ge.contents;return Ge.contents}).catch(ke=>{if(ke instanceof ON)throw ja;if(!d())throw K(R),ja;const ae=Fc(ke);throw m(R,P,j,ae,ne),ke})}function I(R,O,P,ne){var j,ge,ke,ae;if(we(R,ne)||O.version===((j=R.getState())===null||j===void 0||(ge=j.currentTree)===null||ge===void 0?void 0:ge.version)||O.version===((ke=R.getState())===null||ke===void 0||(ae=ke.nextTree)===null||ae===void 0?void 0:ae.version)){var Ge,St,Be;Az(n,P,R,(Ge=(St=R.getState())===null||St===void 0||(Be=St.nextTree)===null||Be===void 0?void 0:Be.version)!==null&&Ge!==void 0?Ge:R.getState().currentTree.version)}for(const Xe of P)o.add(Xe)}function N(R,O,P){const ne=Mz(n);let j=!0,ge=!0;const ke=()=>{ne(),ge=!1};let ae,Ge=!1,St;const Be={loadingDepKey:null,loadingDepPromise:null},Xe=new Map;function kn({key:_}){const k=Bc(R,O,_);switch(Xe.set(_,k),j||(I(R,O,new Set(Xe.keys()),P),w(R,P)),k.state){case"hasValue":return k.contents;case"hasError":throw k.contents;case"loading":throw Be.loadingDepKey=_,Be.loadingDepPromise=k.contents,k.contents}throw be("Invalid Loadable state")}const dr=_=>(...k)=>{if(ge)throw be("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&il(!1),Lz(R,_,k,{node:e})};try{ae=r({get:kn,getCallback:dr}),ae=Oz(ae)?kn(ae):ae,Rz(ae)&&(ae.state==="hasError"&&(Ge=!0),ae=ae.contents),rt(ae)?ae=g(R,ae,O,Xe,P,Be).finally(ke):ke(),ae=ae instanceof DN?ae.value:ae}catch(_){ae=_,rt(ae)?ae=S(R,ae,O,Xe,P,Be).finally(ke):(Ge=!0,ke())}return Ge?St=Fc(ae):rt(ae)?St=kz(ae):St=um(ae),j=!1,Te(R,P,Xe),I(R,O,new Set(Xe.keys()),P),[St,Xe]}function A(R,O){let P=O.atomValues.get(n);if(P!=null)return P;const ne=new Set;try{P=a.get(ge=>(typeof ge!="string"&&il(!1),Bc(R,O,ge).contents),{onNodeVisit:ge=>{ge.type==="branch"&&ge.nodeKey!==n&&ne.add(ge.nodeKey)}})}catch(ge){throw be(`Problem with cache lookup for selector "${n}": ${ge.message}`)}if(P){var j;O.atomValues.set(n,P),I(R,O,ne,(j=ee(R))===null||j===void 0?void 0:j.executionID)}return P}function b(R,O){const P=A(R,O);if(P!=null)return K(R),P;const ne=X(R,O);if(ne!=null){var j;return((j=ne.loadingLoadable)===null||j===void 0?void 0:j.state)==="loading"&&f(R,ne.executionID),ne.loadingLoadable}const ge=$z(),[ke,ae]=N(R,O,ge);return ke.state==="loading"?(Ve(R,ge,ke,ae,O),f(R,ge)):(K(R),je(O,ke,ae)),ke}function X(R,O){const P=nN([u.has(R)?[ut(u.get(R))]:[],Mf(B0(u,([j])=>j!==R),([,j])=>j)]);function ne(j){for(const[ge,ke]of j)if(!Bc(R,O,ge).is(ke))return!0;return!1}for(const j of P){if(j.stateVersions.get(O.version)||!ne(j.depValuesDiscoveredSoFarDuringAsyncWork))return j.stateVersions.set(O.version,!0),j;j.stateVersions.set(O.version,!1)}}function ee(R){return u.get(R)}function Ve(R,O,P,ne,j){u.set(R,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:O,loadingLoadable:P,stateVersions:new Map([[j.version,!0]])})}function Te(R,O,P){if(we(R,O)){const ne=ee(R);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=P)}}function K(R){u.delete(R)}function we(R,O){var P;return O===((P=ee(R))===null||P===void 0?void 0:P.executionID)}function Ye(R){return Array.from(R.entries()).map(([O,P])=>[O,P.contents])}function je(R,O,P){R.atomValues.set(n,O);try{a.set(Ye(P),O)}catch(ne){throw be(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function We(R){if(qa.includes(n)){const O=`Recoil selector has circular dependencies: ${qa.slice(qa.indexOf(n)).join("  ")}`;return Fc(be(O))}qa.push(n);try{return R()}finally{qa.pop()}}function B(R,O){const P=O.atomValues.get(n);return P??a.get(ne=>{var j;return typeof ne!="string"&&il(!1),(j=Iz(R,O,ne))===null||j===void 0?void 0:j.contents})}function oe(R,O){return We(()=>b(R,O))}function ce(R){R.atomValues.delete(n)}function Fe(R,O){e==null&&il(!1);for(const ne of o){var P;const j=Dz(ne);(P=j.clearCache)===null||P===void 0||P.call(j,R,O)}o.clear(),ce(O),a.clear(),xS(R,e)}return i!=null?e=bS({key:n,nodeType:"selector",peek:B,get:oe,set:(O,P,ne)=>{let j=!1;const ge=new Map;function ke({key:Be}){if(j)throw be("Recoil: Async selector sets are not currently supported.");const Xe=Bc(O,P,Be);if(Xe.state==="hasValue")return Xe.contents;if(Xe.state==="loading"){const kn=`Getting value of asynchronous atom or selector "${Be}" in a pending state while setting selector "${n}" is not yet supported.`;throw be(kn)}else throw Xe.contents}function ae(Be,Xe){if(j)throw be("Recoil: Async selector sets are not currently supported.");const kn=typeof Xe=="function"?Xe(ke(Be)):Xe;Nz(O,P,Be.key,kn).forEach((_,k)=>ge.set(k,_))}function Ge(Be){ae(Be,bz)}const St=i({set:ae,get:ke,reset:Ge},ne);if(St!==void 0)throw rt(St)?be("Recoil: Async selector sets are not currently supported."):be("Recoil: selector set should be a void function.");return j=!0,ge},init:h,invalidate:ce,clearCache:Fe,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=bS({key:n,nodeType:"selector",peek:B,get:oe,init:h,invalidate:ce,clearCache:Fe,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}PN.value=t=>new DN(t);var ra=PN;const{isLoadable:Uz,loadableWithError:cm,loadableWithPromise:dm,loadableWithValue:Zi}=nc,{WrappedValue:LN}=AN,{peekNodeInfo:Vz}=Ys,{DEFAULT_VALUE:ni,DefaultValue:cs,getConfigDeletionHandler:MN,registerNode:Fz,setConfigDeletionHandler:Bz}=Rn,{isRecoilValue:zz}=ea,{getRecoilValueAsLoadable:jz,markRecoilValueModified:qz,setRecoilValue:DS,setRecoilValueLoadable:Hz}=Or,{retainedByOptionWithDefault:Wz}=Hi,Ha=t=>t instanceof LN?t.value:t;function Kz(t){const{key:e,persistence_UNSTABLE:n}=t,r=Wz(t.retainedBy_UNSTABLE);let s=0;function i(f){return dm(f.then(g=>(o=Zi(g),g)).catch(g=>{throw o=cm(g),g}))}let o=rt(t.default)?i(t.default):Uz(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:Zi(Ha(t.default));o.contents;let a;const l=new Map;function u(f){return f}function c(f,g){const S=g.then(I=>{var N,A;return((A=((N=f.getState().nextTree)!==null&&N!==void 0?N:f.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===S&&DS(f,y,I),I}).catch(I=>{var N,A;throw((A=((N=f.getState().nextTree)!==null&&N!==void 0?N:f.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===S&&Hz(f,y,cm(I)),I});return S}function d(f,g,S){var I;s++;const N=()=>{var K;s--,(K=l.get(f))===null||K===void 0||K.forEach(we=>we()),l.delete(f)};if(f.getState().knownAtoms.add(e),o.state==="loading"){const K=()=>{var we;((we=f.getState().nextTree)!==null&&we!==void 0?we:f.getState().currentTree).atomValues.has(e)||qz(f,y)};o.contents.finally(K)}const A=(I=t.effects)!==null&&I!==void 0?I:t.effects_UNSTABLE;if(A!=null){let We=function(O){if(we&&O.key===e){const P=K;return P instanceof cs?h(f,g):rt(P)?dm(P.then(ne=>ne instanceof cs?o.toPromise():ne)):Zi(P)}return jz(f,O)},B=function(O){return We(O).toPromise()},oe=function(O){var P;const ne=Vz(f,(P=f.getState().nextTree)!==null&&P!==void 0?P:f.getState().currentTree,O.key);return we&&O.key===e&&!(K instanceof cs)?{...ne,isSet:!0,loadable:We(O)}:ne};var ee=We,Ve=B,Te=oe;let K=ni,we=!0,Ye=!1,je=null;const ce=O=>P=>{if(we){const ne=We(y),j=ne.state==="hasValue"?ne.contents:ni;K=typeof P=="function"?P(j):P,rt(K)&&(K=K.then(ge=>(je={effect:O,value:ge},ge)))}else{if(rt(P))throw be("Setting atoms to async values is not implemented.");typeof P!="function"&&(je={effect:O,value:Ha(P)}),DS(f,y,typeof P=="function"?ne=>{const j=Ha(P(ne));return je={effect:O,value:j},j}:Ha(P))}},Fe=O=>()=>ce(O)(ni),R=O=>P=>{var ne;const{release:j}=f.subscribeToTransactions(ge=>{var ke;let{currentTree:ae,previousTree:Ge}=ge.getState();Ge||(Ge=ae);const St=(ke=ae.atomValues.get(e))!==null&&ke!==void 0?ke:o;if(St.state==="hasValue"){var Be,Xe,kn,dr;const _=St.contents,k=(Be=Ge.atomValues.get(e))!==null&&Be!==void 0?Be:o,x=k.state==="hasValue"?k.contents:ni;((Xe=je)===null||Xe===void 0?void 0:Xe.effect)!==O||((kn=je)===null||kn===void 0?void 0:kn.value)!==_?P(_,x,!ae.atomValues.has(e)):((dr=je)===null||dr===void 0?void 0:dr.effect)===O&&(je=null)}},e);l.set(f,[...(ne=l.get(f))!==null&&ne!==void 0?ne:[],j])};for(const O of A)try{const P=O({node:y,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:S,setSelf:ce(O),resetSelf:Fe(O),onSet:R(O),getPromise:B,getLoadable:We,getInfo_UNSTABLE:oe});if(P!=null){var b;l.set(f,[...(b=l.get(f))!==null&&b!==void 0?b:[],P])}}catch(P){K=P,Ye=!0}if(we=!1,!(K instanceof cs)){var X;const O=Ye?cm(K):rt(K)?dm(c(f,K)):Zi(Ha(K));O.contents,g.atomValues.set(e,O),(X=f.getState().nextTree)===null||X===void 0||X.atomValues.set(e,O)}}return N}function h(f,g){var S,I;return(S=(I=g.atomValues.get(e))!==null&&I!==void 0?I:a)!==null&&S!==void 0?S:o}function p(f,g){if(g.atomValues.has(e))return ut(g.atomValues.get(e));if(g.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=g.nonvalidatedAtoms.get(e),I=n.validator(S,ni);return a=I instanceof cs?o:Zi(I),a}else return o}function m(){a=void 0}function v(f,g,S){if(g.atomValues.has(e)){const I=ut(g.atomValues.get(e));if(I.state==="hasValue"&&S===I.contents)return new Map}else if(!g.nonvalidatedAtoms.has(e)&&S instanceof cs)return new Map;return a=void 0,new Map().set(e,Zi(S))}function w(){return MN(e)!==void 0&&s<=0}const y=Fz({key:e,nodeType:"atom",peek:h,get:p,set:v,init:d,invalidate:m,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return y}function Y0(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return zz(n)?Gz({...e,default:n}):Kz({...e,default:n})}function Gz(t){const e=Y0({...t,default:ni,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof cs?r:ut(t.persistence_UNSTABLE).validator(r,ni)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=ra({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof cs?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Bz(n.key,MN(t.key)),n}Y0.value=t=>new LN(t);var $N=Y0;class Qz{constructor(e){var n;Ce(this,"_map",void 0),Ce(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Zz={MapCache:Qz},Yz=Zz.MapCache,Xz=Object.freeze({__proto__:null,MapCache:Yz});const{LRUCache:OS}=xN,{MapCache:Jz}=Xz,jc={equality:"reference",eviction:"none",maxSize:1/0};function ej({equality:t=jc.equality,eviction:e=jc.eviction,maxSize:n=jc.maxSize}=jc){const r=tj(t);return nj(e,n,r)}function tj(t){switch(t){case"reference":return e=>e;case"value":return e=>Qf(e)}throw be(`Unrecognized equality policy ${t}`)}function nj(t,e,n){switch(t){case"keep-all":return new Jz({mapKey:n});case"lru":return new OS({mapKey:n,maxSize:ut(e)});case"most-recent":return new OS({mapKey:n,maxSize:1})}throw be(`Unrecognized eviction policy ${t}`)}var UN=ej;const{setConfigDeletionHandler:rj}=Rn;function sj(t){var e,n;const r=UN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),d=$N({...u,key:`${t.key}__${(i=Qf(s))!==null&&i!==void 0?i:"void"}`,default:typeof c=="function"?c(s):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,d),rj(d.key,()=>{r.delete(s)}),d}}var ij=sj;const{setConfigDeletionHandler:oj}=Rn;let aj=0;function lj(t){var e,n;const r=UN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(h){throw be(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=Qf(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${aj++}`,l=h=>t.get(s)(h),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const h=t.set;d=ra({key:a,get:l,set:(m,v)=>h(s)(m,v),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=ra({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(s,d),oj(d.key,()=>{r.delete(s)}),d}}var Xs=lj;const uj=Xs({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function cj(t){return uj(t)}var dj=cj;const hj=Xs({key:"__error",get:t=>()=>{throw be(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function fj(t){return hj(t)}var pj=fj;function mj(t){return t}var gj=mj;const{loadableWithError:VN,loadableWithPromise:FN,loadableWithValue:BN}=nc;function Zf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function yj(t){return t!=null&&!rt(t)}function Yf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function oy(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function Do(t,e,n){const r=n.map((s,i)=>s==null?BN(e[i]):rt(s)?FN(s):VN(s));return oy(t,r)}function vj(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const _j=Xs({key:"__waitForNone",get:t=>({get:e})=>{const n=Yf(t),[r,s]=Zf(e,n);return Do(t,r,s)},dangerouslyAllowMutability:!0}),wj=Xs({key:"__waitForAny",get:t=>({get:e})=>{const n=Yf(t),[r,s]=Zf(e,n);return s.some(i=>!rt(i))?Do(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())rt(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i(Do(t,r,s))}).catch(l=>{s[o]=l,i(Do(t,r,s))})})},dangerouslyAllowMutability:!0}),Sj=Xs({key:"__waitForAll",get:t=>({get:e})=>{const n=Yf(t),[r,s]=Zf(e,n);if(s.every(o=>o==null))return oy(t,r);const i=s.find(yj);if(i!=null)throw i;return Promise.all(s).then(o=>oy(t,vj(r,o)))},dangerouslyAllowMutability:!0}),Ej=Xs({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Yf(t),[r,s]=Zf(e,n);return s.every(i=>!rt(i))?Do(t,r,s):Promise.all(s.map((i,o)=>rt(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>Do(t,r,s))},dangerouslyAllowMutability:!0}),Tj=Xs({key:"__noWait",get:t=>({get:e})=>{try{return ra.value(BN(e(t)))}catch(n){return ra.value(rt(n)?FN(n):VN(n))}},dangerouslyAllowMutability:!0});var Cj={waitForNone:_j,waitForAny:wj,waitForAll:Sj,waitForAllSettled:Ej,noWait:Tj};const{RecoilLoadable:Rj}=nc,{DefaultValue:kj}=Rn,{RecoilRoot:Ij,useRecoilStoreID:Nj}=rs,{isRecoilValue:Aj}=ea,{retentionZone:bj}=Uf,{freshSnapshot:xj}=qf,{useRecoilState:Dj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Oj,useRecoilStateLoadable:Pj,useRecoilValue:Lj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Mj,useRecoilValueLoadable:$j,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Uj,useResetRecoilState:Vj,useSetRecoilState:Fj}=Z7,{useGotoRecoilSnapshot:Bj,useRecoilSnapshot:zj,useRecoilTransactionObserver:jj}=CN,{useRecoilCallback:qj}=NN,{noWait:Hj,waitForAll:Wj,waitForAllSettled:Kj,waitForAny:Gj,waitForNone:Qj}=Cj;var Zj={DefaultValue:kj,isRecoilValue:Aj,RecoilLoadable:Rj,RecoilEnv:Ea,RecoilRoot:Ij,useRecoilStoreID:Nj,useRecoilBridgeAcrossReactRoots_UNSTABLE:TB,atom:$N,selector:ra,atomFamily:ij,selectorFamily:Xs,constSelector:dj,errorSelector:pj,readOnlySelector:gj,noWait:Hj,waitForNone:Qj,waitForAny:Gj,waitForAll:Wj,waitForAllSettled:Kj,useRecoilValue:Lj,useRecoilValueLoadable:$j,useRecoilState:Dj,useRecoilStateLoadable:Pj,useSetRecoilState:Fj,useResetRecoilState:Vj,useGetRecoilValueInfo_UNSTABLE:yB,useRecoilRefresher_UNSTABLE:XB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Uj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Mj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Oj,useRecoilCallback:qj,useRecoilTransaction_UNSTABLE:rz,useGotoRecoilSnapshot:Bj,useRecoilSnapshot:zj,useRecoilTransactionObserver_UNSTABLE:jj,snapshot_UNSTABLE:xj,useRetain:W0,retentionZone:bj},Yj=Zj.RecoilRoot;const Xj=new Px;hm.createRoot(document.getElementById("root")).render(T(Ie.StrictMode,{children:T(Qx,{client:Xj,children:T(Yj,{children:T(YU,{children:T(i8,{})})})})}));
